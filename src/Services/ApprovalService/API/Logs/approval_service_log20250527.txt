2025-05-27 17:01:15.008 +09:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-05-27 17:01:15.654 +09:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-05-27 17:01:16.300 +09:00 [DBG] The property 'Approver.ApprovalId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-05-27 17:01:16.808 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-27 17:01:16.827 +09:00 [DBG] Creating DbConnection.
2025-05-27 17:01:16.846 +09:00 [DBG] Created DbConnection. (17ms).
2025-05-27 17:01:16.848 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:01:16.861 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:01:16.864 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:01:16.867 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:01:16.870 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-27 17:01:16.870 +09:00 [DBG] Creating DbConnection.
2025-05-27 17:01:16.871 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-27 17:01:16.877 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2025-05-27 17:01:16.878 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (7ms).
2025-05-27 17:01:16.878 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:01:16.880 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:01:16.886 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-27 17:01:16.913 +09:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-27 17:01:16.915 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:01:16.918 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (2ms).
2025-05-27 17:01:16.923 +09:00 [DBG] Creating DbConnection.
2025-05-27 17:01:16.927 +09:00 [DBG] Created DbConnection. (3ms).
2025-05-27 17:01:16.928 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:01:16.929 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:01:16.930 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:01:16.930 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:01:16.933 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-27 17:01:16.934 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-05-27 17:01:16.934 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-05-27 17:01:16.934 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:01:16.936 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:01:16.937 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-27 17:01:16.937 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-27 17:01:16.938 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:01:16.938 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:01:16.997 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .Any()'
2025-05-27 17:01:17.296 +09:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-05-27 17:01:17.322 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:01:17.323 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:01:17.323 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 17:01:17.323 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 17:01:17.323 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 17:01:17.324 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-05-27 17:01:17.326 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-05-27 17:01:17.330 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:01:17.330 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 3ms reading results.
2025-05-27 17:01:17.332 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:01:17.333 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:01:17.335 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-27 17:01:17.336 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:01:17.336 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:01:17.339 +09:00 [DBG] Hosting starting
2025-05-27 17:01:17.380 +09:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-05-27 17:01:17.380 +09:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-05-27 17:01:17.857 +09:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address https://127.0.0.1:5001: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (48): Address already in use
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-05-27 17:04:15.445 +09:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-05-27 17:04:15.522 +09:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-05-27 17:04:15.735 +09:00 [DBG] The property 'Approver.ApprovalId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-05-27 17:04:15.773 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-27 17:04:15.777 +09:00 [DBG] Creating DbConnection.
2025-05-27 17:04:15.782 +09:00 [DBG] Created DbConnection. (4ms).
2025-05-27 17:04:15.783 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:04:15.788 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:04:15.789 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:04:15.791 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:04:15.793 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-27 17:04:15.793 +09:00 [DBG] Creating DbConnection.
2025-05-27 17:04:15.793 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-27 17:04:15.795 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2025-05-27 17:04:15.796 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (3ms).
2025-05-27 17:04:15.796 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:04:15.796 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:04:15.799 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-27 17:04:15.811 +09:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-27 17:04:15.812 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:04:15.813 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (1ms).
2025-05-27 17:04:15.815 +09:00 [DBG] Creating DbConnection.
2025-05-27 17:04:15.815 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-27 17:04:15.815 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:04:15.815 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:04:15.816 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:04:15.816 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:04:15.816 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-27 17:04:15.816 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-05-27 17:04:15.816 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-05-27 17:04:15.816 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:04:15.816 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:04:15.816 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-27 17:04:15.816 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-27 17:04:15.816 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:04:15.816 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:04:15.834 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .Any()'
2025-05-27 17:04:15.923 +09:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-05-27 17:04:15.934 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:04:15.935 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:04:15.935 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 17:04:15.935 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 17:04:15.935 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 17:04:15.935 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-05-27 17:04:15.936 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-05-27 17:04:15.938 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:04:15.938 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 1ms reading results.
2025-05-27 17:04:15.939 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:04:15.939 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:04:15.940 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-27 17:04:15.940 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:04:15.940 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:04:15.942 +09:00 [DBG] Hosting starting
2025-05-27 17:04:15.955 +09:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-05-27 17:04:15.956 +09:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-05-27 17:04:16.232 +09:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address https://127.0.0.1:5001: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (48): Address already in use
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-05-27 17:05:19.259 +09:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-05-27 17:05:19.338 +09:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-05-27 17:05:19.563 +09:00 [DBG] The property 'Approver.ApprovalId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-05-27 17:05:19.602 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-27 17:05:19.606 +09:00 [DBG] Creating DbConnection.
2025-05-27 17:05:19.611 +09:00 [DBG] Created DbConnection. (4ms).
2025-05-27 17:05:19.612 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:05:19.617 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:05:19.619 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:05:19.621 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:05:19.622 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-27 17:05:19.622 +09:00 [DBG] Creating DbConnection.
2025-05-27 17:05:19.622 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-27 17:05:19.624 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2025-05-27 17:05:19.625 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (3ms).
2025-05-27 17:05:19.625 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:05:19.626 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:05:19.628 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-27 17:05:19.641 +09:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-27 17:05:19.642 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:05:19.643 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (1ms).
2025-05-27 17:05:19.645 +09:00 [DBG] Creating DbConnection.
2025-05-27 17:05:19.645 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-27 17:05:19.645 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:05:19.646 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:05:19.646 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:05:19.647 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:05:19.647 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-27 17:05:19.647 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-05-27 17:05:19.647 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-05-27 17:05:19.647 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:05:19.647 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:05:19.647 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-27 17:05:19.648 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-27 17:05:19.648 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:05:19.648 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:05:19.668 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .Any()'
2025-05-27 17:05:19.768 +09:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-05-27 17:05:19.785 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:05:19.786 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:05:19.786 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 17:05:19.786 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 17:05:19.786 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 17:05:19.786 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-05-27 17:05:19.788 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-05-27 17:05:19.790 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:05:19.790 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 2ms reading results.
2025-05-27 17:05:19.791 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:05:19.792 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:05:19.792 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-27 17:05:19.793 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:05:19.793 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:05:19.794 +09:00 [DBG] Hosting starting
2025-05-27 17:05:19.812 +09:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-05-27 17:05:19.812 +09:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-05-27 17:05:20.081 +09:00 [INF] Now listening on: https://localhost:5001
2025-05-27 17:05:20.082 +09:00 [INF] Now listening on: http://localhost:5229
2025-05-27 17:05:20.082 +09:00 [DBG] Loaded hosting startup assembly ApprovalService.API
2025-05-27 17:05:20.082 +09:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-27 17:05:20.082 +09:00 [INF] Hosting environment: Development
2025-05-27 17:05:20.082 +09:00 [INF] Content root path: /Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API
2025-05-27 17:05:20.083 +09:00 [DBG] Hosting started
2025-05-27 17:05:24.341 +09:00 [DBG] Connection id "0HNCSUKTVD6LH" accepted.
2025-05-27 17:05:24.342 +09:00 [DBG] Connection id "0HNCSUKTVD6LH" started.
2025-05-27 17:05:24.402 +09:00 [DBG] Connection 0HNCSUKTVD6LH established using the following protocol: "Tls12"
2025-05-27 17:05:24.435 +09:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - null null
2025-05-27 17:05:24.443 +09:00 [DBG] No candidates found for the request path '/'
2025-05-27 17:05:24.443 +09:00 [DBG] Request did not match any endpoints
2025-05-27 17:05:24.458 +09:00 [DBG] The request path  does not match the path filter
2025-05-27 17:05:24.460 +09:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - 404 0 null 26.848ms
2025-05-27 17:05:24.465 +09:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5001/, Response status code: 404
2025-05-27 17:05:24.783 +09:00 [DBG] Connection id "0HNCSUKTVD6LH" received FIN.
2025-05-27 17:05:24.784 +09:00 [DBG] Connection id "0HNCSUKTVD6LH" is closed. The last processed stream ID was 1.
2025-05-27 17:05:24.785 +09:00 [DBG] Connection id "0HNCSUKTVD6LH" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-27 17:05:24.787 +09:00 [DBG] The connection queue processing loop for 0HNCSUKTVD6LH completed.
2025-05-27 17:05:24.788 +09:00 [DBG] Connection id "0HNCSUKTVD6LH" stopped.
2025-05-27 17:05:34.032 +09:00 [DBG] Connection id "0HNCSUKTVD6LI" accepted.
2025-05-27 17:05:34.034 +09:00 [DBG] Connection id "0HNCSUKTVD6LI" started.
2025-05-27 17:05:34.091 +09:00 [DBG] Connection 0HNCSUKTVD6LI established using the following protocol: "Tls12"
2025-05-27 17:05:34.169 +09:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui-bundle.js - null null
2025-05-27 17:05:34.172 +09:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2025-05-27 17:05:34.174 +09:00 [DBG] Request did not match any endpoints
2025-05-27 17:05:34.220 +09:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-05-27 17:05:34.221 +09:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui-bundle.js - 200 1484234 text/javascript 52.114ms
2025-05-27 17:05:34.383 +09:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-05-27 17:05:34.383 +09:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-05-27 17:05:34.383 +09:00 [DBG] Request did not match any endpoints
2025-05-27 17:05:34.393 +09:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-05-27 17:05:34.442 +09:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 58.9966ms
2025-05-27 17:05:34.785 +09:00 [DBG] Connection id "0HNCSUKTVD6LI" received FIN.
2025-05-27 17:05:34.785 +09:00 [DBG] Connection id "0HNCSUKTVD6LI" is closed. The last processed stream ID was 3.
2025-05-27 17:05:34.785 +09:00 [DBG] The connection queue processing loop for 0HNCSUKTVD6LI completed.
2025-05-27 17:05:34.785 +09:00 [DBG] Connection id "0HNCSUKTVD6LI" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-27 17:05:34.786 +09:00 [DBG] Connection id "0HNCSUKTVD6LI" stopped.
2025-05-27 17:23:01.411 +09:00 [INF] Application is shutting down...
2025-05-27 17:23:01.420 +09:00 [DBG] Hosting stopping
2025-05-27 17:23:01.444 +09:00 [DBG] Hosting stopped
2025-05-27 17:23:24.849 +09:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-05-27 17:23:25.162 +09:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-05-27 17:23:25.534 +09:00 [DBG] The property 'Approver.ApprovalId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-05-27 17:23:25.578 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-27 17:23:25.583 +09:00 [DBG] Creating DbConnection.
2025-05-27 17:23:25.589 +09:00 [DBG] Created DbConnection. (4ms).
2025-05-27 17:23:25.592 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:23:25.623 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:23:25.625 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:23:25.627 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:23:25.629 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-27 17:23:25.629 +09:00 [DBG] Creating DbConnection.
2025-05-27 17:23:25.629 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-27 17:23:25.632 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2025-05-27 17:23:25.632 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (3ms).
2025-05-27 17:23:25.632 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:23:25.633 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:23:25.635 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-27 17:23:25.664 +09:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-27 17:23:25.665 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:23:25.666 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (1ms).
2025-05-27 17:23:25.669 +09:00 [DBG] Creating DbConnection.
2025-05-27 17:23:25.669 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-27 17:23:25.669 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:23:25.669 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:23:25.669 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:23:25.669 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:23:25.670 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-27 17:23:25.670 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-05-27 17:23:25.670 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-05-27 17:23:25.670 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:23:25.670 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:23:25.670 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-27 17:23:25.671 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-27 17:23:25.671 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:23:25.671 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:23:25.708 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .Any()'
2025-05-27 17:23:25.819 +09:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-05-27 17:23:25.831 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:23:25.831 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:23:25.831 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 17:23:25.832 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 17:23:25.832 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 17:23:25.832 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-05-27 17:23:25.836 +09:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-05-27 17:23:25.838 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:23:25.839 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 2ms reading results.
2025-05-27 17:23:25.840 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:23:25.840 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:23:25.840 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-27 17:23:25.841 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:23:25.841 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:23:25.842 +09:00 [DBG] Hosting starting
2025-05-27 17:23:25.896 +09:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-05-27 17:23:25.897 +09:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-05-27 17:23:25.912 +09:00 [INF] Now listening on: http://localhost:5229
2025-05-27 17:23:25.912 +09:00 [DBG] Loaded hosting startup assembly ApprovalService.API
2025-05-27 17:23:25.912 +09:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-27 17:23:25.913 +09:00 [INF] Hosting environment: Development
2025-05-27 17:23:25.913 +09:00 [INF] Content root path: /Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API
2025-05-27 17:23:25.913 +09:00 [DBG] Hosting started
2025-05-27 17:24:33.689 +09:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-05-27 17:24:33.786 +09:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-05-27 17:24:34.083 +09:00 [DBG] The property 'Approver.ApprovalId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-05-27 17:24:34.133 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-27 17:24:34.142 +09:00 [DBG] Creating DbConnection.
2025-05-27 17:24:34.151 +09:00 [DBG] Created DbConnection. (8ms).
2025-05-27 17:24:34.152 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:24:34.157 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:24:34.158 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:24:34.160 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:24:34.162 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-27 17:24:34.163 +09:00 [DBG] Creating DbConnection.
2025-05-27 17:24:34.164 +09:00 [DBG] Created DbConnection. (1ms).
2025-05-27 17:24:34.167 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2025-05-27 17:24:34.167 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (5ms).
2025-05-27 17:24:34.167 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:24:34.170 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:24:34.174 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-27 17:24:34.191 +09:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-27 17:24:34.193 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:24:34.196 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (3ms).
2025-05-27 17:24:34.209 +09:00 [DBG] Creating DbConnection.
2025-05-27 17:24:34.219 +09:00 [DBG] Created DbConnection. (9ms).
2025-05-27 17:24:34.221 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:24:34.221 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:24:34.221 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:24:34.221 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:24:34.222 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-27 17:24:34.222 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-05-27 17:24:34.222 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-05-27 17:24:34.222 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:24:34.222 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:24:34.222 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-27 17:24:34.222 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-27 17:24:34.222 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:24:34.222 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:24:34.255 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .Any()'
2025-05-27 17:24:34.382 +09:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-05-27 17:24:34.398 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:24:34.399 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:24:34.399 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 17:24:34.399 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 17:24:34.399 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 17:24:34.399 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-05-27 17:24:34.400 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-05-27 17:24:34.402 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:24:34.403 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 1ms reading results.
2025-05-27 17:24:34.404 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:24:34.404 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:24:34.405 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-27 17:24:34.405 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:24:34.405 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:24:34.407 +09:00 [DBG] Hosting starting
2025-05-27 17:24:34.422 +09:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-05-27 17:24:34.422 +09:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-05-27 17:24:34.862 +09:00 [INF] Now listening on: https://localhost:5001
2025-05-27 17:24:34.868 +09:00 [INF] Now listening on: http://localhost:5229
2025-05-27 17:24:34.868 +09:00 [DBG] Loaded hosting startup assembly ApprovalService.API
2025-05-27 17:24:34.868 +09:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-27 17:24:34.869 +09:00 [INF] Hosting environment: Development
2025-05-27 17:24:34.869 +09:00 [INF] Content root path: /Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API
2025-05-27 17:24:34.870 +09:00 [DBG] Hosting started
2025-05-27 17:24:36.659 +09:00 [DBG] Connection id "0HNCSUVLCOJ4H" accepted.
2025-05-27 17:24:36.660 +09:00 [DBG] Connection id "0HNCSUVLCOJ4H" started.
2025-05-27 17:24:36.724 +09:00 [DBG] Connection 0HNCSUVLCOJ4H established using the following protocol: "Tls12"
2025-05-27 17:24:36.745 +09:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2025-05-27 17:24:36.754 +09:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-05-27 17:24:36.754 +09:00 [DBG] Request did not match any endpoints
2025-05-27 17:24:36.972 +09:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 227.942ms
2025-05-27 17:24:37.225 +09:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-05-27 17:24:37.226 +09:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-05-27 17:24:37.226 +09:00 [DBG] Request did not match any endpoints
2025-05-27 17:24:37.241 +09:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-05-27 17:24:37.300 +09:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 74.5238ms
2025-05-27 17:24:38.688 +09:00 [DBG] Connection id "0HNCSUVLCOJ4H" received FIN.
2025-05-27 17:24:38.689 +09:00 [DBG] The connection queue processing loop for 0HNCSUVLCOJ4H completed.
2025-05-27 17:24:38.689 +09:00 [DBG] Connection id "0HNCSUVLCOJ4H" is closed. The last processed stream ID was 3.
2025-05-27 17:24:38.689 +09:00 [DBG] Connection id "0HNCSUVLCOJ4H" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-27 17:24:38.693 +09:00 [DBG] Connection id "0HNCSUVLCOJ4H" stopped.
2025-05-27 17:24:39.926 +09:00 [DBG] Connection id "0HNCSUVLCOJ4I" accepted.
2025-05-27 17:24:39.926 +09:00 [DBG] Connection id "0HNCSUVLCOJ4I" started.
2025-05-27 17:24:39.956 +09:00 [DBG] Connection 0HNCSUVLCOJ4I established using the following protocol: "Tls12"
2025-05-27 17:24:40.075 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approval - null null
2025-05-27 17:24:40.077 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approval'
2025-05-27 17:24:40.077 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)' with route pattern 'api/Approval' is valid for the request path '/api/approval'
2025-05-27 17:24:40.078 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-27 17:24:40.079 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 17:24:40.079 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-27 17:24:40.084 +09:00 [INF] Route matched with {action = "GetAll", controller = "Approval"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API).
2025-05-27 17:24:40.085 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 17:24:40.085 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 17:24:40.085 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 17:24:40.085 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-27 17:24:40.085 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 17:24:40.086 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-27 17:24:40.086 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-27 17:24:40.093 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-27 17:24:40.095 +09:00 [DBG] Compiling query expression: 
'DbSet<Approval>()'
2025-05-27 17:24:40.101 +09:00 [DBG] Including navigation: 'Approval.Approver'.
2025-05-27 17:24:40.135 +09:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Approval>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Approval.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Approval.Comments (string), 1], [Property: Approval.RequestId (string) Required, 2], [Property: Approval.RequestedAt (DateTime) Required, 3], [Property: Approval.RespondedAt (DateTime?), 4], [Property: Approval.Status (ApprovalStatus) Required, 5] }
            1 -> Dictionary<IProperty, int> { [Property: Approver.ApprovalId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: Approver.Department (string) Required, 6], [Property: Approver.EmployeeNumber (string) Required, 7], [Property: Approver.Name (string) Required, 8], [Property: Approver.Position (string) Required, 9] }
        SELECT a.Id, a.Comments, a.RequestId, a.RequestedAt, a.RespondedAt, a.Status, a.ApproverDepartment, a.ApproverEmployeeNumber, a.ApproverName, a.ApproverPosition
        FROM Approvals AS a) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Approval.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Approval.Comments (string), 1], [Property: Approval.RequestId (string) Required, 2], [Property: Approval.RequestedAt (DateTime) Required, 3], [Property: Approval.RespondedAt (DateTime?), 4], [Property: Approval.Status (ApprovalStatus) Required, 5] }
            1 -> Dictionary<IProperty, int> { [Property: Approver.ApprovalId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: Approver.Department (string) Required, 6], [Property: Approver.EmployeeNumber (string) Required, 7], [Property: Approver.Name (string) Required, 8], [Property: Approver.Position (string) Required, 9] }
        SELECT a.Id, a.Comments, a.RequestId, a.RequestedAt, a.RespondedAt, a.Status, a.ApproverDepartment, a.ApproverEmployeeNumber, a.ApproverName, a.ApproverPosition
        FROM Approvals AS a, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Approval entity;
        Approver entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Approval instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Approval);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Approval.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approval").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Approval)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Approval | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approval")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Approval | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approval")]: 
                        {
                            return 
                            {
                                Approval instance;
                                instance = new Approval();
                                instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                instance.<Comments>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                instance.<RequestId>k__BackingField = dataReader.GetString(2);
                                instance.<RequestedAt>k__BackingField = dataReader.GetDateTime(3);
                                instance.<RespondedAt>k__BackingField = dataReader.IsDBNull(4) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(4);
                                instance.<Status>k__BackingField = Invoke(((EnumToNumberConverter<ApprovalStatus, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Approval.Status (ApprovalStatus) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approval").FindProperty("Status")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(5));
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Approval | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approval")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Approval)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        entity = 
        {
            MaterializationContext materializationContext2;
            IEntityType entityType2;
            Approver instance2;
            InternalEntityEntry entry2;
            bool hasNullKey2;
            materializationContext2 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance2 = default(Approver);
            entry2 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Approver.ApprovalId PK | Resolver: c => c.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approver").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey2);
            !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
            {
                entityType2 = entry2.EntityType;
                return instance2 = (Approver)entry2.Entity;
            } : 
            {
                ISnapshot shadowSnapshot2;
                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType2 = [LIFTABLE Constant: EntityType: Approver Owned | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approver")];
                instance2 = switch (entityType2)
                {
                    case [LIFTABLE Constant: EntityType: Approver Owned | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approver")]: 
                        {
                            shadowSnapshot2 = (ISnapshot)new Snapshot<Guid>(dataReader.GetGuid(0));
                            return 
                            {
                                Approver instance;
                                instance = new Approver(
                                    dataReader.GetString(7), 
                                    dataReader.GetString(8)
                                );
                                instance.<Department>k__BackingField = dataReader.GetString(6);
                                instance.<Position>k__BackingField = dataReader.GetString(9);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext2.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Approver Owned | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approver")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Approver)
                }
                ;
                entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType2, 
                    entity: instance2, 
                    snapshot: shadowSnapshot2);
                return instance2;
            } : default(void);
            return instance2;
        };
        ShaperProcessingExpressionVisitor.IncludeReference<Approval, Approval, Approver>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Approval.Approver (Approver) ToDependent Approver | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approval").FindNavigation("Approver")], 
            inverseNavigation: default(INavigation), 
            fixup: (namelessParameter{8}, namelessParameter{9}) => 
            {
                return namelessParameter{8}.<Approver>k__BackingField = namelessParameter{9};
            }, 
            trackingQuery: True);
        return entity;
    }, 
    contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-05-27 17:24:40.141 +09:00 [DBG] Creating DbConnection.
2025-05-27 17:24:40.141 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-27 17:24:40.141 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:24:40.141 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:24:40.142 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 17:24:40.142 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 17:24:40.142 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 17:24:40.142 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Comments", "a"."RequestId", "a"."RequestedAt", "a"."RespondedAt", "a"."Status", "a"."ApproverDepartment", "a"."ApproverEmployeeNumber", "a"."ApproverName", "a"."ApproverPosition"
FROM "Approvals" AS "a"
2025-05-27 17:24:40.143 +09:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Comments", "a"."RequestId", "a"."RequestedAt", "a"."RespondedAt", "a"."Status", "a"."ApproverDepartment", "a"."ApproverEmployeeNumber", "a"."ApproverName", "a"."ApproverPosition"
FROM "Approvals" AS "a"
2025-05-27 17:24:40.144 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:24:40.144 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:24:40.160 +09:00 [ERR] An exception occurred while iterating over the results of a query for context type 'ApprovalService.Infrastructure.Persistence.ApprovalDbContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: Approvals'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: Approvals'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-05-27 17:24:40.169 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 17:24:40.169 +09:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 17:24:40.169 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 17:24:40.169 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 17:24:40.169 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 17:24:40.169 +09:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ApprovalService.API.Models.ApprovalDto, ApprovalService.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 17:24:40.208 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API) in 121.2308ms
2025-05-27 17:24:40.208 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-27 17:24:40.208 +09:00 [DBG] Connection id "0HNCSUVLCOJ4I" completed keep alive response.
2025-05-27 17:24:40.208 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-27 17:24:40.209 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:24:40.210 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:24:40.210 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approval - 200 null application/json; charset=utf-8 134.2359ms
2025-05-27 17:25:13.019 +09:00 [INF] Application is shutting down...
2025-05-27 17:25:13.024 +09:00 [DBG] Hosting stopping
2025-05-27 17:25:13.038 +09:00 [DBG] Connection id "0HNCSUVLCOJ4I" disconnecting.
2025-05-27 17:25:13.038 +09:00 [DBG] Connection id "0HNCSUVLCOJ4I" stopped.
2025-05-27 17:25:13.038 +09:00 [DBG] Connection id "0HNCSUVLCOJ4I" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-27 17:25:13.040 +09:00 [DBG] Hosting stopped
2025-05-27 17:25:20.241 +09:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-05-27 17:25:20.339 +09:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-05-27 17:25:20.577 +09:00 [DBG] The property 'Approver.ApprovalId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-05-27 17:25:20.633 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-27 17:25:20.645 +09:00 [DBG] Creating DbConnection.
2025-05-27 17:25:20.656 +09:00 [DBG] Created DbConnection. (10ms).
2025-05-27 17:25:20.657 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:25:20.663 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:25:20.664 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:25:20.666 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:25:20.668 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-27 17:25:20.669 +09:00 [DBG] Creating DbConnection.
2025-05-27 17:25:20.669 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-27 17:25:20.671 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2025-05-27 17:25:20.671 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (3ms).
2025-05-27 17:25:20.672 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:25:20.673 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:25:20.675 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-27 17:25:20.690 +09:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-27 17:25:20.691 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:25:20.692 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (1ms).
2025-05-27 17:25:20.696 +09:00 [DBG] Creating DbConnection.
2025-05-27 17:25:20.696 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-27 17:25:20.696 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:25:20.696 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:25:20.696 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:25:20.696 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:25:20.697 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-27 17:25:20.697 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-05-27 17:25:20.697 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-05-27 17:25:20.697 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:25:20.697 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:25:20.697 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-27 17:25:20.697 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-27 17:25:20.697 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:25:20.697 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:25:20.717 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .Any()'
2025-05-27 17:25:20.816 +09:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-05-27 17:25:20.830 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:25:20.831 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:25:20.831 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 17:25:20.831 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 17:25:20.831 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 17:25:20.831 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-05-27 17:25:20.833 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-05-27 17:25:20.835 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:25:20.836 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 2ms reading results.
2025-05-27 17:25:20.837 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:25:20.837 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:25:20.837 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-27 17:25:20.838 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:25:20.838 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:25:20.840 +09:00 [DBG] Hosting starting
2025-05-27 17:25:20.853 +09:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-05-27 17:25:20.854 +09:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-05-27 17:25:21.148 +09:00 [INF] Now listening on: https://localhost:5001
2025-05-27 17:25:21.148 +09:00 [INF] Now listening on: http://localhost:5229
2025-05-27 17:25:21.148 +09:00 [DBG] Loaded hosting startup assembly ApprovalService.API
2025-05-27 17:25:21.149 +09:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-27 17:25:21.149 +09:00 [INF] Hosting environment: Development
2025-05-27 17:25:21.149 +09:00 [INF] Content root path: /Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API
2025-05-27 17:25:21.149 +09:00 [DBG] Hosting started
2025-05-27 17:25:23.762 +09:00 [DBG] Connection id "0HNCSV03DV2MJ" accepted.
2025-05-27 17:25:23.763 +09:00 [DBG] Connection id "0HNCSV03DV2MJ" started.
2025-05-27 17:25:23.813 +09:00 [DBG] Connection 0HNCSV03DV2MJ established using the following protocol: "Tls12"
2025-05-27 17:25:23.861 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approval - null null
2025-05-27 17:25:23.869 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approval'
2025-05-27 17:25:23.871 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)' with route pattern 'api/Approval' is valid for the request path '/api/approval'
2025-05-27 17:25:23.871 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-27 17:25:23.888 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 17:25:23.889 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-27 17:25:23.896 +09:00 [INF] Route matched with {action = "GetAll", controller = "Approval"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API).
2025-05-27 17:25:23.897 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 17:25:23.897 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 17:25:23.897 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 17:25:23.897 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-27 17:25:23.898 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 17:25:23.898 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-27 17:25:23.899 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-27 17:25:23.906 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-27 17:25:23.908 +09:00 [DBG] Compiling query expression: 
'DbSet<Approval>()'
2025-05-27 17:25:23.916 +09:00 [DBG] Including navigation: 'Approval.Approver'.
2025-05-27 17:25:23.966 +09:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Approval>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Approval.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Approval.Comments (string), 1], [Property: Approval.RequestId (string) Required, 2], [Property: Approval.RequestedAt (DateTime) Required, 3], [Property: Approval.RespondedAt (DateTime?), 4], [Property: Approval.Status (ApprovalStatus) Required, 5] }
            1 -> Dictionary<IProperty, int> { [Property: Approver.ApprovalId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: Approver.Department (string) Required, 6], [Property: Approver.EmployeeNumber (string) Required, 7], [Property: Approver.Name (string) Required, 8], [Property: Approver.Position (string) Required, 9] }
        SELECT a.Id, a.Comments, a.RequestId, a.RequestedAt, a.RespondedAt, a.Status, a.ApproverDepartment, a.ApproverEmployeeNumber, a.ApproverName, a.ApproverPosition
        FROM Approvals AS a) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Approval.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Approval.Comments (string), 1], [Property: Approval.RequestId (string) Required, 2], [Property: Approval.RequestedAt (DateTime) Required, 3], [Property: Approval.RespondedAt (DateTime?), 4], [Property: Approval.Status (ApprovalStatus) Required, 5] }
            1 -> Dictionary<IProperty, int> { [Property: Approver.ApprovalId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: Approver.Department (string) Required, 6], [Property: Approver.EmployeeNumber (string) Required, 7], [Property: Approver.Name (string) Required, 8], [Property: Approver.Position (string) Required, 9] }
        SELECT a.Id, a.Comments, a.RequestId, a.RequestedAt, a.RespondedAt, a.Status, a.ApproverDepartment, a.ApproverEmployeeNumber, a.ApproverName, a.ApproverPosition
        FROM Approvals AS a, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Approval entity;
        Approver entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Approval instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Approval);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Approval.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approval").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Approval)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Approval | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approval")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Approval | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approval")]: 
                        {
                            return 
                            {
                                Approval instance;
                                instance = new Approval();
                                instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                instance.<Comments>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                instance.<RequestId>k__BackingField = dataReader.GetString(2);
                                instance.<RequestedAt>k__BackingField = dataReader.GetDateTime(3);
                                instance.<RespondedAt>k__BackingField = dataReader.IsDBNull(4) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(4);
                                instance.<Status>k__BackingField = Invoke(((EnumToNumberConverter<ApprovalStatus, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Approval.Status (ApprovalStatus) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approval").FindProperty("Status")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(5));
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Approval | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approval")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Approval)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        entity = 
        {
            MaterializationContext materializationContext2;
            IEntityType entityType2;
            Approver instance2;
            InternalEntityEntry entry2;
            bool hasNullKey2;
            materializationContext2 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance2 = default(Approver);
            entry2 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Approver.ApprovalId PK | Resolver: c => c.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approver").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey2);
            !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
            {
                entityType2 = entry2.EntityType;
                return instance2 = (Approver)entry2.Entity;
            } : 
            {
                ISnapshot shadowSnapshot2;
                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType2 = [LIFTABLE Constant: EntityType: Approver Owned | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approver")];
                instance2 = switch (entityType2)
                {
                    case [LIFTABLE Constant: EntityType: Approver Owned | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approver")]: 
                        {
                            shadowSnapshot2 = (ISnapshot)new Snapshot<Guid>(dataReader.GetGuid(0));
                            return 
                            {
                                Approver instance;
                                instance = new Approver(
                                    dataReader.GetString(7), 
                                    dataReader.GetString(8)
                                );
                                instance.<Department>k__BackingField = dataReader.GetString(6);
                                instance.<Position>k__BackingField = dataReader.GetString(9);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext2.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Approver Owned | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approver")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Approver)
                }
                ;
                entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType2, 
                    entity: instance2, 
                    snapshot: shadowSnapshot2);
                return instance2;
            } : default(void);
            return instance2;
        };
        ShaperProcessingExpressionVisitor.IncludeReference<Approval, Approval, Approver>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Approval.Approver (Approver) ToDependent Approver | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approval").FindNavigation("Approver")], 
            inverseNavigation: default(INavigation), 
            fixup: (namelessParameter{8}, namelessParameter{9}) => 
            {
                return namelessParameter{8}.<Approver>k__BackingField = namelessParameter{9};
            }, 
            trackingQuery: True);
        return entity;
    }, 
    contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-05-27 17:25:23.970 +09:00 [DBG] Creating DbConnection.
2025-05-27 17:25:23.970 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-27 17:25:23.970 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:25:23.970 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:25:23.970 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 17:25:23.970 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 17:25:23.970 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 17:25:23.970 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Comments", "a"."RequestId", "a"."RequestedAt", "a"."RespondedAt", "a"."Status", "a"."ApproverDepartment", "a"."ApproverEmployeeNumber", "a"."ApproverName", "a"."ApproverPosition"
FROM "Approvals" AS "a"
2025-05-27 17:25:23.973 +09:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Comments", "a"."RequestId", "a"."RequestedAt", "a"."RespondedAt", "a"."Status", "a"."ApproverDepartment", "a"."ApproverEmployeeNumber", "a"."ApproverName", "a"."ApproverPosition"
FROM "Approvals" AS "a"
2025-05-27 17:25:23.973 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:25:23.974 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:25:23.980 +09:00 [ERR] An exception occurred while iterating over the results of a query for context type 'ApprovalService.Infrastructure.Persistence.ApprovalDbContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: Approvals'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: Approvals'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-05-27 17:25:23.982 +09:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2025-05-27 17:25:23.983 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API) in 84.4044ms
2025-05-27 17:25:23.986 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-27 17:25:23.988 +09:00 [DBG] Connection id "0HNCSV03DV2MJ" completed keep alive response.
2025-05-27 17:25:23.989 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-27 17:25:23.990 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:25:23.990 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:25:23.990 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approval - 200 0 null 130.3138ms
2025-05-27 17:25:45.265 +09:00 [INF] Application is shutting down...
2025-05-27 17:25:45.266 +09:00 [DBG] Hosting stopping
2025-05-27 17:25:45.277 +09:00 [DBG] Connection id "0HNCSV03DV2MJ" disconnecting.
2025-05-27 17:25:45.279 +09:00 [DBG] Connection id "0HNCSV03DV2MJ" stopped.
2025-05-27 17:25:45.280 +09:00 [DBG] Connection id "0HNCSV03DV2MJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-27 17:25:45.283 +09:00 [DBG] Hosting stopped
2025-05-27 17:25:49.696 +09:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-05-27 17:25:49.779 +09:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-05-27 17:25:50.004 +09:00 [DBG] The property 'Approver.ApprovalId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-05-27 17:25:50.043 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-27 17:25:50.047 +09:00 [DBG] Creating DbConnection.
2025-05-27 17:25:50.053 +09:00 [DBG] Created DbConnection. (4ms).
2025-05-27 17:25:50.054 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:25:50.058 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:25:50.060 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:25:50.062 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:25:50.064 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-27 17:25:50.065 +09:00 [DBG] Creating DbConnection.
2025-05-27 17:25:50.065 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-27 17:25:50.067 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2025-05-27 17:25:50.067 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (3ms).
2025-05-27 17:25:50.067 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:25:50.068 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:25:50.071 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-27 17:25:50.083 +09:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-27 17:25:50.085 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:25:50.086 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (1ms).
2025-05-27 17:25:50.088 +09:00 [DBG] Creating DbConnection.
2025-05-27 17:25:50.088 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-27 17:25:50.088 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:25:50.088 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:25:50.088 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:25:50.088 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:25:50.088 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-27 17:25:50.089 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-05-27 17:25:50.089 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-05-27 17:25:50.089 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:25:50.089 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:25:50.089 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-27 17:25:50.089 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-27 17:25:50.089 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:25:50.089 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:25:50.108 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .Any()'
2025-05-27 17:25:50.200 +09:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-05-27 17:25:50.212 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:25:50.214 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:25:50.217 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 17:25:50.217 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 17:25:50.218 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-05-27 17:25:50.218 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-05-27 17:25:50.224 +09:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-05-27 17:25:50.226 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:25:50.227 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 2ms reading results.
2025-05-27 17:25:50.228 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:25:50.229 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:25:50.230 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-27 17:25:50.230 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:25:50.230 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:25:50.232 +09:00 [DBG] Hosting starting
2025-05-27 17:25:50.246 +09:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-05-27 17:25:50.247 +09:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-05-27 17:25:50.508 +09:00 [INF] Now listening on: https://localhost:5001
2025-05-27 17:25:50.508 +09:00 [INF] Now listening on: http://localhost:5229
2025-05-27 17:25:50.509 +09:00 [DBG] Loaded hosting startup assembly ApprovalService.API
2025-05-27 17:25:50.509 +09:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-27 17:25:50.510 +09:00 [INF] Hosting environment: Development
2025-05-27 17:25:50.510 +09:00 [INF] Content root path: /Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API
2025-05-27 17:25:50.510 +09:00 [DBG] Hosting started
2025-05-27 17:25:57.180 +09:00 [DBG] Connection id "0HNCSV0DCLNH1" accepted.
2025-05-27 17:25:57.181 +09:00 [DBG] Connection id "0HNCSV0DCLNH1" started.
2025-05-27 17:25:57.224 +09:00 [DBG] Connection 0HNCSV0DCLNH1 established using the following protocol: "Tls12"
2025-05-27 17:25:57.249 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approval - null null
2025-05-27 17:25:57.264 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approval'
2025-05-27 17:25:57.266 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)' with route pattern 'api/Approval' is valid for the request path '/api/approval'
2025-05-27 17:25:57.267 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-27 17:25:57.288 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 17:25:57.288 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-27 17:25:57.297 +09:00 [INF] Route matched with {action = "GetAll", controller = "Approval"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API).
2025-05-27 17:25:57.297 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 17:25:57.297 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 17:25:57.298 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 17:25:57.298 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-27 17:25:57.298 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 17:25:57.299 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-27 17:25:57.299 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-27 17:25:57.307 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-27 17:25:57.314 +09:00 [DBG] Compiling query expression: 
'DbSet<Approval>()'
2025-05-27 17:25:57.318 +09:00 [DBG] Including navigation: 'Approval.Approver'.
2025-05-27 17:25:57.357 +09:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Approval>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Approval.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Approval.Comments (string), 1], [Property: Approval.RequestId (string) Required, 2], [Property: Approval.RequestedAt (DateTime) Required, 3], [Property: Approval.RespondedAt (DateTime?), 4], [Property: Approval.Status (ApprovalStatus) Required, 5] }
            1 -> Dictionary<IProperty, int> { [Property: Approver.ApprovalId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: Approver.Department (string) Required, 6], [Property: Approver.EmployeeNumber (string) Required, 7], [Property: Approver.Name (string) Required, 8], [Property: Approver.Position (string) Required, 9] }
        SELECT a.Id, a.Comments, a.RequestId, a.RequestedAt, a.RespondedAt, a.Status, a.ApproverDepartment, a.ApproverEmployeeNumber, a.ApproverName, a.ApproverPosition
        FROM Approvals AS a) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Approval.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Approval.Comments (string), 1], [Property: Approval.RequestId (string) Required, 2], [Property: Approval.RequestedAt (DateTime) Required, 3], [Property: Approval.RespondedAt (DateTime?), 4], [Property: Approval.Status (ApprovalStatus) Required, 5] }
            1 -> Dictionary<IProperty, int> { [Property: Approver.ApprovalId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: Approver.Department (string) Required, 6], [Property: Approver.EmployeeNumber (string) Required, 7], [Property: Approver.Name (string) Required, 8], [Property: Approver.Position (string) Required, 9] }
        SELECT a.Id, a.Comments, a.RequestId, a.RequestedAt, a.RespondedAt, a.Status, a.ApproverDepartment, a.ApproverEmployeeNumber, a.ApproverName, a.ApproverPosition
        FROM Approvals AS a, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Approval entity;
        Approver entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Approval instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Approval);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Approval.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approval").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Approval)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Approval | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approval")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Approval | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approval")]: 
                        {
                            return 
                            {
                                Approval instance;
                                instance = new Approval();
                                instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                instance.<Comments>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                instance.<RequestId>k__BackingField = dataReader.GetString(2);
                                instance.<RequestedAt>k__BackingField = dataReader.GetDateTime(3);
                                instance.<RespondedAt>k__BackingField = dataReader.IsDBNull(4) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(4);
                                instance.<Status>k__BackingField = Invoke(((EnumToNumberConverter<ApprovalStatus, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Approval.Status (ApprovalStatus) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approval").FindProperty("Status")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(5));
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Approval | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approval")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Approval)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        entity = 
        {
            MaterializationContext materializationContext2;
            IEntityType entityType2;
            Approver instance2;
            InternalEntityEntry entry2;
            bool hasNullKey2;
            materializationContext2 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance2 = default(Approver);
            entry2 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Approver.ApprovalId PK | Resolver: c => c.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approver").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey2);
            !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
            {
                entityType2 = entry2.EntityType;
                return instance2 = (Approver)entry2.Entity;
            } : 
            {
                ISnapshot shadowSnapshot2;
                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType2 = [LIFTABLE Constant: EntityType: Approver Owned | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approver")];
                instance2 = switch (entityType2)
                {
                    case [LIFTABLE Constant: EntityType: Approver Owned | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approver")]: 
                        {
                            shadowSnapshot2 = (ISnapshot)new Snapshot<Guid>(dataReader.GetGuid(0));
                            return 
                            {
                                Approver instance;
                                instance = new Approver(
                                    dataReader.GetString(7), 
                                    dataReader.GetString(8)
                                );
                                instance.<Department>k__BackingField = dataReader.GetString(6);
                                instance.<Position>k__BackingField = dataReader.GetString(9);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext2.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Approver Owned | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approver")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Approver)
                }
                ;
                entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType2, 
                    entity: instance2, 
                    snapshot: shadowSnapshot2);
                return instance2;
            } : default(void);
            return instance2;
        };
        ShaperProcessingExpressionVisitor.IncludeReference<Approval, Approval, Approver>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Approval.Approver (Approver) ToDependent Approver | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approval").FindNavigation("Approver")], 
            inverseNavigation: default(INavigation), 
            fixup: (namelessParameter{8}, namelessParameter{9}) => 
            {
                return namelessParameter{8}.<Approver>k__BackingField = namelessParameter{9};
            }, 
            trackingQuery: True);
        return entity;
    }, 
    contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-05-27 17:25:57.361 +09:00 [DBG] Creating DbConnection.
2025-05-27 17:25:57.361 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-27 17:25:57.361 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:25:57.362 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:25:57.362 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 17:25:57.362 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 17:25:57.362 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 17:25:57.363 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Comments", "a"."RequestId", "a"."RequestedAt", "a"."RespondedAt", "a"."Status", "a"."ApproverDepartment", "a"."ApproverEmployeeNumber", "a"."ApproverName", "a"."ApproverPosition"
FROM "Approvals" AS "a"
2025-05-27 17:25:57.379 +09:00 [ERR] Failed executing DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Comments", "a"."RequestId", "a"."RequestedAt", "a"."RespondedAt", "a"."Status", "a"."ApproverDepartment", "a"."ApproverEmployeeNumber", "a"."ApproverName", "a"."ApproverPosition"
FROM "Approvals" AS "a"
2025-05-27 17:25:57.379 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:25:57.380 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:25:57.386 +09:00 [ERR] An exception occurred while iterating over the results of a query for context type 'ApprovalService.Infrastructure.Persistence.ApprovalDbContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: Approvals'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: Approvals'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-05-27 17:25:57.388 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 17:25:57.389 +09:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 17:25:57.390 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 17:25:57.390 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 17:25:57.390 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 17:25:57.390 +09:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ApprovalService.API.Models.ApprovalDto, ApprovalService.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 17:25:57.434 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API) in 134.6216ms
2025-05-27 17:25:57.444 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-27 17:25:57.445 +09:00 [DBG] Connection id "0HNCSV0DCLNH1" completed keep alive response.
2025-05-27 17:25:57.447 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-27 17:25:57.450 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:25:57.451 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:25:57.451 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approval - 200 null application/json; charset=utf-8 204.3456ms
2025-05-27 17:27:12.259 +09:00 [DBG] Connection id "0HNCSV0DCLNH1" received FIN.
2025-05-27 17:27:12.268 +09:00 [DBG] Connection id "0HNCSV0DCLNH1" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-27 17:27:12.274 +09:00 [DBG] Connection id "0HNCSV0DCLNH1" disconnecting.
2025-05-27 17:27:12.278 +09:00 [DBG] Connection id "0HNCSV0DCLNH1" stopped.
2025-05-27 17:43:55.628 +09:00 [INF] Application is shutting down...
2025-05-27 17:43:55.633 +09:00 [DBG] Hosting stopping
2025-05-27 17:43:55.656 +09:00 [DBG] Hosting stopped
2025-05-27 17:44:42.143 +09:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-05-27 17:44:42.490 +09:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-05-27 17:44:42.927 +09:00 [DBG] The property 'Approver.ApprovalId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-05-27 17:44:43.039 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-27 17:44:43.044 +09:00 [DBG] Creating DbConnection.
2025-05-27 17:44:43.051 +09:00 [DBG] Created DbConnection. (6ms).
2025-05-27 17:44:43.055 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:44:43.067 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:44:43.070 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:44:43.073 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (1ms).
2025-05-27 17:44:43.081 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-27 17:44:43.081 +09:00 [DBG] Creating DbConnection.
2025-05-27 17:44:43.081 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-27 17:44:43.086 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (6ms).
2025-05-27 17:44:43.087 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (9ms).
2025-05-27 17:44:43.087 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:44:43.088 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:44:43.092 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-27 17:44:43.111 +09:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-27 17:44:43.116 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:44:43.117 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (1ms).
2025-05-27 17:44:43.120 +09:00 [DBG] Creating DbConnection.
2025-05-27 17:44:43.120 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-27 17:44:43.120 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:44:43.121 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:44:43.121 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:44:43.121 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:44:43.122 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-27 17:44:43.122 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-05-27 17:44:43.122 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-05-27 17:44:43.122 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:44:43.122 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:44:43.122 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-27 17:44:43.123 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-27 17:44:43.123 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:44:43.123 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:44:43.204 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .Any()'
2025-05-27 17:44:43.396 +09:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-05-27 17:44:43.414 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:44:43.415 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:44:43.415 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 17:44:43.415 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 17:44:43.415 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 17:44:43.415 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-05-27 17:44:43.417 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-05-27 17:44:43.419 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:44:43.421 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 2ms reading results.
2025-05-27 17:44:43.423 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:44:43.424 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:44:43.426 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-27 17:44:43.426 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:44:43.426 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:44:43.430 +09:00 [DBG] Hosting starting
2025-05-27 17:44:43.451 +09:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-05-27 17:44:43.451 +09:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-05-27 17:44:43.818 +09:00 [INF] Now listening on: https://localhost:5001
2025-05-27 17:44:43.818 +09:00 [INF] Now listening on: http://localhost:5229
2025-05-27 17:44:43.818 +09:00 [DBG] Loaded hosting startup assembly ApprovalService.API
2025-05-27 17:44:43.819 +09:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-27 17:44:43.820 +09:00 [INF] Hosting environment: Development
2025-05-27 17:44:43.820 +09:00 [INF] Content root path: /Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API
2025-05-27 17:44:43.820 +09:00 [DBG] Hosting started
2025-05-27 17:44:45.828 +09:00 [DBG] Connection id "0HNCSVATO9MFL" accepted.
2025-05-27 17:44:45.830 +09:00 [DBG] Connection id "0HNCSVATO9MFL" started.
2025-05-27 17:44:45.959 +09:00 [DBG] Connection 0HNCSVATO9MFL established using the following protocol: "Tls12"
2025-05-27 17:44:45.993 +09:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/approval - null null
2025-05-27 17:44:46.004 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approval'
2025-05-27 17:44:46.006 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)' with route pattern 'api/Approval' is valid for the request path '/api/approval'
2025-05-27 17:44:46.006 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-27 17:44:46.021 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 17:44:46.022 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-27 17:44:46.027 +09:00 [INF] Route matched with {action = "GetAll", controller = "Approval"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API).
2025-05-27 17:44:46.028 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 17:44:46.029 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 17:44:46.030 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 17:44:46.031 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-27 17:44:46.031 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 17:44:46.031 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-27 17:44:46.032 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-27 17:44:46.038 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-27 17:44:46.040 +09:00 [DBG] Compiling query expression: 
'DbSet<Approval>()'
2025-05-27 17:44:46.043 +09:00 [DBG] Including navigation: 'Approval.Approver'.
2025-05-27 17:44:46.079 +09:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Approval>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Approval.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Approval.Comments (string), 1], [Property: Approval.RequestId (string) Required, 2], [Property: Approval.RequestedAt (DateTime) Required, 3], [Property: Approval.RespondedAt (DateTime?), 4], [Property: Approval.Status (ApprovalStatus) Required, 5] }
            1 -> Dictionary<IProperty, int> { [Property: Approver.ApprovalId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: Approver.Department (string) Required, 6], [Property: Approver.EmployeeNumber (string) Required, 7], [Property: Approver.Name (string) Required, 8], [Property: Approver.Position (string) Required, 9] }
        SELECT a.Id, a.Comments, a.RequestId, a.RequestedAt, a.RespondedAt, a.Status, a.ApproverDepartment, a.ApproverEmployeeNumber, a.ApproverName, a.ApproverPosition
        FROM Approvals AS a) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Approval.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Approval.Comments (string), 1], [Property: Approval.RequestId (string) Required, 2], [Property: Approval.RequestedAt (DateTime) Required, 3], [Property: Approval.RespondedAt (DateTime?), 4], [Property: Approval.Status (ApprovalStatus) Required, 5] }
            1 -> Dictionary<IProperty, int> { [Property: Approver.ApprovalId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: Approver.Department (string) Required, 6], [Property: Approver.EmployeeNumber (string) Required, 7], [Property: Approver.Name (string) Required, 8], [Property: Approver.Position (string) Required, 9] }
        SELECT a.Id, a.Comments, a.RequestId, a.RequestedAt, a.RespondedAt, a.Status, a.ApproverDepartment, a.ApproverEmployeeNumber, a.ApproverName, a.ApproverPosition
        FROM Approvals AS a, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Approval entity;
        Approver entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Approval instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Approval);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Approval.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approval").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Approval)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Approval | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approval")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Approval | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approval")]: 
                        {
                            return 
                            {
                                Approval instance;
                                instance = new Approval();
                                instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                instance.<Comments>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                instance.<RequestId>k__BackingField = dataReader.GetString(2);
                                instance.<RequestedAt>k__BackingField = dataReader.GetDateTime(3);
                                instance.<RespondedAt>k__BackingField = dataReader.IsDBNull(4) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(4);
                                instance.<Status>k__BackingField = Invoke(((EnumToNumberConverter<ApprovalStatus, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Approval.Status (ApprovalStatus) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approval").FindProperty("Status")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(5));
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Approval | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approval")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Approval)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        entity = 
        {
            MaterializationContext materializationContext2;
            IEntityType entityType2;
            Approver instance2;
            InternalEntityEntry entry2;
            bool hasNullKey2;
            materializationContext2 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance2 = default(Approver);
            entry2 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Approver.ApprovalId PK | Resolver: c => c.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approver").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey2);
            !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
            {
                entityType2 = entry2.EntityType;
                return instance2 = (Approver)entry2.Entity;
            } : 
            {
                ISnapshot shadowSnapshot2;
                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType2 = [LIFTABLE Constant: EntityType: Approver Owned | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approver")];
                instance2 = switch (entityType2)
                {
                    case [LIFTABLE Constant: EntityType: Approver Owned | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approver")]: 
                        {
                            shadowSnapshot2 = (ISnapshot)new Snapshot<Guid>(dataReader.GetGuid(0));
                            return 
                            {
                                Approver instance;
                                instance = new Approver(
                                    dataReader.GetString(7), 
                                    dataReader.GetString(8)
                                );
                                instance.<Department>k__BackingField = dataReader.GetString(6);
                                instance.<Position>k__BackingField = dataReader.GetString(9);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext2.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Approver Owned | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approver")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Approver)
                }
                ;
                entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType2, 
                    entity: instance2, 
                    snapshot: shadowSnapshot2);
                return instance2;
            } : default(void);
            return instance2;
        };
        ShaperProcessingExpressionVisitor.IncludeReference<Approval, Approval, Approver>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Approval.Approver (Approver) ToDependent Approver | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approval").FindNavigation("Approver")], 
            inverseNavigation: default(INavigation), 
            fixup: (namelessParameter{8}, namelessParameter{9}) => 
            {
                return namelessParameter{8}.<Approver>k__BackingField = namelessParameter{9};
            }, 
            trackingQuery: True);
        return entity;
    }, 
    contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-05-27 17:44:46.083 +09:00 [DBG] Creating DbConnection.
2025-05-27 17:44:46.083 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-27 17:44:46.083 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:44:46.083 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:44:46.083 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 17:44:46.083 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 17:44:46.083 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 17:44:46.083 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Comments", "a"."RequestId", "a"."RequestedAt", "a"."RespondedAt", "a"."Status", "a"."ApproverDepartment", "a"."ApproverEmployeeNumber", "a"."ApproverName", "a"."ApproverPosition"
FROM "Approvals" AS "a"
2025-05-27 17:44:46.085 +09:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Comments", "a"."RequestId", "a"."RequestedAt", "a"."RespondedAt", "a"."Status", "a"."ApproverDepartment", "a"."ApproverEmployeeNumber", "a"."ApproverName", "a"."ApproverPosition"
FROM "Approvals" AS "a"
2025-05-27 17:44:46.086 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:44:46.088 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (1ms).
2025-05-27 17:44:46.096 +09:00 [ERR] An exception occurred while iterating over the results of a query for context type 'ApprovalService.Infrastructure.Persistence.ApprovalDbContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: Approvals'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: Approvals'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-05-27 17:44:46.099 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 17:44:46.103 +09:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 17:44:46.104 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 17:44:46.104 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 17:44:46.105 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 17:44:46.106 +09:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ApprovalService.API.Models.ApprovalDto, ApprovalService.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 17:44:46.141 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API) in 109.0457ms
2025-05-27 17:44:46.144 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-27 17:44:46.147 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-27 17:44:46.150 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:44:46.151 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:44:46.156 +09:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/approval - 200 null application/json; charset=utf-8 160.04ms
2025-05-27 17:44:46.272 +09:00 [INF] Request starting HTTP/2 GET https://localhost:5001/favicon.ico - null null
2025-05-27 17:44:46.272 +09:00 [DBG] No candidates found for the request path '/favicon.ico'
2025-05-27 17:44:46.272 +09:00 [DBG] Request did not match any endpoints
2025-05-27 17:44:46.273 +09:00 [DBG] The request path  does not match the path filter
2025-05-27 17:44:46.273 +09:00 [INF] Request finished HTTP/2 GET https://localhost:5001/favicon.ico - 404 0 null 1.6428ms
2025-05-27 17:44:46.274 +09:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5001/favicon.ico, Response status code: 404
2025-05-27 17:44:50.538 +09:00 [DBG] Connection id "0HNCSVATO9MFL" received FIN.
2025-05-27 17:44:50.540 +09:00 [DBG] Connection id "0HNCSVATO9MFL" is closed. The last processed stream ID was 3.
2025-05-27 17:44:50.541 +09:00 [DBG] The connection queue processing loop for 0HNCSVATO9MFL completed.
2025-05-27 17:44:50.541 +09:00 [DBG] Connection id "0HNCSVATO9MFL" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-27 17:44:50.552 +09:00 [DBG] Connection id "0HNCSVATO9MFL" stopped.
2025-05-27 17:45:36.601 +09:00 [INF] Application is shutting down...
2025-05-27 17:45:36.601 +09:00 [DBG] Hosting stopping
2025-05-27 17:45:36.612 +09:00 [DBG] Hosting stopped
2025-05-27 17:46:41.886 +09:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-05-27 17:46:42.006 +09:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-05-27 17:46:42.271 +09:00 [DBG] The property 'Approver.ApprovalId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-05-27 17:46:42.327 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-27 17:46:42.333 +09:00 [DBG] Creating DbConnection.
2025-05-27 17:46:42.339 +09:00 [DBG] Created DbConnection. (5ms).
2025-05-27 17:46:42.340 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:46:42.350 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:46:42.353 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:46:42.355 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:46:42.358 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-27 17:46:42.359 +09:00 [DBG] Creating DbConnection.
2025-05-27 17:46:42.359 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-27 17:46:42.362 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2025-05-27 17:46:42.363 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (5ms).
2025-05-27 17:46:42.363 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:46:42.365 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:46:42.368 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-27 17:46:42.384 +09:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-27 17:46:42.385 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:46:42.387 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (1ms).
2025-05-27 17:46:42.390 +09:00 [DBG] Creating DbConnection.
2025-05-27 17:46:42.390 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-27 17:46:42.390 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:46:42.390 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:46:42.390 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:46:42.390 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:46:42.390 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-27 17:46:42.390 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-05-27 17:46:42.390 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-05-27 17:46:42.390 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:46:42.390 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:46:42.391 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-27 17:46:42.391 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-27 17:46:42.391 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:46:42.391 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:46:42.414 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .Any()'
2025-05-27 17:46:42.511 +09:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-05-27 17:46:42.524 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:46:42.525 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:46:42.525 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 17:46:42.525 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 17:46:42.525 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 17:46:42.526 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-05-27 17:46:42.527 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-05-27 17:46:42.530 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:46:42.530 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 2ms reading results.
2025-05-27 17:46:42.531 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:46:42.531 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:46:42.532 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-27 17:46:42.532 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:46:42.532 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:46:42.534 +09:00 [DBG] Hosting starting
2025-05-27 17:46:42.563 +09:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-05-27 17:46:42.564 +09:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-05-27 17:46:42.585 +09:00 [INF] Now listening on: http://localhost:5229
2025-05-27 17:46:42.585 +09:00 [DBG] Loaded hosting startup assembly ApprovalService.API
2025-05-27 17:46:42.585 +09:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-27 17:46:42.586 +09:00 [INF] Hosting environment: Development
2025-05-27 17:46:42.586 +09:00 [INF] Content root path: /Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API
2025-05-27 17:46:42.586 +09:00 [DBG] Hosting started
2025-05-27 17:46:48.545 +09:00 [DBG] Connection id "0HNCSVC2AJGQD" accepted.
2025-05-27 17:46:48.549 +09:00 [DBG] Connection id "0HNCSVC2AJGQE" accepted.
2025-05-27 17:46:48.552 +09:00 [DBG] Connection id "0HNCSVC2AJGQD" started.
2025-05-27 17:46:48.618 +09:00 [DBG] Connection id "0HNCSVC2AJGQE" started.
2025-05-27 17:46:48.695 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5229/ - null null
2025-05-27 17:46:48.724 +09:00 [DBG] No candidates found for the request path '/'
2025-05-27 17:46:48.725 +09:00 [DBG] Request did not match any endpoints
2025-05-27 17:46:48.744 +09:00 [DBG] The request path  does not match the path filter
2025-05-27 17:46:48.748 +09:00 [DBG] Connection id "0HNCSVC2AJGQD" completed keep alive response.
2025-05-27 17:46:48.750 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5229/ - 404 0 null 62.6435ms
2025-05-27 17:46:48.754 +09:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5229/, Response status code: 404
2025-05-27 17:46:50.544 +09:00 [DBG] Connection id "0HNCSVC2AJGQE" received FIN.
2025-05-27 17:46:50.544 +09:00 [DBG] Connection id "0HNCSVC2AJGQD" received FIN.
2025-05-27 17:46:50.545 +09:00 [DBG] Connection id "0HNCSVC2AJGQD" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-27 17:46:50.552 +09:00 [DBG] Connection id "0HNCSVC2AJGQE" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-27 17:46:50.556 +09:00 [DBG] Connection id "0HNCSVC2AJGQE" disconnecting.
2025-05-27 17:46:50.556 +09:00 [DBG] Connection id "0HNCSVC2AJGQD" disconnecting.
2025-05-27 17:46:50.562 +09:00 [DBG] Connection id "0HNCSVC2AJGQD" stopped.
2025-05-27 17:46:50.562 +09:00 [DBG] Connection id "0HNCSVC2AJGQE" stopped.
2025-05-27 17:47:04.978 +09:00 [DBG] Connection id "0HNCSVC2AJGQF" accepted.
2025-05-27 17:47:04.981 +09:00 [DBG] Connection id "0HNCSVC2AJGQG" accepted.
2025-05-27 17:47:04.981 +09:00 [DBG] Connection id "0HNCSVC2AJGQF" started.
2025-05-27 17:47:04.982 +09:00 [DBG] Connection id "0HNCSVC2AJGQG" started.
2025-05-27 17:47:04.987 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5229/ - null null
2025-05-27 17:47:04.987 +09:00 [DBG] No candidates found for the request path '/'
2025-05-27 17:47:04.987 +09:00 [DBG] Request did not match any endpoints
2025-05-27 17:47:04.990 +09:00 [DBG] The request path  does not match the path filter
2025-05-27 17:47:04.990 +09:00 [DBG] Connection id "0HNCSVC2AJGQF" completed keep alive response.
2025-05-27 17:47:04.991 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5229/ - 404 0 null 3.5496ms
2025-05-27 17:47:04.991 +09:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5229/, Response status code: 404
2025-05-27 17:47:05.542 +09:00 [DBG] Connection id "0HNCSVC2AJGQF" received FIN.
2025-05-27 17:47:05.542 +09:00 [DBG] Connection id "0HNCSVC2AJGQG" received FIN.
2025-05-27 17:47:05.543 +09:00 [DBG] Connection id "0HNCSVC2AJGQF" disconnecting.
2025-05-27 17:47:05.544 +09:00 [DBG] Connection id "0HNCSVC2AJGQG" disconnecting.
2025-05-27 17:47:05.544 +09:00 [DBG] Connection id "0HNCSVC2AJGQF" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-27 17:47:05.544 +09:00 [DBG] Connection id "0HNCSVC2AJGQG" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-27 17:47:05.545 +09:00 [DBG] Connection id "0HNCSVC2AJGQG" stopped.
2025-05-27 17:47:05.546 +09:00 [DBG] Connection id "0HNCSVC2AJGQF" stopped.
2025-05-27 17:47:17.939 +09:00 [DBG] Connection id "0HNCSVC2AJGQH" accepted.
2025-05-27 17:47:17.942 +09:00 [DBG] Connection id "0HNCSVC2AJGQI" accepted.
2025-05-27 17:47:17.942 +09:00 [DBG] Connection id "0HNCSVC2AJGQH" started.
2025-05-27 17:47:17.943 +09:00 [DBG] Connection id "0HNCSVC2AJGQI" started.
2025-05-27 17:47:17.949 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5229/api/approval - null null
2025-05-27 17:47:17.953 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approval'
2025-05-27 17:47:17.958 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)' with route pattern 'api/Approval' is valid for the request path '/api/approval'
2025-05-27 17:47:17.959 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-27 17:47:17.963 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 17:47:17.965 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-27 17:47:17.977 +09:00 [INF] Route matched with {action = "GetAll", controller = "Approval"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API).
2025-05-27 17:47:17.978 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 17:47:17.978 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 17:47:17.978 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 17:47:17.978 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-27 17:47:17.978 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 17:47:17.980 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-27 17:47:17.981 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-27 17:47:22.304 +09:00 [DBG] Connection id "0HNCSVC2AJGQI" received FIN.
2025-05-27 17:47:22.305 +09:00 [DBG] Connection id "0HNCSVC2AJGQI" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-27 17:47:22.305 +09:00 [DBG] Connection id "0HNCSVC2AJGQI" disconnecting.
2025-05-27 17:47:22.306 +09:00 [DBG] Connection id "0HNCSVC2AJGQI" stopped.
2025-05-27 17:47:22.312 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-27 17:47:22.315 +09:00 [DBG] Compiling query expression: 
'DbSet<Approval>()'
2025-05-27 17:47:22.323 +09:00 [DBG] Including navigation: 'Approval.Approver'.
2025-05-27 17:47:22.383 +09:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Approval>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Approval.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Approval.Comments (string), 1], [Property: Approval.RequestId (string) Required, 2], [Property: Approval.RequestedAt (DateTime) Required, 3], [Property: Approval.RespondedAt (DateTime?), 4], [Property: Approval.Status (ApprovalStatus) Required, 5] }
            1 -> Dictionary<IProperty, int> { [Property: Approver.ApprovalId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: Approver.Department (string) Required, 6], [Property: Approver.EmployeeNumber (string) Required, 7], [Property: Approver.Name (string) Required, 8], [Property: Approver.Position (string) Required, 9] }
        SELECT a.Id, a.Comments, a.RequestId, a.RequestedAt, a.RespondedAt, a.Status, a.ApproverDepartment, a.ApproverEmployeeNumber, a.ApproverName, a.ApproverPosition
        FROM Approvals AS a) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Approval.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Approval.Comments (string), 1], [Property: Approval.RequestId (string) Required, 2], [Property: Approval.RequestedAt (DateTime) Required, 3], [Property: Approval.RespondedAt (DateTime?), 4], [Property: Approval.Status (ApprovalStatus) Required, 5] }
            1 -> Dictionary<IProperty, int> { [Property: Approver.ApprovalId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: Approver.Department (string) Required, 6], [Property: Approver.EmployeeNumber (string) Required, 7], [Property: Approver.Name (string) Required, 8], [Property: Approver.Position (string) Required, 9] }
        SELECT a.Id, a.Comments, a.RequestId, a.RequestedAt, a.RespondedAt, a.Status, a.ApproverDepartment, a.ApproverEmployeeNumber, a.ApproverName, a.ApproverPosition
        FROM Approvals AS a, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Approval entity;
        Approver entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Approval instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Approval);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Approval.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approval").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Approval)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Approval | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approval")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Approval | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approval")]: 
                        {
                            return 
                            {
                                Approval instance;
                                instance = new Approval();
                                instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                instance.<Comments>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                instance.<RequestId>k__BackingField = dataReader.GetString(2);
                                instance.<RequestedAt>k__BackingField = dataReader.GetDateTime(3);
                                instance.<RespondedAt>k__BackingField = dataReader.IsDBNull(4) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(4);
                                instance.<Status>k__BackingField = Invoke(((EnumToNumberConverter<ApprovalStatus, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Approval.Status (ApprovalStatus) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approval").FindProperty("Status")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(5));
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Approval | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approval")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Approval)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        entity = 
        {
            MaterializationContext materializationContext2;
            IEntityType entityType2;
            Approver instance2;
            InternalEntityEntry entry2;
            bool hasNullKey2;
            materializationContext2 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance2 = default(Approver);
            entry2 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Approver.ApprovalId PK | Resolver: c => c.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approver").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey2);
            !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
            {
                entityType2 = entry2.EntityType;
                return instance2 = (Approver)entry2.Entity;
            } : 
            {
                ISnapshot shadowSnapshot2;
                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType2 = [LIFTABLE Constant: EntityType: Approver Owned | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approver")];
                instance2 = switch (entityType2)
                {
                    case [LIFTABLE Constant: EntityType: Approver Owned | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approver")]: 
                        {
                            shadowSnapshot2 = (ISnapshot)new Snapshot<Guid>(dataReader.GetGuid(0));
                            return 
                            {
                                Approver instance;
                                instance = new Approver(
                                    dataReader.GetString(7), 
                                    dataReader.GetString(8)
                                );
                                instance.<Department>k__BackingField = dataReader.GetString(6);
                                instance.<Position>k__BackingField = dataReader.GetString(9);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext2.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Approver Owned | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approver")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Approver)
                }
                ;
                entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType2, 
                    entity: instance2, 
                    snapshot: shadowSnapshot2);
                return instance2;
            } : default(void);
            return instance2;
        };
        ShaperProcessingExpressionVisitor.IncludeReference<Approval, Approval, Approver>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Approval.Approver (Approver) ToDependent Approver | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approval").FindNavigation("Approver")], 
            inverseNavigation: default(INavigation), 
            fixup: (namelessParameter{8}, namelessParameter{9}) => 
            {
                return namelessParameter{8}.<Approver>k__BackingField = namelessParameter{9};
            }, 
            trackingQuery: True);
        return entity;
    }, 
    contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-05-27 17:47:22.392 +09:00 [DBG] Creating DbConnection.
2025-05-27 17:47:22.392 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-27 17:47:22.392 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:47:22.393 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:47:22.393 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 17:47:22.393 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 17:47:22.393 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 17:47:22.393 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Comments", "a"."RequestId", "a"."RequestedAt", "a"."RespondedAt", "a"."Status", "a"."ApproverDepartment", "a"."ApproverEmployeeNumber", "a"."ApproverName", "a"."ApproverPosition"
FROM "Approvals" AS "a"
2025-05-27 17:47:22.396 +09:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Comments", "a"."RequestId", "a"."RequestedAt", "a"."RespondedAt", "a"."Status", "a"."ApproverDepartment", "a"."ApproverEmployeeNumber", "a"."ApproverName", "a"."ApproverPosition"
FROM "Approvals" AS "a"
2025-05-27 17:47:22.397 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:47:22.397 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:47:22.409 +09:00 [ERR] An exception occurred while iterating over the results of a query for context type 'ApprovalService.Infrastructure.Persistence.ApprovalDbContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: Approvals'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: Approvals'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-05-27 17:47:26.216 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 17:47:26.222 +09:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 17:47:26.222 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 17:47:26.222 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 17:47:26.222 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 17:47:26.223 +09:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ApprovalService.API.Models.ApprovalDto, ApprovalService.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 17:47:26.281 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API) in 8300.906ms
2025-05-27 17:47:26.281 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-27 17:47:26.282 +09:00 [DBG] Connection id "0HNCSVC2AJGQH" completed keep alive response.
2025-05-27 17:47:26.285 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-27 17:47:26.293 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:47:26.294 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:47:26.295 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5229/api/approval - 200 null application/json; charset=utf-8 8346.6442ms
2025-05-27 17:47:26.436 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5229/favicon.ico - null null
2025-05-27 17:47:26.436 +09:00 [DBG] No candidates found for the request path '/favicon.ico'
2025-05-27 17:47:26.436 +09:00 [DBG] Request did not match any endpoints
2025-05-27 17:47:26.436 +09:00 [DBG] The request path  does not match the path filter
2025-05-27 17:47:26.437 +09:00 [DBG] Connection id "0HNCSVC2AJGQH" completed keep alive response.
2025-05-27 17:47:26.437 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5229/favicon.ico - 404 0 null 1.1475ms
2025-05-27 17:47:26.437 +09:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5229/favicon.ico, Response status code: 404
2025-05-27 17:47:30.012 +09:00 [DBG] Connection id "0HNCSVC2AJGQJ" accepted.
2025-05-27 17:47:30.013 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5229/api/approval - null null
2025-05-27 17:47:30.013 +09:00 [DBG] Connection id "0HNCSVC2AJGQJ" started.
2025-05-27 17:47:30.013 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approval'
2025-05-27 17:47:30.013 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)' with route pattern 'api/Approval' is valid for the request path '/api/approval'
2025-05-27 17:47:30.013 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-27 17:47:30.015 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 17:47:30.016 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-27 17:47:30.016 +09:00 [INF] Route matched with {action = "GetAll", controller = "Approval"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API).
2025-05-27 17:47:30.016 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 17:47:30.016 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 17:47:30.016 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 17:47:30.017 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-27 17:47:30.017 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 17:47:30.017 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-27 17:47:30.022 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-27 17:47:45.734 +09:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-05-27 17:47:45.855 +09:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-05-27 17:47:46.118 +09:00 [DBG] The property 'Approver.ApprovalId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-05-27 17:47:46.159 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-27 17:47:46.164 +09:00 [DBG] Creating DbConnection.
2025-05-27 17:47:46.170 +09:00 [DBG] Created DbConnection. (4ms).
2025-05-27 17:47:46.171 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:47:46.175 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:47:46.177 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:47:46.179 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:47:46.181 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-27 17:47:46.181 +09:00 [DBG] Creating DbConnection.
2025-05-27 17:47:46.181 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-27 17:47:46.183 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2025-05-27 17:47:46.184 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (3ms).
2025-05-27 17:47:46.184 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:47:46.185 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:47:46.188 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-27 17:47:46.200 +09:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-27 17:47:46.201 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:47:46.202 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (1ms).
2025-05-27 17:47:46.204 +09:00 [DBG] Creating DbConnection.
2025-05-27 17:47:46.204 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-27 17:47:46.204 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:47:46.205 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:47:46.205 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:47:46.205 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:47:46.205 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-27 17:47:46.205 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-05-27 17:47:46.205 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-05-27 17:47:46.205 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:47:46.206 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:47:46.206 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-27 17:47:46.206 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-27 17:47:46.206 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:47:46.206 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:47:46.227 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .Any()'
2025-05-27 17:47:46.320 +09:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-05-27 17:47:46.332 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:47:46.333 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:47:46.333 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 17:47:46.334 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 17:47:46.334 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 17:47:46.334 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-05-27 17:47:46.336 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-05-27 17:47:46.338 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:47:46.339 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 2ms reading results.
2025-05-27 17:47:46.340 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:47:46.340 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:47:46.341 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-27 17:47:46.341 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:47:46.341 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:47:46.343 +09:00 [DBG] Hosting starting
2025-05-27 17:47:46.373 +09:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-05-27 17:47:46.373 +09:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-05-27 17:47:46.387 +09:00 [INF] Now listening on: http://localhost:5229
2025-05-27 17:47:46.387 +09:00 [DBG] Loaded hosting startup assembly ApprovalService.API
2025-05-27 17:47:46.387 +09:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-27 17:47:46.387 +09:00 [INF] Hosting environment: Development
2025-05-27 17:47:46.387 +09:00 [INF] Content root path: /Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API
2025-05-27 17:47:46.387 +09:00 [DBG] Hosting started
2025-05-27 17:47:49.625 +09:00 [DBG] Connection id "0HNCSVCKH41E9" accepted.
2025-05-27 17:47:49.626 +09:00 [DBG] Connection id "0HNCSVCKH41EA" accepted.
2025-05-27 17:47:49.626 +09:00 [DBG] Connection id "0HNCSVCKH41EA" started.
2025-05-27 17:47:49.626 +09:00 [DBG] Connection id "0HNCSVCKH41E9" started.
2025-05-27 17:47:49.665 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5229/api/approval - null null
2025-05-27 17:47:49.692 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approval'
2025-05-27 17:47:49.694 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)' with route pattern 'api/Approval' is valid for the request path '/api/approval'
2025-05-27 17:47:49.695 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-27 17:47:49.709 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 17:47:49.709 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-27 17:47:49.715 +09:00 [INF] Route matched with {action = "GetAll", controller = "Approval"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API).
2025-05-27 17:47:49.715 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 17:47:49.715 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 17:47:49.716 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 17:47:49.716 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-27 17:47:49.716 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 17:47:49.717 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-27 17:47:49.718 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-27 17:47:53.225 +09:00 [DBG] Connection id "0HNCSVCKH41EA" received FIN.
2025-05-27 17:47:53.283 +09:00 [DBG] Connection id "0HNCSVCKH41EA" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-27 17:47:59.622 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-27 17:48:42.798 +09:00 [DBG] Connection id "0HNCSVCKH41EA" disconnecting.
2025-05-27 17:48:42.799 +09:00 [DBG] Compiling query expression: 
'DbSet<Approval>()'
2025-05-27 17:48:42.802 +09:00 [DBG] Connection id "0HNCSVCKH41EA" stopped.
2025-05-27 17:48:42.806 +09:00 [DBG] Including navigation: 'Approval.Approver'.
2025-05-27 17:48:42.848 +09:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Approval>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Approval.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Approval.Comments (string), 1], [Property: Approval.RequestId (string) Required, 2], [Property: Approval.RequestedAt (DateTime) Required, 3], [Property: Approval.RespondedAt (DateTime?), 4], [Property: Approval.Status (ApprovalStatus) Required, 5] }
            1 -> Dictionary<IProperty, int> { [Property: Approver.ApprovalId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: Approver.Department (string) Required, 6], [Property: Approver.EmployeeNumber (string) Required, 7], [Property: Approver.Name (string) Required, 8], [Property: Approver.Position (string) Required, 9] }
        SELECT a.Id, a.Comments, a.RequestId, a.RequestedAt, a.RespondedAt, a.Status, a.ApproverDepartment, a.ApproverEmployeeNumber, a.ApproverName, a.ApproverPosition
        FROM Approvals AS a) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Approval.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Approval.Comments (string), 1], [Property: Approval.RequestId (string) Required, 2], [Property: Approval.RequestedAt (DateTime) Required, 3], [Property: Approval.RespondedAt (DateTime?), 4], [Property: Approval.Status (ApprovalStatus) Required, 5] }
            1 -> Dictionary<IProperty, int> { [Property: Approver.ApprovalId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: Approver.Department (string) Required, 6], [Property: Approver.EmployeeNumber (string) Required, 7], [Property: Approver.Name (string) Required, 8], [Property: Approver.Position (string) Required, 9] }
        SELECT a.Id, a.Comments, a.RequestId, a.RequestedAt, a.RespondedAt, a.Status, a.ApproverDepartment, a.ApproverEmployeeNumber, a.ApproverName, a.ApproverPosition
        FROM Approvals AS a, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Approval entity;
        Approver entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Approval instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Approval);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Approval.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approval").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Approval)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Approval | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approval")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Approval | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approval")]: 
                        {
                            return 
                            {
                                Approval instance;
                                instance = new Approval();
                                instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                instance.<Comments>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                instance.<RequestId>k__BackingField = dataReader.GetString(2);
                                instance.<RequestedAt>k__BackingField = dataReader.GetDateTime(3);
                                instance.<RespondedAt>k__BackingField = dataReader.IsDBNull(4) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(4);
                                instance.<Status>k__BackingField = Invoke(((EnumToNumberConverter<ApprovalStatus, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Approval.Status (ApprovalStatus) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approval").FindProperty("Status")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(5));
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Approval | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approval")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Approval)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        entity = 
        {
            MaterializationContext materializationContext2;
            IEntityType entityType2;
            Approver instance2;
            InternalEntityEntry entry2;
            bool hasNullKey2;
            materializationContext2 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance2 = default(Approver);
            entry2 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Approver.ApprovalId PK | Resolver: c => c.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approver").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey2);
            !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
            {
                entityType2 = entry2.EntityType;
                return instance2 = (Approver)entry2.Entity;
            } : 
            {
                ISnapshot shadowSnapshot2;
                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType2 = [LIFTABLE Constant: EntityType: Approver Owned | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approver")];
                instance2 = switch (entityType2)
                {
                    case [LIFTABLE Constant: EntityType: Approver Owned | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approver")]: 
                        {
                            shadowSnapshot2 = (ISnapshot)new Snapshot<Guid>(dataReader.GetGuid(0));
                            return 
                            {
                                Approver instance;
                                instance = new Approver(
                                    dataReader.GetString(7), 
                                    dataReader.GetString(8)
                                );
                                instance.<Department>k__BackingField = dataReader.GetString(6);
                                instance.<Position>k__BackingField = dataReader.GetString(9);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext2.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Approver Owned | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approver")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Approver)
                }
                ;
                entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType2, 
                    entity: instance2, 
                    snapshot: shadowSnapshot2);
                return instance2;
            } : default(void);
            return instance2;
        };
        ShaperProcessingExpressionVisitor.IncludeReference<Approval, Approval, Approver>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Approval.Approver (Approver) ToDependent Approver | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approval").FindNavigation("Approver")], 
            inverseNavigation: default(INavigation), 
            fixup: (namelessParameter{8}, namelessParameter{9}) => 
            {
                return namelessParameter{8}.<Approver>k__BackingField = namelessParameter{9};
            }, 
            trackingQuery: True);
        return entity;
    }, 
    contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-05-27 17:48:42.857 +09:00 [DBG] Creating DbConnection.
2025-05-27 17:48:42.857 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-27 17:48:42.857 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:48:42.857 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:48:42.857 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 17:48:42.857 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 17:48:42.858 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 17:48:42.858 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Comments", "a"."RequestId", "a"."RequestedAt", "a"."RespondedAt", "a"."Status", "a"."ApproverDepartment", "a"."ApproverEmployeeNumber", "a"."ApproverName", "a"."ApproverPosition"
FROM "Approvals" AS "a"
2025-05-27 17:48:42.860 +09:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Comments", "a"."RequestId", "a"."RequestedAt", "a"."RespondedAt", "a"."Status", "a"."ApproverDepartment", "a"."ApproverEmployeeNumber", "a"."ApproverName", "a"."ApproverPosition"
FROM "Approvals" AS "a"
2025-05-27 17:48:42.861 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:48:42.861 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:48:42.876 +09:00 [ERR] An exception occurred while iterating over the results of a query for context type 'ApprovalService.Infrastructure.Persistence.ApprovalDbContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: Approvals'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: Approvals'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-05-27 17:49:13.709 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 17:49:13.723 +09:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 17:49:13.723 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 17:49:13.724 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 17:49:13.725 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 17:49:13.726 +09:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ApprovalService.API.Models.ApprovalDto, ApprovalService.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 17:49:13.810 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API) in 84088.5463ms
2025-05-27 17:49:13.963 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-27 17:49:13.974 +09:00 [DBG] Connection id "0HNCSVCKH41E9" completed keep alive response.
2025-05-27 17:49:13.987 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-27 17:49:14.111 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:49:14.113 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (16ms).
2025-05-27 17:49:14.115 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5229/api/approval - 200 null application/json; charset=utf-8 84456.6303ms
2025-05-27 17:49:15.544 +09:00 [DBG] Connection id "0HNCSVCKH41E9" received FIN.
2025-05-27 17:49:15.545 +09:00 [DBG] Connection id "0HNCSVCKH41E9" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-27 17:49:15.545 +09:00 [DBG] Connection id "0HNCSVCKH41E9" disconnecting.
2025-05-27 17:49:15.549 +09:00 [DBG] Connection id "0HNCSVCKH41E9" stopped.
2025-05-27 17:51:19.335 +09:00 [DBG] Connection id "0HNCSVCKH41EB" accepted.
2025-05-27 17:51:19.336 +09:00 [DBG] Connection id "0HNCSVCKH41EB" started.
2025-05-27 17:51:19.336 +09:00 [DBG] Connection id "0HNCSVCKH41EC" accepted.
2025-05-27 17:51:19.336 +09:00 [DBG] Connection id "0HNCSVCKH41EC" started.
2025-05-27 17:51:19.338 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5229/api/approval - null null
2025-05-27 17:51:19.338 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approval'
2025-05-27 17:51:19.340 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)' with route pattern 'api/Approval' is valid for the request path '/api/approval'
2025-05-27 17:51:19.340 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-27 17:51:19.345 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 17:51:19.346 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-27 17:51:19.346 +09:00 [INF] Route matched with {action = "GetAll", controller = "Approval"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API).
2025-05-27 17:51:19.346 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 17:51:19.346 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 17:51:19.347 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 17:51:19.347 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-27 17:51:19.347 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 17:51:19.347 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-27 17:51:19.353 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-27 17:51:19.390 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-27 17:51:19.392 +09:00 [DBG] Creating DbConnection.
2025-05-27 17:51:19.393 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-27 17:51:19.393 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:51:19.393 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:51:19.393 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 17:51:19.393 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 17:51:19.393 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 17:51:19.394 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Comments", "a"."RequestId", "a"."RequestedAt", "a"."RespondedAt", "a"."Status", "a"."ApproverDepartment", "a"."ApproverEmployeeNumber", "a"."ApproverName", "a"."ApproverPosition"
FROM "Approvals" AS "a"
2025-05-27 17:51:19.399 +09:00 [ERR] Failed executing DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Comments", "a"."RequestId", "a"."RequestedAt", "a"."RespondedAt", "a"."Status", "a"."ApproverDepartment", "a"."ApproverEmployeeNumber", "a"."ApproverName", "a"."ApproverPosition"
FROM "Approvals" AS "a"
2025-05-27 17:51:19.399 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:51:19.399 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:51:19.401 +09:00 [ERR] An exception occurred while iterating over the results of a query for context type 'ApprovalService.Infrastructure.Persistence.ApprovalDbContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: Approvals'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: Approvals'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-05-27 17:51:19.402 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 17:51:19.402 +09:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 17:51:19.402 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 17:51:19.402 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 17:51:19.402 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 17:51:19.402 +09:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ApprovalService.API.Models.ApprovalDto, ApprovalService.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 17:51:19.403 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API) in 55.6916ms
2025-05-27 17:51:19.403 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-27 17:51:19.403 +09:00 [DBG] Connection id "0HNCSVCKH41EB" completed keep alive response.
2025-05-27 17:51:19.403 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-27 17:51:19.403 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:51:19.403 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:51:19.403 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5229/api/approval - 200 null application/json; charset=utf-8 65.3871ms
2025-05-27 17:51:20.550 +09:00 [DBG] Connection id "0HNCSVCKH41EC" received FIN.
2025-05-27 17:51:20.550 +09:00 [DBG] Connection id "0HNCSVCKH41EB" received FIN.
2025-05-27 17:51:20.550 +09:00 [DBG] Connection id "0HNCSVCKH41EC" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-27 17:51:20.550 +09:00 [DBG] Connection id "0HNCSVCKH41EC" disconnecting.
2025-05-27 17:51:20.550 +09:00 [DBG] Connection id "0HNCSVCKH41EB" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-27 17:51:20.550 +09:00 [DBG] Connection id "0HNCSVCKH41EB" disconnecting.
2025-05-27 17:51:20.551 +09:00 [DBG] Connection id "0HNCSVCKH41EC" stopped.
2025-05-27 17:51:20.551 +09:00 [DBG] Connection id "0HNCSVCKH41EB" stopped.
2025-05-27 17:51:28.185 +09:00 [DBG] Connection id "0HNCSVCKH41ED" accepted.
2025-05-27 17:51:28.186 +09:00 [DBG] Connection id "0HNCSVCKH41ED" started.
2025-05-27 17:51:28.187 +09:00 [DBG] Connection id "0HNCSVCKH41EE" accepted.
2025-05-27 17:51:28.187 +09:00 [DBG] Connection id "0HNCSVCKH41EE" started.
2025-05-27 17:51:28.188 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5229/api/approval - null null
2025-05-27 17:51:28.189 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approval'
2025-05-27 17:51:28.189 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)' with route pattern 'api/Approval' is valid for the request path '/api/approval'
2025-05-27 17:51:28.190 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-27 17:51:28.194 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 17:51:28.194 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-27 17:51:28.194 +09:00 [INF] Route matched with {action = "GetAll", controller = "Approval"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAll() on controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API).
2025-05-27 17:51:28.195 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 17:51:28.195 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 17:51:28.195 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 17:51:28.195 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-27 17:51:28.195 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 17:51:28.195 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-27 17:51:28.197 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-27 17:51:28.199 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-27 17:51:28.199 +09:00 [DBG] Creating DbConnection.
2025-05-27 17:51:28.200 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-27 17:51:28.200 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:51:28.200 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:51:28.200 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 17:51:28.200 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 17:51:28.200 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 17:51:28.200 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Comments", "a"."RequestId", "a"."RequestedAt", "a"."RespondedAt", "a"."Status", "a"."ApproverDepartment", "a"."ApproverEmployeeNumber", "a"."ApproverName", "a"."ApproverPosition"
FROM "Approvals" AS "a"
2025-05-27 17:51:28.201 +09:00 [ERR] Failed executing DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Comments", "a"."RequestId", "a"."RequestedAt", "a"."RespondedAt", "a"."Status", "a"."ApproverDepartment", "a"."ApproverEmployeeNumber", "a"."ApproverName", "a"."ApproverPosition"
FROM "Approvals" AS "a"
2025-05-27 17:51:28.201 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:51:28.201 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:51:28.202 +09:00 [ERR] An exception occurred while iterating over the results of a query for context type 'ApprovalService.Infrastructure.Persistence.ApprovalDbContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: Approvals'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: Approvals'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-05-27 17:51:28.203 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 17:51:28.203 +09:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 17:51:28.203 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 17:51:28.203 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 17:51:28.203 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 17:51:28.203 +09:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ApprovalService.API.Models.ApprovalDto, ApprovalService.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 17:51:28.203 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API) in 8.3764ms
2025-05-27 17:51:28.203 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-27 17:51:28.203 +09:00 [DBG] Connection id "0HNCSVCKH41ED" completed keep alive response.
2025-05-27 17:51:28.203 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-27 17:51:28.203 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:51:28.203 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:51:28.203 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5229/api/approval - 200 null application/json; charset=utf-8 15.4912ms
2025-05-27 17:51:30.551 +09:00 [DBG] Connection id "0HNCSVCKH41EE" received FIN.
2025-05-27 17:51:30.551 +09:00 [DBG] Connection id "0HNCSVCKH41ED" received FIN.
2025-05-27 17:51:30.552 +09:00 [DBG] Connection id "0HNCSVCKH41EE" disconnecting.
2025-05-27 17:51:30.552 +09:00 [DBG] Connection id "0HNCSVCKH41EE" stopped.
2025-05-27 17:51:30.552 +09:00 [DBG] Connection id "0HNCSVCKH41ED" disconnecting.
2025-05-27 17:51:30.552 +09:00 [DBG] Connection id "0HNCSVCKH41ED" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-27 17:51:30.552 +09:00 [DBG] Connection id "0HNCSVCKH41EE" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-27 17:51:30.552 +09:00 [DBG] Connection id "0HNCSVCKH41ED" stopped.
2025-05-27 17:52:01.554 +09:00 [INF] Application is shutting down...
2025-05-27 17:52:01.555 +09:00 [DBG] Hosting stopping
2025-05-27 17:52:01.568 +09:00 [DBG] Hosting stopped
 to start
System.IO.IOException: Failed to bind to address http://127.0.0.1:5229: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (48): Address already in use
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-05-27 17:52:09.854 +09:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-05-27 17:52:09.936 +09:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-05-27 17:52:10.248 +09:00 [DBG] The property 'Approver.ApprovalId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-05-27 17:52:10.288 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-27 17:52:10.291 +09:00 [DBG] Creating DbConnection.
2025-05-27 17:52:10.297 +09:00 [DBG] Created DbConnection. (4ms).
2025-05-27 17:52:10.298 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:52:10.302 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:52:10.304 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:52:10.307 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:52:10.309 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-27 17:52:10.309 +09:00 [DBG] Creating DbConnection.
2025-05-27 17:52:10.309 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-27 17:52:10.311 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2025-05-27 17:52:10.312 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (3ms).
2025-05-27 17:52:10.312 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:52:10.312 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:52:10.316 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-27 17:52:10.328 +09:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-27 17:52:10.328 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:52:10.330 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (1ms).
2025-05-27 17:52:10.332 +09:00 [DBG] Creating DbConnection.
2025-05-27 17:52:10.332 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-27 17:52:10.332 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:52:10.332 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:52:10.332 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:52:10.332 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:52:10.333 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-27 17:52:10.333 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-05-27 17:52:10.333 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-05-27 17:52:10.333 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:52:10.333 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:52:10.333 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-27 17:52:10.333 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-27 17:52:10.333 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:52:10.334 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:52:10.352 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .Any()'
2025-05-27 17:52:10.452 +09:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-05-27 17:52:10.463 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:52:10.468 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:52:10.468 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 17:52:10.468 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 17:52:10.468 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 17:52:10.468 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-05-27 17:52:10.469 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-05-27 17:52:10.471 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:52:10.472 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 2ms reading results.
2025-05-27 17:52:10.473 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:52:10.473 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:52:10.473 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-27 17:52:10.474 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:52:10.474 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:52:10.476 +09:00 [DBG] Hosting starting
2025-05-27 17:52:10.492 +09:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-05-27 17:52:10.492 +09:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-05-27 17:52:10.741 +09:00 [INF] Now listening on: https://localhost:5001
2025-05-27 17:52:10.741 +09:00 [INF] Now listening on: http://localhost:5229
2025-05-27 17:52:10.741 +09:00 [DBG] Loaded hosting startup assembly ApprovalService.API
2025-05-27 17:52:10.741 +09:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-27 17:52:10.741 +09:00 [INF] Hosting environment: Development
2025-05-27 17:52:10.741 +09:00 [INF] Content root path: /Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API
2025-05-27 17:52:10.741 +09:00 [DBG] Hosting started
2025-05-27 17:52:14.062 +09:00 [DBG] Connection id "0HNCSVF3AVN81" accepted.
2025-05-27 17:52:14.062 +09:00 [DBG] Connection id "0HNCSVF3AVN81" started.
2025-05-27 17:52:14.113 +09:00 [DBG] Connection 0HNCSVF3AVN81 established using the following protocol: "Tls12"
2025-05-27 17:52:14.159 +09:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/approval - null null
2025-05-27 17:52:14.177 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approval'
2025-05-27 17:52:14.182 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)' with route pattern 'api/Approval' is valid for the request path '/api/approval'
2025-05-27 17:52:14.183 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-27 17:52:14.204 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 17:52:14.206 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-27 17:52:14.315 +09:00 [INF] Route matched with {action = "GetAll", controller = "Approval"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API).
2025-05-27 17:52:14.320 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 17:52:14.320 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 17:52:14.324 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 17:52:14.324 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-27 17:52:14.324 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 17:52:14.329 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-27 17:52:14.351 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-27 17:52:14.576 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-27 17:52:14.578 +09:00 [DBG] Compiling query expression: 
'DbSet<Approval>()'
2025-05-27 17:52:14.596 +09:00 [DBG] Including navigation: 'Approval.Approver'.
2025-05-27 17:52:14.658 +09:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Approval>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Approval.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Approval.Comments (string), 1], [Property: Approval.RequestId (string) Required, 2], [Property: Approval.RequestedAt (DateTime) Required, 3], [Property: Approval.RespondedAt (DateTime?), 4], [Property: Approval.Status (ApprovalStatus) Required, 5] }
            1 -> Dictionary<IProperty, int> { [Property: Approver.ApprovalId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: Approver.Department (string) Required, 6], [Property: Approver.EmployeeNumber (string) Required, 7], [Property: Approver.Name (string) Required, 8], [Property: Approver.Position (string) Required, 9] }
        SELECT a.Id, a.Comments, a.RequestId, a.RequestedAt, a.RespondedAt, a.Status, a.ApproverDepartment, a.ApproverEmployeeNumber, a.ApproverName, a.ApproverPosition
        FROM Approvals AS a) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Approval.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Approval.Comments (string), 1], [Property: Approval.RequestId (string) Required, 2], [Property: Approval.RequestedAt (DateTime) Required, 3], [Property: Approval.RespondedAt (DateTime?), 4], [Property: Approval.Status (ApprovalStatus) Required, 5] }
            1 -> Dictionary<IProperty, int> { [Property: Approver.ApprovalId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: Approver.Department (string) Required, 6], [Property: Approver.EmployeeNumber (string) Required, 7], [Property: Approver.Name (string) Required, 8], [Property: Approver.Position (string) Required, 9] }
        SELECT a.Id, a.Comments, a.RequestId, a.RequestedAt, a.RespondedAt, a.Status, a.ApproverDepartment, a.ApproverEmployeeNumber, a.ApproverName, a.ApproverPosition
        FROM Approvals AS a, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Approval entity;
        Approver entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Approval instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Approval);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Approval.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approval").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Approval)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Approval | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approval")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Approval | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approval")]: 
                        {
                            return 
                            {
                                Approval instance;
                                instance = new Approval();
                                instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                instance.<Comments>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                instance.<RequestId>k__BackingField = dataReader.GetString(2);
                                instance.<RequestedAt>k__BackingField = dataReader.GetDateTime(3);
                                instance.<RespondedAt>k__BackingField = dataReader.IsDBNull(4) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(4);
                                instance.<Status>k__BackingField = Invoke(((EnumToNumberConverter<ApprovalStatus, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Approval.Status (ApprovalStatus) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approval").FindProperty("Status")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(5));
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Approval | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approval")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Approval)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        entity = 
        {
            MaterializationContext materializationContext2;
            IEntityType entityType2;
            Approver instance2;
            InternalEntityEntry entry2;
            bool hasNullKey2;
            materializationContext2 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance2 = default(Approver);
            entry2 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Approver.ApprovalId PK | Resolver: c => c.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approver").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey2);
            !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
            {
                entityType2 = entry2.EntityType;
                return instance2 = (Approver)entry2.Entity;
            } : 
            {
                ISnapshot shadowSnapshot2;
                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType2 = [LIFTABLE Constant: EntityType: Approver Owned | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approver")];
                instance2 = switch (entityType2)
                {
                    case [LIFTABLE Constant: EntityType: Approver Owned | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approver")]: 
                        {
                            shadowSnapshot2 = (ISnapshot)new Snapshot<Guid>(dataReader.GetGuid(0));
                            return 
                            {
                                Approver instance;
                                instance = new Approver(
                                    dataReader.GetString(7), 
                                    dataReader.GetString(8)
                                );
                                instance.<Department>k__BackingField = dataReader.GetString(6);
                                instance.<Position>k__BackingField = dataReader.GetString(9);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext2.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Approver Owned | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approver")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Approver)
                }
                ;
                entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType2, 
                    entity: instance2, 
                    snapshot: shadowSnapshot2);
                return instance2;
            } : default(void);
            return instance2;
        };
        ShaperProcessingExpressionVisitor.IncludeReference<Approval, Approval, Approver>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Approval.Approver (Approver) ToDependent Approver | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approval").FindNavigation("Approver")], 
            inverseNavigation: default(INavigation), 
            fixup: (namelessParameter{8}, namelessParameter{9}) => 
            {
                return namelessParameter{8}.<Approver>k__BackingField = namelessParameter{9};
            }, 
            trackingQuery: True);
        return entity;
    }, 
    contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-05-27 17:52:14.661 +09:00 [DBG] Creating DbConnection.
2025-05-27 17:52:14.662 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-27 17:52:14.662 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:52:14.662 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:52:14.662 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 17:52:14.662 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 17:52:14.662 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 17:52:14.662 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Comments", "a"."RequestId", "a"."RequestedAt", "a"."RespondedAt", "a"."Status", "a"."ApproverDepartment", "a"."ApproverEmployeeNumber", "a"."ApproverName", "a"."ApproverPosition"
FROM "Approvals" AS "a"
2025-05-27 17:52:14.665 +09:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Comments", "a"."RequestId", "a"."RequestedAt", "a"."RespondedAt", "a"."Status", "a"."ApproverDepartment", "a"."ApproverEmployeeNumber", "a"."ApproverName", "a"."ApproverPosition"
FROM "Approvals" AS "a"
2025-05-27 17:52:14.665 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 17:52:14.665 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:52:14.671 +09:00 [ERR] An exception occurred while iterating over the results of a query for context type 'ApprovalService.Infrastructure.Persistence.ApprovalDbContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: Approvals'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: Approvals'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-05-27 17:52:14.675 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API) in 347.6129ms
2025-05-27 17:52:14.679 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-27 17:52:14.679 +09:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: Approvals'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at ApprovalService.Infrastructure.Repositories.ApprovalRepository`1.GetAllAsync() in /Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/Infrastructure/Repositories/ApprovalRepository.cs:line 21
   at ApprovalService.API.Controllers.ApprovalController.GetAll() in /Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Controllers/ApprovalController.cs:line 30
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-27 17:52:14.700 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-27 17:52:14.702 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 17:52:14.702 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 17:52:14.703 +09:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/approval - 500 null text/html; charset=utf-8 544.8324ms
2025-05-27 17:52:15.555 +09:00 [DBG] Connection id "0HNCSVF3AVN81" received FIN.
2025-05-27 17:52:15.558 +09:00 [DBG] Connection id "0HNCSVF3AVN81" is closed. The last processed stream ID was 1.
2025-05-27 17:52:15.559 +09:00 [DBG] Connection id "0HNCSVF3AVN81" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-27 17:52:15.560 +09:00 [DBG] The connection queue processing loop for 0HNCSVF3AVN81 completed.
2025-05-27 17:52:15.601 +09:00 [DBG] Connection id "0HNCSVF3AVN81" stopped.
2025-05-27 18:14:06.571 +09:00 [INF] Application is shutting down...
2025-05-27 18:14:06.573 +09:00 [DBG] Hosting stopping
2025-05-27 18:14:06.586 +09:00 [DBG] Hosting stopped
2025-05-27 18:14:12.926 +09:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-05-27 18:14:13.069 +09:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-05-27 18:14:13.418 +09:00 [DBG] The property 'Approver.ApprovalId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-05-27 18:14:13.465 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-27 18:14:13.469 +09:00 [DBG] Creating DbConnection.
2025-05-27 18:14:13.475 +09:00 [DBG] Created DbConnection. (5ms).
2025-05-27 18:14:13.477 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 18:14:13.483 +09:00 [DBG] An error occurred using the connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 18:14:13.484 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 18:14:13.486 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 18:14:13.486 +09:00 [DBG] Creating DbConnection.
2025-05-27 18:14:13.487 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-27 18:14:13.487 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 18:14:13.492 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 18:14:13.494 +09:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-05-27 18:14:13.496 +09:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2025-05-27 18:14:13.497 +09:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (3ms).
2025-05-27 18:14:13.500 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2025-05-27 18:14:13.514 +09:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2025-05-27 18:14:13.515 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 18:14:13.517 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (1ms).
2025-05-27 18:14:13.582 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 18:14:13.582 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 18:14:13.583 +09:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-05-27 18:14:13.591 +09:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-05-27 18:14:13.592 +09:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-05-27 18:14:13.592 +09:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-05-27 18:14:13.592 +09:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-05-27 18:14:13.595 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ApprovalRequests" (
    "ApprovalId" TEXT NOT NULL CONSTRAINT "PK_ApprovalRequests" PRIMARY KEY,
    "RequestTitle" TEXT NOT NULL,
    "RequestContent" TEXT NULL,
    "ApplicantEmployeeNumber" TEXT NOT NULL,
    "ApplicantName" TEXT NOT NULL,
    "ApplicantPosition" TEXT NULL,
    "ApplicantDepartment" TEXT NULL,
    "Status" TEXT NOT NULL,
    "RequestedAt" TEXT NOT NULL,
    "RespondedAt" TEXT NULL,
    "ApproverComment" TEXT NULL,
    "ApprovalType" TEXT NULL,
    "MisKey" TEXT NULL
);
2025-05-27 18:14:13.596 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ApprovalRequests" (
    "ApprovalId" TEXT NOT NULL CONSTRAINT "PK_ApprovalRequests" PRIMARY KEY,
    "RequestTitle" TEXT NOT NULL,
    "RequestContent" TEXT NULL,
    "ApplicantEmployeeNumber" TEXT NOT NULL,
    "ApplicantName" TEXT NOT NULL,
    "ApplicantPosition" TEXT NULL,
    "ApplicantDepartment" TEXT NULL,
    "Status" TEXT NOT NULL,
    "RequestedAt" TEXT NOT NULL,
    "RespondedAt" TEXT NULL,
    "ApproverComment" TEXT NULL,
    "ApprovalType" TEXT NULL,
    "MisKey" TEXT NULL
);
2025-05-27 18:14:13.596 +09:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-05-27 18:14:13.601 +09:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (4ms).
2025-05-27 18:14:13.601 +09:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (4ms).
2025-05-27 18:14:13.601 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Approvals" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Approvals" PRIMARY KEY,
    "RequestId" TEXT NOT NULL,
    "Status" INTEGER NOT NULL,
    "ApproverEmployeeNumber" TEXT NOT NULL,
    "ApproverName" TEXT NOT NULL,
    "ApproverPosition" TEXT NOT NULL,
    "ApproverDepartment" TEXT NOT NULL,
    "Comments" TEXT NULL,
    "RequestedAt" TEXT NOT NULL,
    "RespondedAt" TEXT NULL
);
2025-05-27 18:14:13.604 +09:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Approvals" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Approvals" PRIMARY KEY,
    "RequestId" TEXT NOT NULL,
    "Status" INTEGER NOT NULL,
    "ApproverEmployeeNumber" TEXT NOT NULL,
    "ApproverName" TEXT NOT NULL,
    "ApproverPosition" TEXT NOT NULL,
    "ApproverDepartment" TEXT NOT NULL,
    "Comments" TEXT NULL,
    "RequestedAt" TEXT NOT NULL,
    "RespondedAt" TEXT NULL
);
2025-05-27 18:14:13.605 +09:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-05-27 18:14:13.607 +09:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2025-05-27 18:14:13.607 +09:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2025-05-27 18:14:13.607 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ApprovalSteps" (
    "StepId" TEXT NOT NULL CONSTRAINT "PK_ApprovalSteps" PRIMARY KEY,
    "ApprovalId" TEXT NOT NULL,
    "ApproverEmployeeNumber" TEXT NOT NULL,
    "Sequence" INTEGER NOT NULL,
    "IsFinalApprover" INTEGER NOT NULL,
    "ActionStatus" TEXT NULL,
    "ActionDate" TEXT NULL,
    "Comment" TEXT NULL
);
2025-05-27 18:14:13.608 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ApprovalSteps" (
    "StepId" TEXT NOT NULL CONSTRAINT "PK_ApprovalSteps" PRIMARY KEY,
    "ApprovalId" TEXT NOT NULL,
    "ApproverEmployeeNumber" TEXT NOT NULL,
    "Sequence" INTEGER NOT NULL,
    "IsFinalApprover" INTEGER NOT NULL,
    "ActionStatus" TEXT NULL,
    "ActionDate" TEXT NULL,
    "Comment" TEXT NULL
);
2025-05-27 18:14:13.610 +09:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-05-27 18:14:13.610 +09:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-05-27 18:14:13.610 +09:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-05-27 18:14:13.610 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ApprovalTemplates" (
    "TemplateId" TEXT NOT NULL CONSTRAINT "PK_ApprovalTemplates" PRIMARY KEY,
    "TemplateName" TEXT NOT NULL,
    "TemplateContent" TEXT NULL,
    "CreatedByEmployeeNumber" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL
);
2025-05-27 18:14:13.616 +09:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ApprovalTemplates" (
    "TemplateId" TEXT NOT NULL CONSTRAINT "PK_ApprovalTemplates" PRIMARY KEY,
    "TemplateName" TEXT NOT NULL,
    "TemplateContent" TEXT NULL,
    "CreatedByEmployeeNumber" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL
);
2025-05-27 18:14:13.617 +09:00 [DBG] Committing transaction.
2025-05-27 18:14:13.620 +09:00 [DBG] Committed transaction.
2025-05-27 18:14:13.621 +09:00 [DBG] Disposing transaction.
2025-05-27 18:14:13.621 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 18:14:13.621 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 18:14:13.627 +09:00 [DBG] Creating DbConnection.
2025-05-27 18:14:13.627 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-27 18:14:13.627 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 18:14:13.627 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 18:14:13.629 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 18:14:13.629 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 18:14:13.630 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-27 18:14:13.633 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2025-05-27 18:14:13.633 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2025-05-27 18:14:13.633 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 18:14:13.633 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 18:14:13.634 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-27 18:14:13.636 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-27 18:14:13.636 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 18:14:13.636 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 18:14:13.679 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .Any()'
2025-05-27 18:14:13.784 +09:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-05-27 18:14:13.805 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 18:14:13.805 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 18:14:13.805 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 18:14:13.806 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 18:14:13.808 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-27 18:14:13.808 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-05-27 18:14:13.811 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-05-27 18:14:13.818 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 18:14:13.820 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 6ms reading results.
2025-05-27 18:14:13.821 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 18:14:13.821 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 18:14:13.863 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'Approval' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 18:14:13.875 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'Approver' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 18:14:13.886 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 18:14:13.897 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalStep' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 18:14:13.904 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalTemplate' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 18:14:13.905 +09:00 [DBG] SaveChanges starting for 'ApprovalDbContext'.
2025-05-27 18:14:13.906 +09:00 [DBG] DetectChanges starting for 'ApprovalDbContext'.
2025-05-27 18:14:13.919 +09:00 [DBG] DetectChanges completed for 'ApprovalDbContext'.
2025-05-27 18:14:13.948 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 18:14:13.949 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 18:14:13.949 +09:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-05-27 18:14:13.949 +09:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-05-27 18:14:13.950 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 18:14:13.951 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 18:14:13.951 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 18:14:13.952 +09:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 5), @p2='?' (Size = 4), @p3='?' (Size = 11), @p4='?' (Size = 5), @p5='?' (Size = 2), @p6='?', @p7='?', @p8='?' (Size = 9), @p9='?' (Size = 5), @p10='?' (DbType = DateTime), @p11='?' (DbType = DateTime), @p12='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ApprovalRequests" ("ApprovalId", "ApplicantDepartment", "ApplicantEmployeeNumber", "ApplicantName", "ApplicantPosition", "ApprovalType", "ApproverComment", "MisKey", "RequestContent", "RequestTitle", "RequestedAt", "RespondedAt", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2025-05-27 18:14:13.954 +09:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 5), @p2='?' (Size = 4), @p3='?' (Size = 11), @p4='?' (Size = 5), @p5='?' (Size = 2), @p6='?', @p7='?', @p8='?' (Size = 9), @p9='?' (Size = 5), @p10='?' (DbType = DateTime), @p11='?' (DbType = DateTime), @p12='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ApprovalRequests" ("ApprovalId", "ApplicantDepartment", "ApplicantEmployeeNumber", "ApplicantName", "ApplicantPosition", "ApprovalType", "ApproverComment", "MisKey", "RequestContent", "RequestTitle", "RequestedAt", "RespondedAt", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2025-05-27 18:14:13.956 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 18:14:13.956 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 1ms reading results.
2025-05-27 18:14:13.956 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 18:14:13.956 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 18:14:13.957 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 18:14:13.957 +09:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Guid), @p4='?' (Size = 4), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ApprovalSteps" ("StepId", "ActionDate", "ActionStatus", "ApprovalId", "ApproverEmployeeNumber", "Comment", "IsFinalApprover", "Sequence")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-05-27 18:14:13.957 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Guid), @p4='?' (Size = 4), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ApprovalSteps" ("StepId", "ActionDate", "ActionStatus", "ApprovalId", "ApproverEmployeeNumber", "Comment", "IsFinalApprover", "Sequence")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-05-27 18:14:13.958 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 18:14:13.958 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 0ms reading results.
2025-05-27 18:14:13.958 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 18:14:13.958 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 18:14:13.958 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 18:14:13.958 +09:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 5), @p3='?' (Size = 16), @p4='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ApprovalTemplates" ("TemplateId", "CreatedAt", "CreatedByEmployeeNumber", "TemplateContent", "TemplateName")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-05-27 18:14:13.958 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 5), @p3='?' (Size = 16), @p4='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ApprovalTemplates" ("TemplateId", "CreatedAt", "CreatedByEmployeeNumber", "TemplateContent", "TemplateName")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-05-27 18:14:13.959 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 18:14:13.959 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 0ms reading results.
2025-05-27 18:14:13.961 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 18:14:13.961 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 18:14:13.961 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 18:14:13.961 +09:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (Size = 36), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p6='?' (Size = 2), @p7='?' (Size = 4), @p8='?' (Size = 10), @p9='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Approvals" ("Id", "Comments", "RequestId", "RequestedAt", "RespondedAt", "Status", "ApproverDepartment", "ApproverEmployeeNumber", "ApproverName", "ApproverPosition")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-05-27 18:14:13.962 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (Size = 36), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p6='?' (Size = 2), @p7='?' (Size = 4), @p8='?' (Size = 10), @p9='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Approvals" ("Id", "Comments", "RequestId", "RequestedAt", "RespondedAt", "Status", "ApproverDepartment", "ApproverEmployeeNumber", "ApproverName", "ApproverPosition")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-05-27 18:14:13.962 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 18:14:13.963 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 0ms reading results.
2025-05-27 18:14:13.964 +09:00 [DBG] Committing transaction.
2025-05-27 18:14:13.964 +09:00 [DBG] Committed transaction.
2025-05-27 18:14:13.966 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 18:14:13.966 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 18:14:13.967 +09:00 [DBG] Disposing transaction.
2025-05-27 18:14:13.974 +09:00 [DBG] An entity of type 'Approval' tracked by 'ApprovalDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 18:14:13.975 +09:00 [DBG] An entity of type 'Approver' tracked by 'ApprovalDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 18:14:13.975 +09:00 [DBG] An entity of type 'ApprovalRequest' tracked by 'ApprovalDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 18:14:13.975 +09:00 [DBG] An entity of type 'ApprovalStep' tracked by 'ApprovalDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 18:14:13.975 +09:00 [DBG] An entity of type 'ApprovalTemplate' tracked by 'ApprovalDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 18:14:13.976 +09:00 [DBG] SaveChanges completed for 'ApprovalDbContext' with 4 entities written to the database.
2025-05-27 18:14:13.977 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-27 18:14:13.977 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 18:14:13.977 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 18:14:13.979 +09:00 [DBG] Hosting starting
2025-05-27 18:14:14.009 +09:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-05-27 18:14:14.009 +09:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-05-27 18:14:14.623 +09:00 [INF] Now listening on: https://localhost:5001
2025-05-27 18:14:14.624 +09:00 [INF] Now listening on: http://localhost:5229
2025-05-27 18:14:14.624 +09:00 [DBG] Loaded hosting startup assembly ApprovalService.API
2025-05-27 18:14:14.624 +09:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-27 18:14:14.624 +09:00 [INF] Hosting environment: Development
2025-05-27 18:14:14.624 +09:00 [INF] Content root path: /Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API
2025-05-27 18:14:14.624 +09:00 [DBG] Hosting started
2025-05-27 18:18:14.305 +09:00 [DBG] Connection id "0HNCSVTKAK7N3" accepted.
2025-05-27 18:18:14.307 +09:00 [DBG] Connection id "0HNCSVTKAK7N3" started.
2025-05-27 18:18:14.350 +09:00 [DBG] Connection 0HNCSVTKAK7N3 established using the following protocol: "Tls12"
2025-05-27 18:18:14.380 +09:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/approval - null null
2025-05-27 18:18:14.393 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approval'
2025-05-27 18:18:14.395 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)' with route pattern 'api/Approval' is valid for the request path '/api/approval'
2025-05-27 18:18:14.395 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-27 18:18:14.413 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 18:18:14.413 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-27 18:18:14.421 +09:00 [INF] Route matched with {action = "GetAll", controller = "Approval"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API).
2025-05-27 18:18:14.421 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 18:18:14.422 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 18:18:14.422 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 18:18:14.422 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-27 18:18:14.423 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 18:18:14.425 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-27 18:18:14.427 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-27 18:18:14.439 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-27 18:18:14.443 +09:00 [DBG] Compiling query expression: 
'DbSet<Approval>()'
2025-05-27 18:18:14.447 +09:00 [DBG] Including navigation: 'Approval.Approver'.
2025-05-27 18:18:14.481 +09:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Approval>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Approval.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Approval.Comments (string), 1], [Property: Approval.RequestId (string) Required, 2], [Property: Approval.RequestedAt (DateTime) Required, 3], [Property: Approval.RespondedAt (DateTime?), 4], [Property: Approval.Status (ApprovalStatus) Required, 5] }
            1 -> Dictionary<IProperty, int> { [Property: Approver.ApprovalId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: Approver.Department (string) Required, 6], [Property: Approver.EmployeeNumber (string) Required, 7], [Property: Approver.Name (string) Required, 8], [Property: Approver.Position (string) Required, 9] }
        SELECT a.Id, a.Comments, a.RequestId, a.RequestedAt, a.RespondedAt, a.Status, a.ApproverDepartment, a.ApproverEmployeeNumber, a.ApproverName, a.ApproverPosition
        FROM Approvals AS a) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Approval.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Approval.Comments (string), 1], [Property: Approval.RequestId (string) Required, 2], [Property: Approval.RequestedAt (DateTime) Required, 3], [Property: Approval.RespondedAt (DateTime?), 4], [Property: Approval.Status (ApprovalStatus) Required, 5] }
            1 -> Dictionary<IProperty, int> { [Property: Approver.ApprovalId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: Approver.Department (string) Required, 6], [Property: Approver.EmployeeNumber (string) Required, 7], [Property: Approver.Name (string) Required, 8], [Property: Approver.Position (string) Required, 9] }
        SELECT a.Id, a.Comments, a.RequestId, a.RequestedAt, a.RespondedAt, a.Status, a.ApproverDepartment, a.ApproverEmployeeNumber, a.ApproverName, a.ApproverPosition
        FROM Approvals AS a, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Approval entity;
        Approver entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Approval instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Approval);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Approval.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approval").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Approval)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Approval | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approval")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Approval | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approval")]: 
                        {
                            return 
                            {
                                Approval instance;
                                instance = new Approval();
                                instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                instance.<Comments>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                instance.<RequestId>k__BackingField = dataReader.GetString(2);
                                instance.<RequestedAt>k__BackingField = dataReader.GetDateTime(3);
                                instance.<RespondedAt>k__BackingField = dataReader.IsDBNull(4) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(4);
                                instance.<Status>k__BackingField = Invoke(((EnumToNumberConverter<ApprovalStatus, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Approval.Status (ApprovalStatus) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approval").FindProperty("Status")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(5));
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Approval | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approval")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Approval)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        entity = 
        {
            MaterializationContext materializationContext2;
            IEntityType entityType2;
            Approver instance2;
            InternalEntityEntry entry2;
            bool hasNullKey2;
            materializationContext2 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance2 = default(Approver);
            entry2 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Approver.ApprovalId PK | Resolver: c => c.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approver").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey2);
            !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
            {
                entityType2 = entry2.EntityType;
                return instance2 = (Approver)entry2.Entity;
            } : 
            {
                ISnapshot shadowSnapshot2;
                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType2 = [LIFTABLE Constant: EntityType: Approver Owned | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approver")];
                instance2 = switch (entityType2)
                {
                    case [LIFTABLE Constant: EntityType: Approver Owned | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approver")]: 
                        {
                            shadowSnapshot2 = (ISnapshot)new Snapshot<Guid>(dataReader.GetGuid(0));
                            return 
                            {
                                Approver instance;
                                instance = new Approver(
                                    dataReader.GetString(7), 
                                    dataReader.GetString(8)
                                );
                                instance.<Department>k__BackingField = dataReader.GetString(6);
                                instance.<Position>k__BackingField = dataReader.GetString(9);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext2.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Approver Owned | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approver")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Approver)
                }
                ;
                entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType2, 
                    entity: instance2, 
                    snapshot: shadowSnapshot2);
                return instance2;
            } : default(void);
            return instance2;
        };
        ShaperProcessingExpressionVisitor.IncludeReference<Approval, Approval, Approver>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Approval.Approver (Approver) ToDependent Approver | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approval").FindNavigation("Approver")], 
            inverseNavigation: default(INavigation), 
            fixup: (namelessParameter{8}, namelessParameter{9}) => 
            {
                return namelessParameter{8}.<Approver>k__BackingField = namelessParameter{9};
            }, 
            trackingQuery: True);
        return entity;
    }, 
    contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-05-27 18:18:14.486 +09:00 [DBG] Creating DbConnection.
2025-05-27 18:18:14.486 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-27 18:18:14.487 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 18:18:14.487 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 18:18:14.487 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 18:18:14.488 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 18:18:14.488 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-05-27 18:18:14.488 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Comments", "a"."RequestId", "a"."RequestedAt", "a"."RespondedAt", "a"."Status", "a"."ApproverDepartment", "a"."ApproverEmployeeNumber", "a"."ApproverName", "a"."ApproverPosition"
FROM "Approvals" AS "a"
2025-05-27 18:18:14.489 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Comments", "a"."RequestId", "a"."RequestedAt", "a"."RespondedAt", "a"."Status", "a"."ApproverDepartment", "a"."ApproverEmployeeNumber", "a"."ApproverName", "a"."ApproverPosition"
FROM "Approvals" AS "a"
2025-05-27 18:18:14.495 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'Approval' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 18:18:14.497 +09:00 [DBG] The navigation 'Approval.Approver' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 18:18:14.497 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'Approver' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 18:18:14.498 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 18:18:14.498 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 9ms reading results.
2025-05-27 18:18:14.499 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 18:18:14.499 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 18:18:14.501 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 18:18:14.506 +09:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 18:18:14.507 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 18:18:14.507 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 18:18:14.508 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 18:18:14.509 +09:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ApprovalService.Domain.Entities.Approval, ApprovalService.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 18:18:14.561 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API) in 135.4017ms
2025-05-27 18:18:14.563 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-27 18:18:14.565 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-27 18:18:14.566 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 18:18:14.566 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 18:18:14.567 +09:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/approval - 200 null application/json; charset=utf-8 187.9275ms
2025-05-27 18:18:15.958 +09:00 [DBG] Connection id "0HNCSVTKAK7N3" received FIN.
2025-05-27 18:18:15.960 +09:00 [DBG] Connection id "0HNCSVTKAK7N3" is closed. The last processed stream ID was 1.
2025-05-27 18:18:15.961 +09:00 [DBG] Connection id "0HNCSVTKAK7N3" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-27 18:18:15.962 +09:00 [DBG] The connection queue processing loop for 0HNCSVTKAK7N3 completed.
2025-05-27 18:18:15.971 +09:00 [DBG] Connection id "0HNCSVTKAK7N3" stopped.
2025-05-27 18:18:24.127 +09:00 [DBG] Connection id "0HNCSVTKAK7N4" accepted.
2025-05-27 18:18:24.128 +09:00 [DBG] Connection id "0HNCSVTKAK7N4" started.
2025-05-27 18:18:24.153 +09:00 [DBG] Connection 0HNCSVTKAK7N4 established using the following protocol: "Tls12"
2025-05-27 18:18:24.369 +09:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-05-27 18:18:24.369 +09:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-05-27 18:18:24.375 +09:00 [DBG] Request did not match any endpoints
2025-05-27 18:18:24.419 +09:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-05-27 18:18:24.518 +09:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 149.6772ms
2025-05-27 18:18:25.955 +09:00 [DBG] Connection id "0HNCSVTKAK7N4" received FIN.
2025-05-27 18:18:25.956 +09:00 [DBG] Connection id "0HNCSVTKAK7N4" is closed. The last processed stream ID was 1.
2025-05-27 18:18:25.956 +09:00 [DBG] The connection queue processing loop for 0HNCSVTKAK7N4 completed.
2025-05-27 18:18:25.957 +09:00 [DBG] Connection id "0HNCSVTKAK7N4" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-27 18:18:25.958 +09:00 [DBG] Connection id "0HNCSVTKAK7N4" stopped.
2025-05-27 18:18:28.779 +09:00 [DBG] Connection id "0HNCSVTKAK7N5" accepted.
2025-05-27 18:18:28.779 +09:00 [DBG] Connection id "0HNCSVTKAK7N5" started.
2025-05-27 18:18:28.802 +09:00 [DBG] Connection 0HNCSVTKAK7N5 established using the following protocol: "Tls12"
2025-05-27 18:18:28.813 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approval - null null
2025-05-27 18:18:28.813 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approval'
2025-05-27 18:18:28.813 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)' with route pattern 'api/Approval' is valid for the request path '/api/approval'
2025-05-27 18:18:28.813 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-27 18:18:28.814 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 18:18:28.814 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-27 18:18:28.814 +09:00 [INF] Route matched with {action = "GetAll", controller = "Approval"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API).
2025-05-27 18:18:28.814 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 18:18:28.814 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 18:18:28.814 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 18:18:28.814 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-27 18:18:28.815 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 18:18:28.815 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-27 18:18:28.816 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-27 18:18:28.845 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-27 18:18:28.846 +09:00 [DBG] Creating DbConnection.
2025-05-27 18:18:28.846 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-27 18:18:28.846 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 18:18:28.846 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 18:18:28.846 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 18:18:28.846 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 18:18:28.846 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 18:18:28.846 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Comments", "a"."RequestId", "a"."RequestedAt", "a"."RespondedAt", "a"."Status", "a"."ApproverDepartment", "a"."ApproverEmployeeNumber", "a"."ApproverName", "a"."ApproverPosition"
FROM "Approvals" AS "a"
2025-05-27 18:18:28.847 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Comments", "a"."RequestId", "a"."RequestedAt", "a"."RespondedAt", "a"."Status", "a"."ApproverDepartment", "a"."ApproverEmployeeNumber", "a"."ApproverName", "a"."ApproverPosition"
FROM "Approvals" AS "a"
2025-05-27 18:18:28.847 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'Approval' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 18:18:28.847 +09:00 [DBG] The navigation 'Approval.Approver' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 18:18:28.847 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'Approver' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 18:18:28.847 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 18:18:28.847 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 0ms reading results.
2025-05-27 18:18:28.847 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 18:18:28.848 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 18:18:28.848 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 18:18:28.848 +09:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 18:18:28.848 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 18:18:28.848 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 18:18:28.848 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 18:18:28.848 +09:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ApprovalService.Domain.Entities.Approval, ApprovalService.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 18:18:28.850 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API) in 35.2856ms
2025-05-27 18:18:28.850 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-27 18:18:28.850 +09:00 [DBG] Connection id "0HNCSVTKAK7N5" completed keep alive response.
2025-05-27 18:18:28.850 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-27 18:18:28.850 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 18:18:28.851 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 18:18:28.851 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approval - 200 null application/json; charset=utf-8 37.9384ms
2025-05-27 18:19:43.792 +09:00 [DBG] Connection id "0HNCSVTKAK7N5" received FIN.
2025-05-27 18:19:43.795 +09:00 [DBG] Connection id "0HNCSVTKAK7N5" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-27 18:19:43.797 +09:00 [DBG] Connection id "0HNCSVTKAK7N5" disconnecting.
2025-05-27 18:19:43.798 +09:00 [DBG] Connection id "0HNCSVTKAK7N5" stopped.
2025-05-27 18:20:48.399 +09:00 [INF] Application is shutting down...
2025-05-27 18:20:48.406 +09:00 [DBG] Hosting stopping
2025-05-27 18:20:48.424 +09:00 [DBG] Hosting stopped
2025-05-27 18:20:55.972 +09:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-05-27 18:20:56.061 +09:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-05-27 18:20:56.345 +09:00 [DBG] The property 'Approver.ApprovalId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-05-27 18:20:56.420 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-27 18:20:56.425 +09:00 [DBG] Creating DbConnection.
2025-05-27 18:20:56.432 +09:00 [DBG] Created DbConnection. (6ms).
2025-05-27 18:20:56.433 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 18:20:56.441 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 18:20:56.443 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 18:20:56.445 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 18:20:56.447 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-27 18:20:56.447 +09:00 [DBG] Creating DbConnection.
2025-05-27 18:20:56.447 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-27 18:20:56.449 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2025-05-27 18:20:56.450 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (3ms).
2025-05-27 18:20:56.450 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 18:20:56.451 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 18:20:56.455 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-27 18:20:56.467 +09:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-27 18:20:56.471 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 18:20:56.472 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (1ms).
2025-05-27 18:20:56.474 +09:00 [DBG] Creating DbConnection.
2025-05-27 18:20:56.475 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-27 18:20:56.475 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 18:20:56.475 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 18:20:56.475 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 18:20:56.475 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 18:20:56.475 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-27 18:20:56.475 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-05-27 18:20:56.475 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-05-27 18:20:56.475 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 18:20:56.475 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 18:20:56.476 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-27 18:20:56.476 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-27 18:20:56.476 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 18:20:56.476 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 18:20:56.500 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .Any()'
2025-05-27 18:20:56.637 +09:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-05-27 18:20:56.649 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 18:20:56.649 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 18:20:56.649 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 18:20:56.649 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 18:20:56.649 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 18:20:56.650 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-05-27 18:20:56.650 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-05-27 18:20:56.653 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 18:20:56.653 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 2ms reading results.
2025-05-27 18:20:56.654 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 18:20:56.654 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 18:20:56.655 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-27 18:20:56.655 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 18:20:56.655 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 18:20:56.657 +09:00 [DBG] Hosting starting
2025-05-27 18:20:56.675 +09:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-05-27 18:20:56.676 +09:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-05-27 18:20:57.020 +09:00 [INF] Now listening on: https://localhost:5001
2025-05-27 18:20:57.020 +09:00 [INF] Now listening on: http://localhost:5229
2025-05-27 18:20:57.021 +09:00 [DBG] Loaded hosting startup assembly ApprovalService.API
2025-05-27 18:20:57.021 +09:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-27 18:20:57.021 +09:00 [INF] Hosting environment: Development
2025-05-27 18:20:57.021 +09:00 [INF] Content root path: /Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API
2025-05-27 18:20:57.021 +09:00 [DBG] Hosting started
2025-05-27 18:20:58.095 +09:00 [DBG] Connection id "0HNCSVV54L2HF" accepted.
2025-05-27 18:20:58.096 +09:00 [DBG] Connection id "0HNCSVV54L2HF" started.
2025-05-27 18:20:58.096 +09:00 [DBG] Connection id "0HNCSVV54L2HG" accepted.
2025-05-27 18:20:58.096 +09:00 [DBG] Connection id "0HNCSVV54L2HG" started.
2025-05-27 18:20:58.134 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5229/api/approval - null null
2025-05-27 18:20:58.173 +09:00 [DBG] Connection id "0HNCSVV54L2HF" received FIN.
2025-05-27 18:20:58.176 +09:00 [DBG] Connection id "0HNCSVV54L2HH" accepted.
2025-05-27 18:20:58.177 +09:00 [DBG] Connection id "0HNCSVV54L2HF" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-27 18:20:58.177 +09:00 [DBG] Connection id "0HNCSVV54L2HH" started.
2025-05-27 18:20:58.180 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5229/api/approval - null null
2025-05-27 18:20:58.181 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approval'
2025-05-27 18:20:58.181 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approval'
2025-05-27 18:20:58.182 +09:00 [DBG] Connection id "0HNCSVV54L2HF" disconnecting.
2025-05-27 18:20:58.183 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)' with route pattern 'api/Approval' is valid for the request path '/api/approval'
2025-05-27 18:20:58.184 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)' with route pattern 'api/Approval' is valid for the request path '/api/approval'
2025-05-27 18:20:58.184 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-27 18:20:58.184 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-27 18:20:58.213 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 18:20:58.213 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 18:20:58.213 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-27 18:20:58.213 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-27 18:20:58.226 +09:00 [INF] Route matched with {action = "GetAll", controller = "Approval"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API).
2025-05-27 18:20:58.226 +09:00 [INF] Route matched with {action = "GetAll", controller = "Approval"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API).
2025-05-27 18:20:58.227 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 18:20:58.227 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 18:20:58.227 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 18:20:58.227 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 18:20:58.227 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 18:20:58.227 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 18:20:58.227 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-27 18:20:58.227 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-27 18:20:58.227 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 18:20:58.227 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 18:20:58.228 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-27 18:20:58.228 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-27 18:20:58.229 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-27 18:20:58.229 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-27 18:20:58.237 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-27 18:20:58.237 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-27 18:20:58.239 +09:00 [DBG] Compiling query expression: 
'DbSet<Approval>()'
2025-05-27 18:20:58.243 +09:00 [DBG] Including navigation: 'Approval.Approver'.
2025-05-27 18:20:58.288 +09:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Approval>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Approval.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Approval.Comments (string), 1], [Property: Approval.RequestId (string) Required, 2], [Property: Approval.RequestedAt (DateTime) Required, 3], [Property: Approval.RespondedAt (DateTime?), 4], [Property: Approval.Status (ApprovalStatus) Required, 5] }
            1 -> Dictionary<IProperty, int> { [Property: Approver.ApprovalId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: Approver.Department (string) Required, 6], [Property: Approver.EmployeeNumber (string) Required, 7], [Property: Approver.Name (string) Required, 8], [Property: Approver.Position (string) Required, 9] }
        SELECT a.Id, a.Comments, a.RequestId, a.RequestedAt, a.RespondedAt, a.Status, a.ApproverDepartment, a.ApproverEmployeeNumber, a.ApproverName, a.ApproverPosition
        FROM Approvals AS a) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Approval.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Approval.Comments (string), 1], [Property: Approval.RequestId (string) Required, 2], [Property: Approval.RequestedAt (DateTime) Required, 3], [Property: Approval.RespondedAt (DateTime?), 4], [Property: Approval.Status (ApprovalStatus) Required, 5] }
            1 -> Dictionary<IProperty, int> { [Property: Approver.ApprovalId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: Approver.Department (string) Required, 6], [Property: Approver.EmployeeNumber (string) Required, 7], [Property: Approver.Name (string) Required, 8], [Property: Approver.Position (string) Required, 9] }
        SELECT a.Id, a.Comments, a.RequestId, a.RequestedAt, a.RespondedAt, a.Status, a.ApproverDepartment, a.ApproverEmployeeNumber, a.ApproverName, a.ApproverPosition
        FROM Approvals AS a, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Approval entity;
        Approver entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Approval instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Approval);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Approval.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approval").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Approval)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Approval | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approval")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Approval | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approval")]: 
                        {
                            return 
                            {
                                Approval instance;
                                instance = new Approval();
                                instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                instance.<Comments>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                instance.<RequestId>k__BackingField = dataReader.GetString(2);
                                instance.<RequestedAt>k__BackingField = dataReader.GetDateTime(3);
                                instance.<RespondedAt>k__BackingField = dataReader.IsDBNull(4) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(4);
                                instance.<Status>k__BackingField = Invoke(((EnumToNumberConverter<ApprovalStatus, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Approval.Status (ApprovalStatus) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approval").FindProperty("Status")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(5));
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Approval | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approval")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Approval)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        entity = 
        {
            MaterializationContext materializationContext2;
            IEntityType entityType2;
            Approver instance2;
            InternalEntityEntry entry2;
            bool hasNullKey2;
            materializationContext2 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance2 = default(Approver);
            entry2 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Approver.ApprovalId PK | Resolver: c => c.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approver").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey2);
            !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
            {
                entityType2 = entry2.EntityType;
                return instance2 = (Approver)entry2.Entity;
            } : 
            {
                ISnapshot shadowSnapshot2;
                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType2 = [LIFTABLE Constant: EntityType: Approver Owned | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approver")];
                instance2 = switch (entityType2)
                {
                    case [LIFTABLE Constant: EntityType: Approver Owned | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approver")]: 
                        {
                            shadowSnapshot2 = (ISnapshot)new Snapshot<Guid>(dataReader.GetGuid(0));
                            return 
                            {
                                Approver instance;
                                instance = new Approver(
                                    dataReader.GetString(7), 
                                    dataReader.GetString(8)
                                );
                                instance.<Department>k__BackingField = dataReader.GetString(6);
                                instance.<Position>k__BackingField = dataReader.GetString(9);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext2.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Approver Owned | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approver")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Approver)
                }
                ;
                entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType2, 
                    entity: instance2, 
                    snapshot: shadowSnapshot2);
                return instance2;
            } : default(void);
            return instance2;
        };
        ShaperProcessingExpressionVisitor.IncludeReference<Approval, Approval, Approver>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Approval.Approver (Approver) ToDependent Approver | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approval").FindNavigation("Approver")], 
            inverseNavigation: default(INavigation), 
            fixup: (namelessParameter{8}, namelessParameter{9}) => 
            {
                return namelessParameter{8}.<Approver>k__BackingField = namelessParameter{9};
            }, 
            trackingQuery: True);
        return entity;
    }, 
    contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-05-27 18:20:58.291 +09:00 [DBG] Creating DbConnection.
2025-05-27 18:20:58.291 +09:00 [DBG] Creating DbConnection.
2025-05-27 18:20:58.291 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-27 18:20:58.291 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-27 18:20:58.291 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 18:20:58.291 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 18:20:58.291 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 18:20:58.291 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 18:20:58.291 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 18:20:58.291 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 18:20:58.291 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Comments", "a"."RequestId", "a"."RequestedAt", "a"."RespondedAt", "a"."Status", "a"."ApproverDepartment", "a"."ApproverEmployeeNumber", "a"."ApproverName", "a"."ApproverPosition"
FROM "Approvals" AS "a"
2025-05-27 18:20:58.291 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 18:20:58.292 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 18:20:58.292 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Comments", "a"."RequestId", "a"."RequestedAt", "a"."RespondedAt", "a"."Status", "a"."ApproverDepartment", "a"."ApproverEmployeeNumber", "a"."ApproverName", "a"."ApproverPosition"
FROM "Approvals" AS "a"
2025-05-27 18:20:58.292 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 18:20:58.292 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 18:20:58.292 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Comments", "a"."RequestId", "a"."RequestedAt", "a"."RespondedAt", "a"."Status", "a"."ApproverDepartment", "a"."ApproverEmployeeNumber", "a"."ApproverName", "a"."ApproverPosition"
FROM "Approvals" AS "a"
2025-05-27 18:20:58.292 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Comments", "a"."RequestId", "a"."RequestedAt", "a"."RespondedAt", "a"."Status", "a"."ApproverDepartment", "a"."ApproverEmployeeNumber", "a"."ApproverName", "a"."ApproverPosition"
FROM "Approvals" AS "a"
2025-05-27 18:20:58.325 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'Approval' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 18:20:58.325 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'Approval' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 18:20:58.344 +09:00 [DBG] The navigation 'Approval.Approver' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 18:20:58.344 +09:00 [DBG] The navigation 'Approval.Approver' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 18:20:58.345 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'Approver' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 18:20:58.345 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'Approver' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 18:20:58.348 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 18:20:58.348 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 18:20:58.348 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 56ms reading results.
2025-05-27 18:20:58.348 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 56ms reading results.
2025-05-27 18:20:58.349 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 18:20:58.349 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 18:20:58.349 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 18:20:58.349 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 18:20:58.353 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 18:20:58.353 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 18:20:58.358 +09:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 18:20:58.358 +09:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 18:20:58.358 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 18:20:58.358 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 18:20:58.358 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 18:20:58.358 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 18:20:58.359 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 18:20:58.359 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 18:20:58.359 +09:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ApprovalService.API.Models.ApprovalDto, ApprovalService.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 18:20:58.359 +09:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ApprovalService.API.Models.ApprovalDto, ApprovalService.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 18:20:58.407 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API) in 177.6404ms
2025-05-27 18:20:58.407 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API) in 177.8255ms
2025-05-27 18:20:58.413 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-27 18:20:58.413 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-27 18:20:58.414 +09:00 [DBG] Connection id "0HNCSVV54L2HG" completed keep alive response.
2025-05-27 18:20:58.416 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-27 18:20:58.416 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-27 18:20:58.423 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 18:20:58.423 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 18:20:58.423 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 18:20:58.425 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5229/api/approval - 200 null application/json; charset=utf-8 244.831ms
2025-05-27 18:20:58.427 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (4ms).
2025-05-27 18:20:58.428 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5229/api/approval - 499 null application/json; charset=utf-8 295.9271ms
2025-05-27 18:20:58.431 +09:00 [DBG] Connection id "0HNCSVV54L2HF" stopped.
2025-05-27 18:21:00.975 +09:00 [DBG] Connection id "0HNCSVV54L2HH" received FIN.
2025-05-27 18:21:00.975 +09:00 [DBG] Connection id "0HNCSVV54L2HG" received FIN.
2025-05-27 18:21:00.977 +09:00 [DBG] Connection id "0HNCSVV54L2HH" disconnecting.
2025-05-27 18:21:00.977 +09:00 [DBG] Connection id "0HNCSVV54L2HG" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-27 18:21:00.977 +09:00 [DBG] Connection id "0HNCSVV54L2HH" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-27 18:21:00.977 +09:00 [DBG] Connection id "0HNCSVV54L2HG" disconnecting.
2025-05-27 18:21:00.978 +09:00 [DBG] Connection id "0HNCSVV54L2HH" stopped.
2025-05-27 18:21:00.978 +09:00 [DBG] Connection id "0HNCSVV54L2HG" stopped.
2025-05-27 18:21:41.430 +09:00 [DBG] Connection id "0HNCSVV54L2HI" accepted.
2025-05-27 18:21:41.431 +09:00 [DBG] Connection id "0HNCSVV54L2HI" started.
2025-05-27 18:21:41.489 +09:00 [DBG] Connection 0HNCSVV54L2HI established using the following protocol: "Tls12"
2025-05-27 18:21:41.491 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approval - null null
2025-05-27 18:21:41.492 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approval'
2025-05-27 18:21:41.492 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)' with route pattern 'api/Approval' is valid for the request path '/api/approval'
2025-05-27 18:21:41.492 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-27 18:21:41.495 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 18:21:41.496 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-27 18:21:41.496 +09:00 [INF] Route matched with {action = "GetAll", controller = "Approval"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API).
2025-05-27 18:21:41.497 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 18:21:41.497 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 18:21:41.497 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 18:21:41.497 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-27 18:21:41.497 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 18:21:41.497 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-27 18:21:41.504 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-27 18:21:41.550 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-27 18:21:41.552 +09:00 [DBG] Creating DbConnection.
2025-05-27 18:21:41.552 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-27 18:21:41.552 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 18:21:41.552 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 18:21:41.552 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 18:21:41.552 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 18:21:41.553 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 18:21:41.553 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Comments", "a"."RequestId", "a"."RequestedAt", "a"."RespondedAt", "a"."Status", "a"."ApproverDepartment", "a"."ApproverEmployeeNumber", "a"."ApproverName", "a"."ApproverPosition"
FROM "Approvals" AS "a"
2025-05-27 18:21:41.553 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Comments", "a"."RequestId", "a"."RequestedAt", "a"."RespondedAt", "a"."Status", "a"."ApproverDepartment", "a"."ApproverEmployeeNumber", "a"."ApproverName", "a"."ApproverPosition"
FROM "Approvals" AS "a"
2025-05-27 18:21:41.553 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'Approval' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 18:21:41.554 +09:00 [DBG] The navigation 'Approval.Approver' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 18:21:41.554 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'Approver' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 18:21:41.554 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 18:21:41.554 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 0ms reading results.
2025-05-27 18:21:41.554 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 18:21:41.554 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 18:21:41.554 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 18:21:41.555 +09:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 18:21:41.555 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 18:21:41.555 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 18:21:41.555 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 18:21:41.555 +09:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ApprovalService.API.Models.ApprovalDto, ApprovalService.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 18:21:41.556 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API) in 59.0188ms
2025-05-27 18:21:41.556 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-27 18:21:41.556 +09:00 [DBG] Connection id "0HNCSVV54L2HI" completed keep alive response.
2025-05-27 18:21:41.556 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-27 18:21:41.556 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 18:21:41.557 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 18:21:41.557 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approval - 200 null application/json; charset=utf-8 65.3225ms
2025-05-27 18:22:17.639 +09:00 [INF] Application is shutting down...
2025-05-27 18:22:17.641 +09:00 [DBG] Hosting stopping
2025-05-27 18:22:17.661 +09:00 [DBG] Connection id "0HNCSVV54L2HI" disconnecting.
2025-05-27 18:22:17.662 +09:00 [DBG] Connection id "0HNCSVV54L2HI" stopped.
2025-05-27 18:22:17.662 +09:00 [DBG] Connection id "0HNCSVV54L2HI" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-27 18:22:17.668 +09:00 [DBG] Hosting stopped
2025-05-27 18:22:22.279 +09:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-05-27 18:22:22.357 +09:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-05-27 18:22:22.629 +09:00 [DBG] The property 'Approver.ApprovalId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-05-27 18:22:22.670 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-27 18:22:22.673 +09:00 [DBG] Creating DbConnection.
2025-05-27 18:22:22.679 +09:00 [DBG] Created DbConnection. (5ms).
2025-05-27 18:22:22.681 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 18:22:22.686 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 18:22:22.687 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 18:22:22.689 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 18:22:22.691 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-27 18:22:22.691 +09:00 [DBG] Creating DbConnection.
2025-05-27 18:22:22.691 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-27 18:22:22.693 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2025-05-27 18:22:22.694 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (3ms).
2025-05-27 18:22:22.694 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 18:22:22.695 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 18:22:22.698 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-27 18:22:22.711 +09:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-27 18:22:22.712 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 18:22:22.713 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (1ms).
2025-05-27 18:22:22.715 +09:00 [DBG] Creating DbConnection.
2025-05-27 18:22:22.715 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-27 18:22:22.715 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 18:22:22.715 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 18:22:22.715 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 18:22:22.716 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 18:22:22.716 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-27 18:22:22.716 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-05-27 18:22:22.716 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-05-27 18:22:22.716 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 18:22:22.716 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 18:22:22.716 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-27 18:22:22.717 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-27 18:22:22.717 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 18:22:22.717 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 18:22:22.737 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .Any()'
2025-05-27 18:22:22.837 +09:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-05-27 18:22:22.848 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 18:22:22.848 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 18:22:22.848 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 18:22:22.848 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 18:22:22.849 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 18:22:22.849 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-05-27 18:22:22.850 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-05-27 18:22:22.852 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 18:22:22.852 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 1ms reading results.
2025-05-27 18:22:22.853 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 18:22:22.853 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 18:22:22.854 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-27 18:22:22.854 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 18:22:22.854 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 18:22:22.856 +09:00 [DBG] Hosting starting
2025-05-27 18:22:22.869 +09:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-05-27 18:22:22.869 +09:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-05-27 18:22:23.319 +09:00 [INF] Now listening on: https://localhost:5001
2025-05-27 18:22:23.320 +09:00 [INF] Now listening on: http://localhost:5229
2025-05-27 18:22:23.320 +09:00 [DBG] Loaded hosting startup assembly ApprovalService.API
2025-05-27 18:22:23.321 +09:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-27 18:22:23.322 +09:00 [INF] Hosting environment: Development
2025-05-27 18:22:23.322 +09:00 [INF] Content root path: /Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API
2025-05-27 18:22:23.328 +09:00 [DBG] Hosting started
2025-05-27 18:22:25.453 +09:00 [INF] Application is shutting down...
2025-05-27 18:22:25.454 +09:00 [DBG] Hosting stopping
2025-05-27 18:22:25.467 +09:00 [DBG] Hosting stopped
2025-05-27 18:22:29.347 +09:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-05-27 18:22:29.447 +09:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-05-27 18:22:29.744 +09:00 [DBG] The property 'Approver.ApprovalId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-05-27 18:22:29.790 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-27 18:22:29.794 +09:00 [DBG] Creating DbConnection.
2025-05-27 18:22:29.804 +09:00 [DBG] Created DbConnection. (7ms).
2025-05-27 18:22:29.806 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 18:22:29.813 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 18:22:29.814 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 18:22:29.819 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 18:22:29.821 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-27 18:22:29.821 +09:00 [DBG] Creating DbConnection.
2025-05-27 18:22:29.822 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-27 18:22:29.824 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2025-05-27 18:22:29.825 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (3ms).
2025-05-27 18:22:29.825 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 18:22:29.826 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 18:22:29.828 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-27 18:22:29.842 +09:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-27 18:22:29.843 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 18:22:29.844 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (1ms).
2025-05-27 18:22:29.846 +09:00 [DBG] Creating DbConnection.
2025-05-27 18:22:29.847 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-27 18:22:29.847 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 18:22:29.847 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 18:22:29.847 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 18:22:29.847 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 18:22:29.847 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-27 18:22:29.848 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-05-27 18:22:29.848 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-05-27 18:22:29.848 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 18:22:29.848 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 18:22:29.848 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-27 18:22:29.848 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-27 18:22:29.848 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 18:22:29.848 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 18:22:29.868 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .Any()'
2025-05-27 18:22:29.972 +09:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-05-27 18:22:29.984 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 18:22:29.985 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 18:22:29.985 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 18:22:29.985 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 18:22:29.985 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 18:22:29.986 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-05-27 18:22:29.988 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-05-27 18:22:29.990 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 18:22:29.991 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 2ms reading results.
2025-05-27 18:22:29.991 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 18:22:29.992 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 18:22:29.992 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-27 18:22:29.993 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 18:22:29.993 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 18:22:29.994 +09:00 [DBG] Hosting starting
2025-05-27 18:22:30.013 +09:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-05-27 18:22:30.013 +09:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-05-27 18:22:30.366 +09:00 [INF] Now listening on: https://localhost:5001
2025-05-27 18:22:30.367 +09:00 [INF] Now listening on: http://localhost:5229
2025-05-27 18:22:30.367 +09:00 [DBG] Loaded hosting startup assembly ApprovalService.API
2025-05-27 18:22:30.367 +09:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-27 18:22:30.368 +09:00 [INF] Hosting environment: Development
2025-05-27 18:22:30.368 +09:00 [INF] Content root path: /Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API
2025-05-27 18:22:30.368 +09:00 [DBG] Hosting started
2025-05-27 18:22:31.386 +09:00 [DBG] Connection id "0HNCT000UB7O1" accepted.
2025-05-27 18:22:31.387 +09:00 [DBG] Connection id "0HNCT000UB7O1" started.
2025-05-27 18:22:31.422 +09:00 [DBG] Connection 0HNCT000UB7O1 established using the following protocol: "Tls12"
2025-05-27 18:22:31.439 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approval - null null
2025-05-27 18:22:31.450 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approval'
2025-05-27 18:22:31.453 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)' with route pattern 'api/Approval' is valid for the request path '/api/approval'
2025-05-27 18:22:31.453 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-27 18:22:31.464 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 18:22:31.464 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-27 18:22:31.473 +09:00 [INF] Route matched with {action = "GetAll", controller = "Approval"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API).
2025-05-27 18:22:31.474 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 18:22:31.474 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 18:22:31.474 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 18:22:31.474 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-27 18:22:31.474 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 18:22:31.475 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-27 18:22:31.475 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-27 18:22:31.486 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-27 18:22:31.490 +09:00 [DBG] Compiling query expression: 
'DbSet<Approval>()'
2025-05-27 18:22:31.499 +09:00 [DBG] Including navigation: 'Approval.Approver'.
2025-05-27 18:22:31.537 +09:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Approval>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Approval.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Approval.Comments (string), 1], [Property: Approval.RequestId (string) Required, 2], [Property: Approval.RequestedAt (DateTime) Required, 3], [Property: Approval.RespondedAt (DateTime?), 4], [Property: Approval.Status (ApprovalStatus) Required, 5] }
            1 -> Dictionary<IProperty, int> { [Property: Approver.ApprovalId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: Approver.Department (string) Required, 6], [Property: Approver.EmployeeNumber (string) Required, 7], [Property: Approver.Name (string) Required, 8], [Property: Approver.Position (string) Required, 9] }
        SELECT a.Id, a.Comments, a.RequestId, a.RequestedAt, a.RespondedAt, a.Status, a.ApproverDepartment, a.ApproverEmployeeNumber, a.ApproverName, a.ApproverPosition
        FROM Approvals AS a) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Approval.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Approval.Comments (string), 1], [Property: Approval.RequestId (string) Required, 2], [Property: Approval.RequestedAt (DateTime) Required, 3], [Property: Approval.RespondedAt (DateTime?), 4], [Property: Approval.Status (ApprovalStatus) Required, 5] }
            1 -> Dictionary<IProperty, int> { [Property: Approver.ApprovalId (no field, Guid) Shadow Required PK FK AfterSave:Throw, 0], [Property: Approver.Department (string) Required, 6], [Property: Approver.EmployeeNumber (string) Required, 7], [Property: Approver.Name (string) Required, 8], [Property: Approver.Position (string) Required, 9] }
        SELECT a.Id, a.Comments, a.RequestId, a.RequestedAt, a.RespondedAt, a.Status, a.ApproverDepartment, a.ApproverEmployeeNumber, a.ApproverName, a.ApproverPosition
        FROM Approvals AS a, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Approval entity;
        Approver entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Approval instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Approval);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Approval.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approval").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Approval)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Approval | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approval")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Approval | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approval")]: 
                        {
                            return 
                            {
                                Approval instance;
                                instance = new Approval();
                                instance.<Id>k__BackingField = dataReader.GetGuid(0);
                                instance.<Comments>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                instance.<RequestId>k__BackingField = dataReader.GetString(2);
                                instance.<RequestedAt>k__BackingField = dataReader.GetDateTime(3);
                                instance.<RespondedAt>k__BackingField = dataReader.IsDBNull(4) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(4);
                                instance.<Status>k__BackingField = Invoke(((EnumToNumberConverter<ApprovalStatus, int>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Approval.Status (ApprovalStatus) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approval").FindProperty("Status")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetInt32(5));
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Approval | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approval")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Approval)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        entity = 
        {
            MaterializationContext materializationContext2;
            IEntityType entityType2;
            Approver instance2;
            InternalEntityEntry entry2;
            bool hasNullKey2;
            materializationContext2 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance2 = default(Approver);
            entry2 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Approver.ApprovalId PK | Resolver: c => c.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approver").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey2);
            !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
            {
                entityType2 = entry2.EntityType;
                return instance2 = (Approver)entry2.Entity;
            } : 
            {
                ISnapshot shadowSnapshot2;
                shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType2 = [LIFTABLE Constant: EntityType: Approver Owned | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approver")];
                instance2 = switch (entityType2)
                {
                    case [LIFTABLE Constant: EntityType: Approver Owned | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approver")]: 
                        {
                            shadowSnapshot2 = (ISnapshot)new Snapshot<Guid>(dataReader.GetGuid(0));
                            return 
                            {
                                Approver instance;
                                instance = new Approver(
                                    dataReader.GetString(7), 
                                    dataReader.GetString(8)
                                );
                                instance.<Department>k__BackingField = dataReader.GetString(6);
                                instance.<Position>k__BackingField = dataReader.GetString(9);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext2.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Approver Owned | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approver")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Approver)
                }
                ;
                entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType2, 
                    entity: instance2, 
                    snapshot: shadowSnapshot2);
                return instance2;
            } : default(void);
            return instance2;
        };
        ShaperProcessingExpressionVisitor.IncludeReference<Approval, Approval, Approver>(
            queryContext: queryContext, 
            entity: entity, 
            relatedEntity: entity, 
            navigation: [LIFTABLE Constant: Navigation: Approval.Approver (Approver) ToDependent Approver | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.Approval").FindNavigation("Approver")], 
            inverseNavigation: default(INavigation), 
            fixup: (namelessParameter{8}, namelessParameter{9}) => 
            {
                return namelessParameter{8}.<Approver>k__BackingField = namelessParameter{9};
            }, 
            trackingQuery: True);
        return entity;
    }, 
    contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-05-27 18:22:31.540 +09:00 [DBG] Creating DbConnection.
2025-05-27 18:22:31.540 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-27 18:22:31.540 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 18:22:31.540 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 18:22:31.540 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 18:22:31.540 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 18:22:31.540 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 18:22:31.541 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Comments", "a"."RequestId", "a"."RequestedAt", "a"."RespondedAt", "a"."Status", "a"."ApproverDepartment", "a"."ApproverEmployeeNumber", "a"."ApproverName", "a"."ApproverPosition"
FROM "Approvals" AS "a"
2025-05-27 18:22:31.541 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Comments", "a"."RequestId", "a"."RequestedAt", "a"."RespondedAt", "a"."Status", "a"."ApproverDepartment", "a"."ApproverEmployeeNumber", "a"."ApproverName", "a"."ApproverPosition"
FROM "Approvals" AS "a"
2025-05-27 18:22:31.558 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'Approval' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 18:22:31.574 +09:00 [DBG] The navigation 'Approval.Approver' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 18:22:31.575 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'Approver' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 18:22:31.578 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 18:22:31.578 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 37ms reading results.
2025-05-27 18:22:31.578 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 18:22:31.579 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 18:22:31.580 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 18:22:31.580 +09:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 18:22:31.580 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 18:22:31.580 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 18:22:31.581 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 18:22:31.581 +09:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ApprovalService.Domain.Entities.Approval, ApprovalService.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 18:22:31.626 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API) in 150.2223ms
2025-05-27 18:22:31.628 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-27 18:22:31.628 +09:00 [DBG] Connection id "0HNCT000UB7O1" completed keep alive response.
2025-05-27 18:22:31.629 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-27 18:22:31.629 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 18:22:31.630 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 18:22:31.630 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approval - 200 null application/json; charset=utf-8 192.4191ms
2025-05-27 18:22:33.995 +09:00 [DBG] Connection id "0HNCT000UB7O2" accepted.
2025-05-27 18:22:33.995 +09:00 [DBG] Connection id "0HNCT000UB7O2" started.
2025-05-27 18:22:33.997 +09:00 [DBG] Connection id "0HNCT000UB7O3" accepted.
2025-05-27 18:22:33.997 +09:00 [DBG] Connection id "0HNCT000UB7O3" started.
2025-05-27 18:22:34.010 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5229/api/approval - null null
2025-05-27 18:22:34.011 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approval'
2025-05-27 18:22:34.011 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)' with route pattern 'api/Approval' is valid for the request path '/api/approval'
2025-05-27 18:22:34.011 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-27 18:22:34.013 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 18:22:34.013 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-27 18:22:34.013 +09:00 [INF] Route matched with {action = "GetAll", controller = "Approval"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API).
2025-05-27 18:22:34.013 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 18:22:34.013 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 18:22:34.013 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 18:22:34.014 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-27 18:22:34.014 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 18:22:34.014 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-27 18:22:34.019 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-27 18:22:34.062 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-27 18:22:34.063 +09:00 [DBG] Creating DbConnection.
2025-05-27 18:22:34.063 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-27 18:22:34.063 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 18:22:34.063 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 18:22:34.064 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 18:22:34.064 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-27 18:22:34.064 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-27 18:22:34.065 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Comments", "a"."RequestId", "a"."RequestedAt", "a"."RespondedAt", "a"."Status", "a"."ApproverDepartment", "a"."ApproverEmployeeNumber", "a"."ApproverName", "a"."ApproverPosition"
FROM "Approvals" AS "a"
2025-05-27 18:22:34.065 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Comments", "a"."RequestId", "a"."RequestedAt", "a"."RespondedAt", "a"."Status", "a"."ApproverDepartment", "a"."ApproverEmployeeNumber", "a"."ApproverName", "a"."ApproverPosition"
FROM "Approvals" AS "a"
2025-05-27 18:22:34.066 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'Approval' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 18:22:34.066 +09:00 [DBG] The navigation 'Approval.Approver' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 18:22:34.067 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'Approver' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 18:22:34.067 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 18:22:34.067 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 1ms reading results.
2025-05-27 18:22:34.067 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 18:22:34.067 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 18:22:34.067 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 18:22:34.073 +09:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 18:22:34.073 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 18:22:34.073 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 18:22:34.073 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 18:22:34.073 +09:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ApprovalService.Domain.Entities.Approval, ApprovalService.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 18:22:34.074 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API) in 59.8323ms
2025-05-27 18:22:34.074 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-27 18:22:34.074 +09:00 [DBG] Connection id "0HNCT000UB7O2" completed keep alive response.
2025-05-27 18:22:34.075 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-27 18:22:34.075 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 18:22:34.075 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 18:22:34.075 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5229/api/approval - 200 null application/json; charset=utf-8 65.1432ms
2025-05-27 18:22:35.984 +09:00 [DBG] Connection id "0HNCT000UB7O2" received FIN.
2025-05-27 18:22:35.984 +09:00 [DBG] Connection id "0HNCT000UB7O3" received FIN.
2025-05-27 18:22:35.985 +09:00 [DBG] Connection id "0HNCT000UB7O3" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-27 18:22:35.985 +09:00 [DBG] Connection id "0HNCT000UB7O2" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-27 18:22:35.991 +09:00 [DBG] Connection id "0HNCT000UB7O2" disconnecting.
2025-05-27 18:22:35.991 +09:00 [DBG] Connection id "0HNCT000UB7O3" disconnecting.
2025-05-27 18:22:35.993 +09:00 [DBG] Connection id "0HNCT000UB7O3" stopped.
2025-05-27 18:22:35.993 +09:00 [DBG] Connection id "0HNCT000UB7O2" stopped.
2025-05-27 18:23:41.439 +09:00 [DBG] Connection id "0HNCT000UB7O1" received FIN.
2025-05-27 18:23:41.442 +09:00 [DBG] Connection id "0HNCT000UB7O1" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-27 18:23:41.443 +09:00 [DBG] Connection id "0HNCT000UB7O1" disconnecting.
2025-05-27 18:23:41.450 +09:00 [DBG] Connection id "0HNCT000UB7O1" stopped.
2025-05-27 19:20:59.461 +09:00 [DBG] Connection id "0HNCT000UB7O4" accepted.
2025-05-27 19:20:59.465 +09:00 [DBG] Connection id "0HNCT000UB7O4" started.
2025-05-27 19:20:59.467 +09:00 [DBG] Connection id "0HNCT000UB7O5" accepted.
2025-05-27 19:20:59.467 +09:00 [DBG] Connection id "0HNCT000UB7O5" started.
2025-05-27 19:20:59.486 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5229/api/approval - null null
2025-05-27 19:20:59.488 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approval'
2025-05-27 19:20:59.489 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)' with route pattern 'api/Approval' is valid for the request path '/api/approval'
2025-05-27 19:20:59.490 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-27 19:20:59.509 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-27 19:20:59.510 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-27 19:20:59.516 +09:00 [INF] Route matched with {action = "GetAll", controller = "Approval"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API).
2025-05-27 19:20:59.517 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-27 19:20:59.518 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-27 19:20:59.519 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-27 19:20:59.519 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-27 19:20:59.519 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-27 19:20:59.519 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-27 19:20:59.527 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-27 19:20:59.540 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-27 19:20:59.543 +09:00 [DBG] Creating DbConnection.
2025-05-27 19:20:59.544 +09:00 [DBG] Created DbConnection. (1ms).
2025-05-27 19:20:59.544 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 19:20:59.550 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 19:20:59.552 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-27 19:20:59.553 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-27 19:20:59.553 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-27 19:20:59.553 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Comments", "a"."RequestId", "a"."RequestedAt", "a"."RespondedAt", "a"."Status", "a"."ApproverDepartment", "a"."ApproverEmployeeNumber", "a"."ApproverName", "a"."ApproverPosition"
FROM "Approvals" AS "a"
2025-05-27 19:20:59.558 +09:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."Comments", "a"."RequestId", "a"."RequestedAt", "a"."RespondedAt", "a"."Status", "a"."ApproverDepartment", "a"."ApproverEmployeeNumber", "a"."ApproverName", "a"."ApproverPosition"
FROM "Approvals" AS "a"
2025-05-27 19:20:59.560 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'Approval' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 19:20:59.561 +09:00 [DBG] The navigation 'Approval.Approver' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 19:20:59.561 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'Approver' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-27 19:20:59.561 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 19:20:59.562 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 3ms reading results.
2025-05-27 19:20:59.562 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-27 19:20:59.562 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 19:20:59.563 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-27 19:20:59.566 +09:00 [DBG] No information found on request to perform content negotiation.
2025-05-27 19:20:59.566 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-27 19:20:59.566 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-27 19:20:59.566 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-27 19:20:59.566 +09:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ApprovalService.Domain.Entities.Approval, ApprovalService.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-27 19:20:59.570 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API) in 50.4642ms
2025-05-27 19:20:59.570 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-27 19:20:59.570 +09:00 [DBG] Connection id "0HNCT000UB7O4" completed keep alive response.
2025-05-27 19:20:59.570 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-27 19:20:59.570 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-27 19:20:59.570 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-27 19:20:59.571 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5229/api/approval - 200 null application/json; charset=utf-8 86.4789ms
2025-05-27 19:20:59.781 +09:00 [DBG] Connection id "0HNCT000UB7O4" received FIN.
2025-05-27 19:20:59.781 +09:00 [DBG] Connection id "0HNCT000UB7O5" received FIN.
2025-05-27 19:20:59.781 +09:00 [DBG] Connection id "0HNCT000UB7O4" disconnecting.
2025-05-27 19:20:59.782 +09:00 [DBG] Connection id "0HNCT000UB7O5" disconnecting.
2025-05-27 19:20:59.782 +09:00 [DBG] Connection id "0HNCT000UB7O5" stopped.
2025-05-27 19:20:59.782 +09:00 [DBG] Connection id "0HNCT000UB7O4" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-27 19:20:59.782 +09:00 [DBG] Connection id "0HNCT000UB7O5" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-27 19:20:59.783 +09:00 [DBG] Connection id "0HNCT000UB7O4" stopped.
2025-05-27 19:26:30.087 +09:00 [INF] Application is shutting down...
2025-05-27 19:26:30.094 +09:00 [DBG] Hosting stopping
2025-05-27 19:26:30.113 +09:00 [DBG] Hosting stopped
