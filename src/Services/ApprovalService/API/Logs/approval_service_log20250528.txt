2025-05-28 06:36:29.166 +09:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-05-28 06:36:29.262 +09:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-05-28 06:36:29.491 +09:00 [DBG] The property 'Approver.ApprovalId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-05-28 06:36:29.530 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-28 06:36:29.534 +09:00 [DBG] Creating DbConnection.
2025-05-28 06:36:29.541 +09:00 [DBG] Created DbConnection. (5ms).
2025-05-28 06:36:29.542 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 06:36:29.547 +09:00 [DBG] An error occurred using the connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 06:36:29.548 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 06:36:29.550 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 06:36:29.550 +09:00 [DBG] Creating DbConnection.
2025-05-28 06:36:29.550 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-28 06:36:29.550 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 06:36:29.554 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 06:36:29.556 +09:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-05-28 06:36:29.559 +09:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2025-05-28 06:36:29.560 +09:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (4ms).
2025-05-28 06:36:29.563 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2025-05-28 06:36:29.576 +09:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2025-05-28 06:36:29.577 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 06:36:29.579 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (1ms).
2025-05-28 06:36:29.633 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 06:36:29.633 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 06:36:29.634 +09:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-05-28 06:36:29.636 +09:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-05-28 06:36:29.636 +09:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-05-28 06:36:29.636 +09:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-05-28 06:36:29.636 +09:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-05-28 06:36:29.636 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ApprovalRequests" (
    "ApprovalId" TEXT NOT NULL CONSTRAINT "PK_ApprovalRequests" PRIMARY KEY,
    "RequestTitle" TEXT NOT NULL,
    "RequestContent" TEXT NULL,
    "ApplicantEmployeeNumber" TEXT NOT NULL,
    "ApplicantName" TEXT NOT NULL,
    "ApplicantPosition" TEXT NULL,
    "ApplicantDepartment" TEXT NULL,
    "Status" TEXT NOT NULL,
    "RequestedAt" TEXT NOT NULL,
    "RespondedAt" TEXT NULL,
    "ApproverComment" TEXT NULL,
    "ApprovalType" TEXT NULL,
    "MisKey" TEXT NULL
);
2025-05-28 06:36:29.637 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ApprovalRequests" (
    "ApprovalId" TEXT NOT NULL CONSTRAINT "PK_ApprovalRequests" PRIMARY KEY,
    "RequestTitle" TEXT NOT NULL,
    "RequestContent" TEXT NULL,
    "ApplicantEmployeeNumber" TEXT NOT NULL,
    "ApplicantName" TEXT NOT NULL,
    "ApplicantPosition" TEXT NULL,
    "ApplicantDepartment" TEXT NULL,
    "Status" TEXT NOT NULL,
    "RequestedAt" TEXT NOT NULL,
    "RespondedAt" TEXT NULL,
    "ApproverComment" TEXT NULL,
    "ApprovalType" TEXT NULL,
    "MisKey" TEXT NULL
);
2025-05-28 06:36:29.637 +09:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-05-28 06:36:29.637 +09:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-05-28 06:36:29.637 +09:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-05-28 06:36:29.637 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Approvals" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Approvals" PRIMARY KEY,
    "RequestId" TEXT NOT NULL,
    "Status" INTEGER NOT NULL,
    "ApproverEmployeeNumber" TEXT NOT NULL,
    "ApproverName" TEXT NOT NULL,
    "ApproverPosition" TEXT NOT NULL,
    "ApproverDepartment" TEXT NOT NULL,
    "Comments" TEXT NULL,
    "RequestedAt" TEXT NOT NULL,
    "RespondedAt" TEXT NULL
);
2025-05-28 06:36:29.637 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Approvals" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Approvals" PRIMARY KEY,
    "RequestId" TEXT NOT NULL,
    "Status" INTEGER NOT NULL,
    "ApproverEmployeeNumber" TEXT NOT NULL,
    "ApproverName" TEXT NOT NULL,
    "ApproverPosition" TEXT NOT NULL,
    "ApproverDepartment" TEXT NOT NULL,
    "Comments" TEXT NULL,
    "RequestedAt" TEXT NOT NULL,
    "RespondedAt" TEXT NULL
);
2025-05-28 06:36:29.637 +09:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-05-28 06:36:29.637 +09:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-05-28 06:36:29.637 +09:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-05-28 06:36:29.637 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ApprovalSteps" (
    "StepId" TEXT NOT NULL CONSTRAINT "PK_ApprovalSteps" PRIMARY KEY,
    "ApprovalId" TEXT NOT NULL,
    "ApproverEmployeeNumber" TEXT NOT NULL,
    "Sequence" INTEGER NOT NULL,
    "IsFinalApprover" INTEGER NOT NULL,
    "ActionStatus" TEXT NULL,
    "ActionDate" TEXT NULL,
    "Comment" TEXT NULL
);
2025-05-28 06:36:29.637 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ApprovalSteps" (
    "StepId" TEXT NOT NULL CONSTRAINT "PK_ApprovalSteps" PRIMARY KEY,
    "ApprovalId" TEXT NOT NULL,
    "ApproverEmployeeNumber" TEXT NOT NULL,
    "Sequence" INTEGER NOT NULL,
    "IsFinalApprover" INTEGER NOT NULL,
    "ActionStatus" TEXT NULL,
    "ActionDate" TEXT NULL,
    "Comment" TEXT NULL
);
2025-05-28 06:36:29.638 +09:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-05-28 06:36:29.638 +09:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-05-28 06:36:29.638 +09:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-05-28 06:36:29.638 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ApprovalTemplates" (
    "TemplateId" TEXT NOT NULL CONSTRAINT "PK_ApprovalTemplates" PRIMARY KEY,
    "TemplateName" TEXT NOT NULL,
    "TemplateContent" TEXT NULL,
    "CreatedByEmployeeNumber" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL
);
2025-05-28 06:36:29.639 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ApprovalTemplates" (
    "TemplateId" TEXT NOT NULL CONSTRAINT "PK_ApprovalTemplates" PRIMARY KEY,
    "TemplateName" TEXT NOT NULL,
    "TemplateContent" TEXT NULL,
    "CreatedByEmployeeNumber" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL
);
2025-05-28 06:36:29.640 +09:00 [DBG] Committing transaction.
2025-05-28 06:36:29.640 +09:00 [DBG] Committed transaction.
2025-05-28 06:36:29.641 +09:00 [DBG] Disposing transaction.
2025-05-28 06:36:29.641 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 06:36:29.641 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 06:36:29.644 +09:00 [DBG] Creating DbConnection.
2025-05-28 06:36:29.644 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-28 06:36:29.644 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 06:36:29.644 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 06:36:29.645 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 06:36:29.645 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 06:36:29.646 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-28 06:36:29.646 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-05-28 06:36:29.646 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-05-28 06:36:29.646 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 06:36:29.646 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 06:36:29.647 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-28 06:36:29.648 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-28 06:36:29.648 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 06:36:29.649 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 06:36:29.720 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .Any()'
2025-05-28 06:36:29.810 +09:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-05-28 06:36:29.825 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 06:36:29.826 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 06:36:29.826 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-28 06:36:29.826 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-28 06:36:29.826 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-28 06:36:29.826 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-05-28 06:36:29.827 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-05-28 06:36:29.830 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 06:36:29.830 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 2ms reading results.
2025-05-28 06:36:29.832 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 06:36:29.832 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 06:36:29.882 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'Approval' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 06:36:29.891 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'Approver' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 06:36:29.914 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 06:36:29.921 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalStep' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 06:36:29.933 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalTemplate' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 06:36:29.936 +09:00 [DBG] SaveChanges starting for 'ApprovalDbContext'.
2025-05-28 06:36:29.938 +09:00 [DBG] DetectChanges starting for 'ApprovalDbContext'.
2025-05-28 06:36:29.954 +09:00 [DBG] DetectChanges completed for 'ApprovalDbContext'.
2025-05-28 06:36:29.980 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 06:36:29.980 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 06:36:29.980 +09:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-05-28 06:36:29.981 +09:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-05-28 06:36:29.981 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-28 06:36:29.981 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-28 06:36:29.982 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-28 06:36:29.983 +09:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 5), @p2='?' (Size = 4), @p3='?' (Size = 11), @p4='?' (Size = 5), @p5='?' (Size = 2), @p6='?', @p7='?', @p8='?' (Size = 9), @p9='?' (Size = 5), @p10='?' (DbType = DateTime), @p11='?' (DbType = DateTime), @p12='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ApprovalRequests" ("ApprovalId", "ApplicantDepartment", "ApplicantEmployeeNumber", "ApplicantName", "ApplicantPosition", "ApprovalType", "ApproverComment", "MisKey", "RequestContent", "RequestTitle", "RequestedAt", "RespondedAt", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2025-05-28 06:36:29.984 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 5), @p2='?' (Size = 4), @p3='?' (Size = 11), @p4='?' (Size = 5), @p5='?' (Size = 2), @p6='?', @p7='?', @p8='?' (Size = 9), @p9='?' (Size = 5), @p10='?' (DbType = DateTime), @p11='?' (DbType = DateTime), @p12='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ApprovalRequests" ("ApprovalId", "ApplicantDepartment", "ApplicantEmployeeNumber", "ApplicantName", "ApplicantPosition", "ApprovalType", "ApproverComment", "MisKey", "RequestContent", "RequestTitle", "RequestedAt", "RespondedAt", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2025-05-28 06:36:29.985 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 06:36:29.985 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 1ms reading results.
2025-05-28 06:36:29.986 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-28 06:36:29.986 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-28 06:36:29.986 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-28 06:36:29.986 +09:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Guid), @p4='?' (Size = 4), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ApprovalSteps" ("StepId", "ActionDate", "ActionStatus", "ApprovalId", "ApproverEmployeeNumber", "Comment", "IsFinalApprover", "Sequence")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-05-28 06:36:29.986 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Guid), @p4='?' (Size = 4), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ApprovalSteps" ("StepId", "ActionDate", "ActionStatus", "ApprovalId", "ApproverEmployeeNumber", "Comment", "IsFinalApprover", "Sequence")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-05-28 06:36:29.986 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 06:36:29.986 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 0ms reading results.
2025-05-28 06:36:29.986 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-28 06:36:29.987 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-28 06:36:29.987 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-28 06:36:29.987 +09:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 5), @p3='?' (Size = 16), @p4='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ApprovalTemplates" ("TemplateId", "CreatedAt", "CreatedByEmployeeNumber", "TemplateContent", "TemplateName")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-05-28 06:36:29.987 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 5), @p3='?' (Size = 16), @p4='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ApprovalTemplates" ("TemplateId", "CreatedAt", "CreatedByEmployeeNumber", "TemplateContent", "TemplateName")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-05-28 06:36:29.987 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 06:36:29.987 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 0ms reading results.
2025-05-28 06:36:29.989 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-28 06:36:29.989 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-28 06:36:29.990 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-28 06:36:29.990 +09:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (Size = 7), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p6='?' (Size = 2), @p7='?' (Size = 4), @p8='?' (Size = 10), @p9='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Approvals" ("Id", "Comments", "RequestId", "RequestedAt", "RespondedAt", "Status", "ApproverDepartment", "ApproverEmployeeNumber", "ApproverName", "ApproverPosition")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-05-28 06:36:29.990 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (Size = 7), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p6='?' (Size = 2), @p7='?' (Size = 4), @p8='?' (Size = 10), @p9='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Approvals" ("Id", "Comments", "RequestId", "RequestedAt", "RespondedAt", "Status", "ApproverDepartment", "ApproverEmployeeNumber", "ApproverName", "ApproverPosition")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-05-28 06:36:29.990 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 06:36:29.991 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 0ms reading results.
2025-05-28 06:36:29.992 +09:00 [DBG] Committing transaction.
2025-05-28 06:36:29.992 +09:00 [DBG] Committed transaction.
2025-05-28 06:36:29.993 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 06:36:29.993 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 06:36:29.994 +09:00 [DBG] Disposing transaction.
2025-05-28 06:36:29.997 +09:00 [DBG] An entity of type 'Approval' tracked by 'ApprovalDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 06:36:29.997 +09:00 [DBG] An entity of type 'Approver' tracked by 'ApprovalDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 06:36:29.998 +09:00 [DBG] An entity of type 'ApprovalRequest' tracked by 'ApprovalDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 06:36:29.998 +09:00 [DBG] An entity of type 'ApprovalStep' tracked by 'ApprovalDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 06:36:29.998 +09:00 [DBG] An entity of type 'ApprovalTemplate' tracked by 'ApprovalDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 06:36:29.998 +09:00 [DBG] SaveChanges completed for 'ApprovalDbContext' with 4 entities written to the database.
2025-05-28 06:36:29.999 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-28 06:36:29.999 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 06:36:29.999 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 06:36:30.001 +09:00 [DBG] Hosting starting
2025-05-28 06:36:30.043 +09:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-05-28 06:36:30.043 +09:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-05-28 06:36:30.389 +09:00 [INF] Now listening on: https://localhost:5001
2025-05-28 06:36:30.389 +09:00 [INF] Now listening on: http://localhost:5229
2025-05-28 06:36:30.389 +09:00 [DBG] Loaded hosting startup assembly ApprovalService.API
2025-05-28 06:36:30.389 +09:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-28 06:36:30.390 +09:00 [INF] Hosting environment: Development
2025-05-28 06:36:30.390 +09:00 [INF] Content root path: /Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API
2025-05-28 06:36:30.390 +09:00 [DBG] Hosting started
2025-05-28 06:36:34.525 +09:00 [DBG] Connection id "0HNCTCQ6QBKVH" accepted.
2025-05-28 06:36:34.696 +09:00 [DBG] Connection id "0HNCTCQ6QBKVH" started.
2025-05-28 06:36:34.778 +09:00 [DBG] Connection 0HNCTCQ6QBKVH established using the following protocol: "Tls12"
2025-05-28 06:36:34.810 +09:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - null null
2025-05-28 06:36:34.828 +09:00 [DBG] No candidates found for the request path '/'
2025-05-28 06:36:34.829 +09:00 [DBG] Request did not match any endpoints
2025-05-28 06:36:34.845 +09:00 [DBG] The request path  does not match the path filter
2025-05-28 06:36:34.849 +09:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - 404 0 null 39.4287ms
2025-05-28 06:36:34.861 +09:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5001/, Response status code: 404
2025-05-28 06:36:36.082 +09:00 [DBG] Connection id "0HNCTCQ6QBKVH" received FIN.
2025-05-28 06:36:36.085 +09:00 [DBG] Connection id "0HNCTCQ6QBKVH" is closed. The last processed stream ID was 1.
2025-05-28 06:36:36.086 +09:00 [DBG] Connection id "0HNCTCQ6QBKVH" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-28 06:36:36.087 +09:00 [DBG] The connection queue processing loop for 0HNCTCQ6QBKVH completed.
2025-05-28 06:36:36.097 +09:00 [DBG] Connection id "0HNCTCQ6QBKVH" stopped.
2025-05-28 06:36:43.194 +09:00 [DBG] Connection id "0HNCTCQ6QBKVI" accepted.
2025-05-28 06:36:43.198 +09:00 [DBG] Connection id "0HNCTCQ6QBKVI" started.
2025-05-28 06:36:43.243 +09:00 [DBG] Connection 0HNCTCQ6QBKVI established using the following protocol: "Tls12"
2025-05-28 06:36:43.244 +09:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/approval - null null
2025-05-28 06:36:43.246 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approval'
2025-05-28 06:36:43.247 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)' with route pattern 'api/Approval' is valid for the request path '/api/approval'
2025-05-28 06:36:43.248 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-28 06:36:43.249 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-28 06:36:43.249 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-28 06:36:43.262 +09:00 [INF] Route matched with {action = "GetAll", controller = "Approval"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API).
2025-05-28 06:36:43.262 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-28 06:36:43.263 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-28 06:36:43.263 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-28 06:36:43.263 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-28 06:36:43.263 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-28 06:36:43.264 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-28 06:36:43.265 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-28 06:36:43.282 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-28 06:36:43.283 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()'
2025-05-28 06:36:43.305 +09:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<ApprovalRequest>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApprovalRequest.ApprovalId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApprovalRequest.ApplicantDepartment (string), 1], [Property: ApprovalRequest.ApplicantEmployeeNumber (string) Required, 2], [Property: ApprovalRequest.ApplicantName (string) Required, 3], [Property: ApprovalRequest.ApplicantPosition (string), 4], [Property: ApprovalRequest.ApprovalType (string), 5], [Property: ApprovalRequest.ApproverComment (string), 6], [Property: ApprovalRequest.MisKey (string), 7], [Property: ApprovalRequest.RequestContent (string), 8], [Property: ApprovalRequest.RequestTitle (string) Required, 9], [Property: ApprovalRequest.RequestedAt (DateTime) Required, 10], [Property: ApprovalRequest.RespondedAt (DateTime?), 11], [Property: ApprovalRequest.Status (string) Required, 12] }
        SELECT a.ApprovalId, a.ApplicantDepartment, a.ApplicantEmployeeNumber, a.ApplicantName, a.ApplicantPosition, a.ApprovalType, a.ApproverComment, a.MisKey, a.RequestContent, a.RequestTitle, a.RequestedAt, a.RespondedAt, a.Status
        FROM ApprovalRequests AS a) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApprovalRequest.ApprovalId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApprovalRequest.ApplicantDepartment (string), 1], [Property: ApprovalRequest.ApplicantEmployeeNumber (string) Required, 2], [Property: ApprovalRequest.ApplicantName (string) Required, 3], [Property: ApprovalRequest.ApplicantPosition (string), 4], [Property: ApprovalRequest.ApprovalType (string), 5], [Property: ApprovalRequest.ApproverComment (string), 6], [Property: ApprovalRequest.MisKey (string), 7], [Property: ApprovalRequest.RequestContent (string), 8], [Property: ApprovalRequest.RequestTitle (string) Required, 9], [Property: ApprovalRequest.RequestedAt (DateTime) Required, 10], [Property: ApprovalRequest.RespondedAt (DateTime?), 11], [Property: ApprovalRequest.Status (string) Required, 12] }
        SELECT a.ApprovalId, a.ApplicantDepartment, a.ApplicantEmployeeNumber, a.ApplicantName, a.ApplicantPosition, a.ApprovalType, a.ApproverComment, a.MisKey, a.RequestContent, a.RequestTitle, a.RequestedAt, a.RespondedAt, a.Status
        FROM ApprovalRequests AS a, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        ApprovalRequest entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            ApprovalRequest instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(ApprovalRequest);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: ApprovalRequest.ApprovalId PK | Resolver: c => c.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (ApprovalRequest)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")]: 
                        {
                            return 
                            {
                                ApprovalRequest instance;
                                instance = new ApprovalRequest();
                                instance.<ApprovalId>k__BackingField = dataReader.GetGuid(0);
                                instance.<ApplicantDepartment>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                instance.<ApplicantEmployeeNumber>k__BackingField = dataReader.GetString(2);
                                instance.<ApplicantName>k__BackingField = dataReader.GetString(3);
                                instance.<ApplicantPosition>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                instance.<ApprovalType>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                instance.<ApproverComment>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                instance.<MisKey>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                instance.<RequestContent>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                instance.<RequestTitle>k__BackingField = dataReader.GetString(9);
                                instance.<RequestedAt>k__BackingField = dataReader.GetDateTime(10);
                                instance.<RespondedAt>k__BackingField = dataReader.IsDBNull(11) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(11);
                                instance.<Status>k__BackingField = dataReader.GetString(12);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(ApprovalRequest)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-05-28 06:36:43.309 +09:00 [DBG] Creating DbConnection.
2025-05-28 06:36:43.309 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-28 06:36:43.309 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 06:36:43.309 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 06:36:43.309 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-28 06:36:43.309 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-28 06:36:43.309 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-28 06:36:43.309 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
2025-05-28 06:36:43.310 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
2025-05-28 06:36:43.314 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 06:36:43.315 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 06:36:43.315 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 4ms reading results.
2025-05-28 06:36:43.315 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 06:36:43.315 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 06:36:43.316 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-28 06:36:43.320 +09:00 [DBG] No information found on request to perform content negotiation.
2025-05-28 06:36:43.320 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-28 06:36:43.320 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-28 06:36:43.320 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-28 06:36:43.320 +09:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ApprovalService.Domain.Entities.ApprovalRequest, ApprovalService.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 06:36:43.358 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API) in 93.6626ms
2025-05-28 06:36:43.359 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-28 06:36:43.360 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-28 06:36:43.361 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 06:36:43.361 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 06:36:43.361 +09:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/approval - 200 null application/json; charset=utf-8 117.5861ms
2025-05-28 06:36:46.083 +09:00 [DBG] Connection id "0HNCTCQ6QBKVI" received FIN.
2025-05-28 06:36:46.084 +09:00 [DBG] Connection id "0HNCTCQ6QBKVI" is closed. The last processed stream ID was 1.
2025-05-28 06:36:46.084 +09:00 [DBG] The connection queue processing loop for 0HNCTCQ6QBKVI completed.
2025-05-28 06:36:46.084 +09:00 [DBG] Connection id "0HNCTCQ6QBKVI" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-28 06:36:46.085 +09:00 [DBG] Connection id "0HNCTCQ6QBKVI" stopped.
2025-05-28 06:44:33.453 +09:00 [DBG] Connection id "0HNCTCQ6QBKVJ" accepted.
2025-05-28 06:44:33.455 +09:00 [DBG] Connection id "0HNCTCQ6QBKVJ" started.
2025-05-28 06:44:33.490 +09:00 [DBG] Connection 0HNCTCQ6QBKVJ established using the following protocol: "Tls12"
2025-05-28 06:44:33.523 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approval - null null
2025-05-28 06:44:33.524 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approval'
2025-05-28 06:44:33.525 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)' with route pattern 'api/Approval' is valid for the request path '/api/approval'
2025-05-28 06:44:33.525 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-28 06:44:33.529 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-28 06:44:33.529 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-28 06:44:33.533 +09:00 [INF] Route matched with {action = "GetAll", controller = "Approval"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API).
2025-05-28 06:44:33.533 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-28 06:44:33.533 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-28 06:44:33.534 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-28 06:44:33.534 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-28 06:44:33.534 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-28 06:44:33.534 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-28 06:44:33.536 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-28 06:44:33.589 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-28 06:44:33.591 +09:00 [DBG] Creating DbConnection.
2025-05-28 06:44:33.591 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-28 06:44:33.591 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 06:44:33.593 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 06:44:33.593 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-28 06:44:33.593 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-28 06:44:33.593 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-28 06:44:33.593 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
2025-05-28 06:44:33.597 +09:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
2025-05-28 06:44:33.601 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 06:44:33.601 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 06:44:33.601 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 3ms reading results.
2025-05-28 06:44:33.601 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 06:44:33.601 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 06:44:33.602 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-28 06:44:33.605 +09:00 [DBG] No information found on request to perform content negotiation.
2025-05-28 06:44:33.605 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-28 06:44:33.605 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-28 06:44:33.605 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-28 06:44:33.605 +09:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ApprovalService.Domain.Entities.ApprovalRequest, ApprovalService.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 06:44:33.611 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API) in 76.7961ms
2025-05-28 06:44:33.611 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-28 06:44:33.611 +09:00 [DBG] Connection id "0HNCTCQ6QBKVJ" completed keep alive response.
2025-05-28 06:44:33.611 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-28 06:44:33.611 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 06:44:33.611 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 06:44:33.611 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approval - 200 null application/json; charset=utf-8 90.8964ms
2025-05-28 06:45:48.604 +09:00 [DBG] Connection id "0HNCTCQ6QBKVJ" received FIN.
2025-05-28 06:45:48.610 +09:00 [DBG] Connection id "0HNCTCQ6QBKVJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-28 06:45:48.611 +09:00 [DBG] Connection id "0HNCTCQ6QBKVJ" disconnecting.
2025-05-28 06:45:48.616 +09:00 [DBG] Connection id "0HNCTCQ6QBKVJ" stopped.
2025-05-28 06:46:23.187 +09:00 [INF] Application is shutting down...
2025-05-28 06:46:23.189 +09:00 [DBG] Hosting stopping
2025-05-28 06:46:23.207 +09:00 [DBG] Hosting stopped
2025-05-28 07:09:25.680 +09:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-05-28 07:09:25.838 +09:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-05-28 07:09:26.065 +09:00 [DBG] The property 'Approver.ApprovalId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-05-28 07:09:26.107 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-28 07:09:26.111 +09:00 [DBG] Creating DbConnection.
2025-05-28 07:09:26.118 +09:00 [DBG] Created DbConnection. (5ms).
2025-05-28 07:09:26.119 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:09:26.126 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:09:26.127 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:09:26.129 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:09:26.131 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-28 07:09:26.131 +09:00 [DBG] Creating DbConnection.
2025-05-28 07:09:26.131 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-28 07:09:26.133 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2025-05-28 07:09:26.134 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (3ms).
2025-05-28 07:09:26.134 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:09:26.135 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:09:26.137 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-28 07:09:26.153 +09:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-28 07:09:26.154 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:09:26.155 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (1ms).
2025-05-28 07:09:26.158 +09:00 [DBG] Creating DbConnection.
2025-05-28 07:09:26.158 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-28 07:09:26.158 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:09:26.158 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:09:26.158 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:09:26.158 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:09:26.158 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-28 07:09:26.159 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-05-28 07:09:26.159 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-05-28 07:09:26.159 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:09:26.159 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:09:26.159 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-28 07:09:26.159 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-28 07:09:26.159 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:09:26.159 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:09:26.178 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .Any()'
2025-05-28 07:09:26.272 +09:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-05-28 07:09:26.284 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:09:26.284 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:09:26.284 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-28 07:09:26.284 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:09:26.284 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:09:26.284 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-05-28 07:09:26.285 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-05-28 07:09:26.287 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:09:26.288 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 1ms reading results.
2025-05-28 07:09:26.288 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:09:26.289 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:09:26.289 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-28 07:09:26.290 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:09:26.290 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:09:26.291 +09:00 [DBG] Hosting starting
2025-05-28 07:09:26.317 +09:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-05-28 07:09:26.319 +09:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-05-28 07:09:26.577 +09:00 [INF] Now listening on: https://localhost:5001
2025-05-28 07:09:26.578 +09:00 [INF] Now listening on: http://localhost:5229
2025-05-28 07:09:26.578 +09:00 [DBG] Loaded hosting startup assembly ApprovalService.API
2025-05-28 07:09:26.578 +09:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-28 07:09:26.578 +09:00 [INF] Hosting environment: Development
2025-05-28 07:09:26.578 +09:00 [INF] Content root path: /Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API
2025-05-28 07:09:26.578 +09:00 [DBG] Hosting started
2025-05-28 07:09:31.987 +09:00 [DBG] Connection id "0HNCTDCK4VPAV" accepted.
2025-05-28 07:09:31.988 +09:00 [DBG] Connection id "0HNCTDCK4VPAV" started.
2025-05-28 07:09:32.022 +09:00 [DBG] Connection 0HNCTDCK4VPAV established using the following protocol: "Tls12"
2025-05-28 07:09:32.043 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approval - null null
2025-05-28 07:09:32.051 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approval'
2025-05-28 07:09:32.053 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)' with route pattern 'api/Approval' is valid for the request path '/api/approval'
2025-05-28 07:09:32.053 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-28 07:09:32.066 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-28 07:09:32.067 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-28 07:09:32.074 +09:00 [INF] Route matched with {action = "GetAll", controller = "Approval"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API).
2025-05-28 07:09:32.075 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-28 07:09:32.076 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-28 07:09:32.076 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-28 07:09:32.076 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-28 07:09:32.076 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-28 07:09:32.076 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-28 07:09:32.077 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-28 07:09:32.084 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-28 07:09:32.087 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()'
2025-05-28 07:09:32.116 +09:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<ApprovalRequest>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApprovalRequest.ApprovalId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApprovalRequest.ApplicantDepartment (string), 1], [Property: ApprovalRequest.ApplicantEmployeeNumber (string) Required, 2], [Property: ApprovalRequest.ApplicantName (string) Required, 3], [Property: ApprovalRequest.ApplicantPosition (string), 4], [Property: ApprovalRequest.ApprovalType (string), 5], [Property: ApprovalRequest.ApproverComment (string), 6], [Property: ApprovalRequest.MisKey (string), 7], [Property: ApprovalRequest.RequestContent (string), 8], [Property: ApprovalRequest.RequestTitle (string) Required, 9], [Property: ApprovalRequest.RequestedAt (DateTime) Required, 10], [Property: ApprovalRequest.RespondedAt (DateTime?), 11], [Property: ApprovalRequest.Status (string) Required, 12] }
        SELECT a.ApprovalId, a.ApplicantDepartment, a.ApplicantEmployeeNumber, a.ApplicantName, a.ApplicantPosition, a.ApprovalType, a.ApproverComment, a.MisKey, a.RequestContent, a.RequestTitle, a.RequestedAt, a.RespondedAt, a.Status
        FROM ApprovalRequests AS a) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApprovalRequest.ApprovalId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApprovalRequest.ApplicantDepartment (string), 1], [Property: ApprovalRequest.ApplicantEmployeeNumber (string) Required, 2], [Property: ApprovalRequest.ApplicantName (string) Required, 3], [Property: ApprovalRequest.ApplicantPosition (string), 4], [Property: ApprovalRequest.ApprovalType (string), 5], [Property: ApprovalRequest.ApproverComment (string), 6], [Property: ApprovalRequest.MisKey (string), 7], [Property: ApprovalRequest.RequestContent (string), 8], [Property: ApprovalRequest.RequestTitle (string) Required, 9], [Property: ApprovalRequest.RequestedAt (DateTime) Required, 10], [Property: ApprovalRequest.RespondedAt (DateTime?), 11], [Property: ApprovalRequest.Status (string) Required, 12] }
        SELECT a.ApprovalId, a.ApplicantDepartment, a.ApplicantEmployeeNumber, a.ApplicantName, a.ApplicantPosition, a.ApprovalType, a.ApproverComment, a.MisKey, a.RequestContent, a.RequestTitle, a.RequestedAt, a.RespondedAt, a.Status
        FROM ApprovalRequests AS a, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        ApprovalRequest entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            ApprovalRequest instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(ApprovalRequest);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: ApprovalRequest.ApprovalId PK | Resolver: c => c.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (ApprovalRequest)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")]: 
                        {
                            return 
                            {
                                ApprovalRequest instance;
                                instance = new ApprovalRequest();
                                instance.<ApprovalId>k__BackingField = dataReader.GetGuid(0);
                                instance.<ApplicantDepartment>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                instance.<ApplicantEmployeeNumber>k__BackingField = dataReader.GetString(2);
                                instance.<ApplicantName>k__BackingField = dataReader.GetString(3);
                                instance.<ApplicantPosition>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                instance.<ApprovalType>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                instance.<ApproverComment>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                instance.<MisKey>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                instance.<RequestContent>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                instance.<RequestTitle>k__BackingField = dataReader.GetString(9);
                                instance.<RequestedAt>k__BackingField = dataReader.GetDateTime(10);
                                instance.<RespondedAt>k__BackingField = dataReader.IsDBNull(11) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(11);
                                instance.<Status>k__BackingField = dataReader.GetString(12);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(ApprovalRequest)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-05-28 07:09:32.119 +09:00 [DBG] Creating DbConnection.
2025-05-28 07:09:32.120 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-28 07:09:32.120 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:09:32.120 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:09:32.120 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-28 07:09:32.120 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:09:32.120 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:09:32.120 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
2025-05-28 07:09:32.120 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
2025-05-28 07:09:32.139 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 07:09:32.159 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:09:32.159 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 38ms reading results.
2025-05-28 07:09:32.159 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:09:32.159 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:09:32.161 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-28 07:09:32.161 +09:00 [DBG] No information found on request to perform content negotiation.
2025-05-28 07:09:32.161 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-28 07:09:32.161 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-28 07:09:32.162 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-28 07:09:32.162 +09:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ApprovalService.API.Models.ApprovalRequestDto, ApprovalService.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 07:09:32.218 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API) in 139.7436ms
2025-05-28 07:09:32.220 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-28 07:09:32.221 +09:00 [DBG] Connection id "0HNCTDCK4VPAV" completed keep alive response.
2025-05-28 07:09:32.222 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-28 07:09:32.223 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:09:32.224 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:09:32.224 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approval - 200 null application/json; charset=utf-8 182.0329ms
2025-05-28 07:10:04.919 +09:00 [INF] Application is shutting down...
2025-05-28 07:10:04.937 +09:00 [DBG] Hosting stopping
2025-05-28 07:10:04.952 +09:00 [DBG] Connection id "0HNCTDCK4VPAV" disconnecting.
2025-05-28 07:10:04.954 +09:00 [DBG] Connection id "0HNCTDCK4VPAV" stopped.
2025-05-28 07:10:04.956 +09:00 [DBG] Connection id "0HNCTDCK4VPAV" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-28 07:10:04.961 +09:00 [DBG] Hosting stopped
2025-05-28 07:10:13.159 +09:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-05-28 07:10:13.293 +09:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-05-28 07:10:13.645 +09:00 [DBG] The property 'Approver.ApprovalId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-05-28 07:10:13.699 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-28 07:10:13.707 +09:00 [DBG] Creating DbConnection.
2025-05-28 07:10:13.712 +09:00 [DBG] Created DbConnection. (4ms).
2025-05-28 07:10:13.714 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:10:13.718 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:10:13.720 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:10:13.722 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:10:13.724 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-28 07:10:13.724 +09:00 [DBG] Creating DbConnection.
2025-05-28 07:10:13.724 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-28 07:10:13.727 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2025-05-28 07:10:13.728 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (4ms).
2025-05-28 07:10:13.728 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:10:13.729 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:10:13.732 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-28 07:10:13.750 +09:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-28 07:10:13.752 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:10:13.754 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (3ms).
2025-05-28 07:10:13.761 +09:00 [DBG] Creating DbConnection.
2025-05-28 07:10:13.761 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-28 07:10:13.761 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:10:13.761 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:10:13.762 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:10:13.762 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:10:13.762 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-28 07:10:13.762 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-05-28 07:10:13.762 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-05-28 07:10:13.762 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:10:13.762 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:10:13.762 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-28 07:10:13.762 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-28 07:10:13.762 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:10:13.763 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:10:13.783 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .Any()'
2025-05-28 07:10:13.889 +09:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-05-28 07:10:13.902 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:10:13.903 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:10:13.903 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-28 07:10:13.903 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:10:13.903 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:10:13.904 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-05-28 07:10:13.905 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-05-28 07:10:13.907 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:10:13.907 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 2ms reading results.
2025-05-28 07:10:13.908 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:10:13.908 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:10:13.909 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-28 07:10:13.909 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:10:13.909 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:10:13.911 +09:00 [DBG] Hosting starting
2025-05-28 07:10:13.925 +09:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-05-28 07:10:13.926 +09:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-05-28 07:10:14.582 +09:00 [INF] Now listening on: https://localhost:5001
2025-05-28 07:10:14.585 +09:00 [INF] Now listening on: http://localhost:5229
2025-05-28 07:10:14.585 +09:00 [DBG] Loaded hosting startup assembly ApprovalService.API
2025-05-28 07:10:14.751 +09:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-28 07:10:14.770 +09:00 [INF] Hosting environment: Development
2025-05-28 07:10:14.784 +09:00 [INF] Content root path: /Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API
2025-05-28 07:10:14.786 +09:00 [DBG] Hosting started
2025-05-28 07:10:25.453 +09:00 [DBG] Connection id "0HNCTDD42SCRN" accepted.
2025-05-28 07:10:25.454 +09:00 [DBG] Connection id "0HNCTDD42SCRN" started.
2025-05-28 07:10:25.498 +09:00 [DBG] Connection 0HNCTDD42SCRN established using the following protocol: "Tls12"
2025-05-28 07:10:25.516 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approval - null null
2025-05-28 07:10:25.527 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approval'
2025-05-28 07:10:25.528 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)' with route pattern 'api/Approval' is valid for the request path '/api/approval'
2025-05-28 07:10:25.529 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-28 07:10:25.545 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-28 07:10:25.545 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-28 07:10:25.552 +09:00 [INF] Route matched with {action = "GetAll", controller = "Approval"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API).
2025-05-28 07:10:25.552 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-28 07:10:25.552 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-28 07:10:25.553 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-28 07:10:25.553 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-28 07:10:25.553 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-28 07:10:25.553 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-28 07:10:25.554 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-28 07:10:25.563 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-28 07:10:25.565 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()'
2025-05-28 07:10:25.608 +09:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<ApprovalRequest>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApprovalRequest.ApprovalId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApprovalRequest.ApplicantDepartment (string), 1], [Property: ApprovalRequest.ApplicantEmployeeNumber (string) Required, 2], [Property: ApprovalRequest.ApplicantName (string) Required, 3], [Property: ApprovalRequest.ApplicantPosition (string), 4], [Property: ApprovalRequest.ApprovalType (string), 5], [Property: ApprovalRequest.ApproverComment (string), 6], [Property: ApprovalRequest.MisKey (string), 7], [Property: ApprovalRequest.RequestContent (string), 8], [Property: ApprovalRequest.RequestTitle (string) Required, 9], [Property: ApprovalRequest.RequestedAt (DateTime) Required, 10], [Property: ApprovalRequest.RespondedAt (DateTime?), 11], [Property: ApprovalRequest.Status (string) Required, 12] }
        SELECT a.ApprovalId, a.ApplicantDepartment, a.ApplicantEmployeeNumber, a.ApplicantName, a.ApplicantPosition, a.ApprovalType, a.ApproverComment, a.MisKey, a.RequestContent, a.RequestTitle, a.RequestedAt, a.RespondedAt, a.Status
        FROM ApprovalRequests AS a) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApprovalRequest.ApprovalId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApprovalRequest.ApplicantDepartment (string), 1], [Property: ApprovalRequest.ApplicantEmployeeNumber (string) Required, 2], [Property: ApprovalRequest.ApplicantName (string) Required, 3], [Property: ApprovalRequest.ApplicantPosition (string), 4], [Property: ApprovalRequest.ApprovalType (string), 5], [Property: ApprovalRequest.ApproverComment (string), 6], [Property: ApprovalRequest.MisKey (string), 7], [Property: ApprovalRequest.RequestContent (string), 8], [Property: ApprovalRequest.RequestTitle (string) Required, 9], [Property: ApprovalRequest.RequestedAt (DateTime) Required, 10], [Property: ApprovalRequest.RespondedAt (DateTime?), 11], [Property: ApprovalRequest.Status (string) Required, 12] }
        SELECT a.ApprovalId, a.ApplicantDepartment, a.ApplicantEmployeeNumber, a.ApplicantName, a.ApplicantPosition, a.ApprovalType, a.ApproverComment, a.MisKey, a.RequestContent, a.RequestTitle, a.RequestedAt, a.RespondedAt, a.Status
        FROM ApprovalRequests AS a, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        ApprovalRequest entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            ApprovalRequest instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(ApprovalRequest);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: ApprovalRequest.ApprovalId PK | Resolver: c => c.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (ApprovalRequest)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")]: 
                        {
                            return 
                            {
                                ApprovalRequest instance;
                                instance = new ApprovalRequest();
                                instance.<ApprovalId>k__BackingField = dataReader.GetGuid(0);
                                instance.<ApplicantDepartment>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                instance.<ApplicantEmployeeNumber>k__BackingField = dataReader.GetString(2);
                                instance.<ApplicantName>k__BackingField = dataReader.GetString(3);
                                instance.<ApplicantPosition>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                instance.<ApprovalType>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                instance.<ApproverComment>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                instance.<MisKey>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                instance.<RequestContent>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                instance.<RequestTitle>k__BackingField = dataReader.GetString(9);
                                instance.<RequestedAt>k__BackingField = dataReader.GetDateTime(10);
                                instance.<RespondedAt>k__BackingField = dataReader.IsDBNull(11) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(11);
                                instance.<Status>k__BackingField = dataReader.GetString(12);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(ApprovalRequest)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-05-28 07:10:25.611 +09:00 [DBG] Creating DbConnection.
2025-05-28 07:10:25.611 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-28 07:10:25.611 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:10:25.612 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:10:25.612 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-28 07:10:25.612 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:10:25.612 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:10:25.612 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
2025-05-28 07:10:25.614 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
2025-05-28 07:10:25.631 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 07:10:25.646 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:10:25.646 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 32ms reading results.
2025-05-28 07:10:25.646 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:10:25.646 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:10:25.648 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-28 07:10:25.648 +09:00 [DBG] No information found on request to perform content negotiation.
2025-05-28 07:10:25.648 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-28 07:10:25.648 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-28 07:10:25.648 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-28 07:10:25.649 +09:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ApprovalService.API.Models.ApprovalRequestDto, ApprovalService.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 07:10:25.683 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API) in 128.8309ms
2025-05-28 07:10:25.685 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-28 07:10:25.685 +09:00 [DBG] Connection id "0HNCTDD42SCRN" completed keep alive response.
2025-05-28 07:10:25.686 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-28 07:10:25.687 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:10:25.688 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:10:25.689 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approval - 200 null application/json; charset=utf-8 174.1925ms
2025-05-28 07:10:44.185 +09:00 [DBG] Connection id "0HNCTDD42SCRO" accepted.
2025-05-28 07:10:44.188 +09:00 [DBG] Connection id "0HNCTDD42SCRO" started.
2025-05-28 07:10:44.219 +09:00 [DBG] Connection 0HNCTDD42SCRO established using the following protocol: "Tls12"
2025-05-28 07:10:44.246 +09:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/approval - null null
2025-05-28 07:10:44.247 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approval'
2025-05-28 07:10:44.247 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)' with route pattern 'api/Approval' is valid for the request path '/api/approval'
2025-05-28 07:10:44.247 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-28 07:10:44.251 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-28 07:10:44.252 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-28 07:10:44.254 +09:00 [INF] Route matched with {action = "GetAll", controller = "Approval"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API).
2025-05-28 07:10:44.254 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-28 07:10:44.255 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-28 07:10:44.255 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-28 07:10:44.256 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-28 07:10:44.256 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-28 07:10:44.256 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-28 07:10:44.258 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-28 07:10:44.295 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-28 07:10:44.297 +09:00 [DBG] Creating DbConnection.
2025-05-28 07:10:44.298 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-28 07:10:44.298 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:10:44.299 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:10:44.299 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-28 07:10:44.299 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:10:44.300 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:10:44.300 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
2025-05-28 07:10:44.301 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
2025-05-28 07:10:44.304 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 07:10:44.306 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:10:44.306 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 5ms reading results.
2025-05-28 07:10:44.307 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:10:44.307 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:10:44.307 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-28 07:10:44.313 +09:00 [DBG] No information found on request to perform content negotiation.
2025-05-28 07:10:44.314 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-28 07:10:44.314 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-28 07:10:44.314 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-28 07:10:44.314 +09:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ApprovalService.API.Models.ApprovalRequestDto, ApprovalService.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 07:10:44.315 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API) in 59.4041ms
2025-05-28 07:10:44.315 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-28 07:10:44.316 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-28 07:10:44.316 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:10:44.316 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:10:44.316 +09:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/approval - 200 null application/json; charset=utf-8 69.7454ms
2025-05-28 07:10:48.361 +09:00 [DBG] Connection id "0HNCTDD42SCRO" received FIN.
2025-05-28 07:10:48.367 +09:00 [DBG] Connection id "0HNCTDD42SCRO" is closed. The last processed stream ID was 1.
2025-05-28 07:10:48.367 +09:00 [DBG] Connection id "0HNCTDD42SCRO" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-28 07:10:48.377 +09:00 [DBG] The connection queue processing loop for 0HNCTDD42SCRO completed.
2025-05-28 07:10:48.382 +09:00 [DBG] Connection id "0HNCTDD42SCRO" stopped.
2025-05-28 07:11:32.027 +09:00 [DBG] Connection id "0HNCTDD42SCRN" received FIN.
2025-05-28 07:11:32.030 +09:00 [DBG] Connection id "0HNCTDD42SCRN" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-28 07:11:32.032 +09:00 [DBG] Connection id "0HNCTDD42SCRN" disconnecting.
2025-05-28 07:11:32.033 +09:00 [DBG] Connection id "0HNCTDD42SCRN" stopped.
2025-05-28 07:13:09.965 +09:00 [DBG] Connection id "0HNCTDD42SCRP" accepted.
2025-05-28 07:13:09.967 +09:00 [DBG] Connection id "0HNCTDD42SCRP" started.
2025-05-28 07:13:09.991 +09:00 [DBG] Connection 0HNCTDD42SCRP established using the following protocol: "Tls12"
2025-05-28 07:13:10.000 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approval - null null
2025-05-28 07:13:10.000 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approval'
2025-05-28 07:13:10.001 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)' with route pattern 'api/Approval' is valid for the request path '/api/approval'
2025-05-28 07:13:10.001 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-28 07:13:10.002 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-28 07:13:10.003 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-28 07:13:10.003 +09:00 [INF] Route matched with {action = "GetAll", controller = "Approval"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API).
2025-05-28 07:13:10.003 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-28 07:13:10.003 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-28 07:13:10.003 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-28 07:13:10.003 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-28 07:13:10.003 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-28 07:13:10.003 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-28 07:13:10.005 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-28 07:13:10.006 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-28 07:13:10.008 +09:00 [DBG] Creating DbConnection.
2025-05-28 07:13:10.009 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-28 07:13:10.009 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:13:10.009 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:13:10.010 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-28 07:13:10.010 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:13:10.010 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:13:10.010 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
2025-05-28 07:13:10.010 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
2025-05-28 07:13:10.011 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 07:13:10.011 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:13:10.011 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 0ms reading results.
2025-05-28 07:13:10.011 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:13:10.011 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:13:10.011 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-28 07:13:10.012 +09:00 [DBG] No information found on request to perform content negotiation.
2025-05-28 07:13:10.012 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-28 07:13:10.012 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-28 07:13:10.012 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-28 07:13:10.012 +09:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ApprovalService.API.Models.ApprovalRequestDto, ApprovalService.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 07:13:10.012 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API) in 8.9408ms
2025-05-28 07:13:10.012 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-28 07:13:10.013 +09:00 [DBG] Connection id "0HNCTDD42SCRP" completed keep alive response.
2025-05-28 07:13:10.013 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-28 07:13:10.013 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:13:10.013 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:13:10.013 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approval - 200 null application/json; charset=utf-8 12.8428ms
2025-05-28 07:14:24.976 +09:00 [DBG] Connection id "0HNCTDD42SCRP" received FIN.
2025-05-28 07:14:24.982 +09:00 [DBG] Connection id "0HNCTDD42SCRP" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-28 07:14:24.983 +09:00 [DBG] Connection id "0HNCTDD42SCRP" disconnecting.
2025-05-28 07:14:24.985 +09:00 [DBG] Connection id "0HNCTDD42SCRP" stopped.
2025-05-28 07:14:36.370 +09:00 [DBG] Connection id "0HNCTDD42SCRQ" accepted.
2025-05-28 07:14:36.370 +09:00 [DBG] Connection id "0HNCTDD42SCRQ" started.
2025-05-28 07:14:36.407 +09:00 [DBG] Connection 0HNCTDD42SCRQ established using the following protocol: "Tls12"
2025-05-28 07:14:36.413 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approval - null null
2025-05-28 07:14:36.414 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approval'
2025-05-28 07:14:36.414 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)' with route pattern 'api/Approval' is valid for the request path '/api/approval'
2025-05-28 07:14:36.414 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-28 07:14:36.415 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-28 07:14:36.415 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-28 07:14:36.415 +09:00 [INF] Route matched with {action = "GetAll", controller = "Approval"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API).
2025-05-28 07:14:36.415 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-28 07:14:36.415 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-28 07:14:36.415 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-28 07:14:36.415 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-28 07:14:36.415 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-28 07:14:36.416 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-28 07:14:36.416 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-28 07:14:36.418 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-28 07:14:36.419 +09:00 [DBG] Creating DbConnection.
2025-05-28 07:14:36.419 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-28 07:14:36.419 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:14:36.419 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:14:36.419 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-28 07:14:36.419 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:14:36.420 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:14:36.420 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
2025-05-28 07:14:36.420 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
2025-05-28 07:14:36.421 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 07:14:36.421 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:14:36.421 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 0ms reading results.
2025-05-28 07:14:36.421 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:14:36.421 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:14:36.422 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-28 07:14:36.422 +09:00 [DBG] No information found on request to perform content negotiation.
2025-05-28 07:14:36.422 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-28 07:14:36.422 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-28 07:14:36.422 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-28 07:14:36.422 +09:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ApprovalService.API.Models.ApprovalRequestDto, ApprovalService.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 07:14:36.423 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API) in 7.1716ms
2025-05-28 07:14:36.423 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-28 07:14:36.423 +09:00 [DBG] Connection id "0HNCTDD42SCRQ" completed keep alive response.
2025-05-28 07:14:36.423 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-28 07:14:36.423 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:14:36.423 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:14:36.423 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approval - 200 null application/json; charset=utf-8 10.4117ms
2025-05-28 07:14:52.980 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approval/88aa5311-c8c9-4c81-885c-147ac4ff50c8 - null null
2025-05-28 07:14:52.981 +09:00 [DBG] No candidates found for the request path '/api/approval/88aa5311-c8c9-4c81-885c-147ac4ff50c8'
2025-05-28 07:14:52.981 +09:00 [DBG] Request did not match any endpoints
2025-05-28 07:14:52.982 +09:00 [DBG] The request path  does not match the path filter
2025-05-28 07:14:52.993 +09:00 [DBG] Connection id "0HNCTDD42SCRQ" completed keep alive response.
2025-05-28 07:14:52.995 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approval/88aa5311-c8c9-4c81-885c-147ac4ff50c8 - 404 0 null 13.0494ms
2025-05-28 07:14:52.997 +09:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5001/api/approval/88aa5311-c8c9-4c81-885c-147ac4ff50c8, Response status code: 404
2025-05-28 07:16:06.379 +09:00 [DBG] Connection id "0HNCTDD42SCRQ" received FIN.
2025-05-28 07:16:06.382 +09:00 [DBG] Connection id "0HNCTDD42SCRQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-28 07:16:06.383 +09:00 [DBG] Connection id "0HNCTDD42SCRQ" disconnecting.
2025-05-28 07:16:06.385 +09:00 [DBG] Connection id "0HNCTDD42SCRQ" stopped.
2025-05-28 07:16:28.888 +09:00 [DBG] Connection id "0HNCTDD42SCRR" accepted.
2025-05-28 07:16:28.889 +09:00 [DBG] Connection id "0HNCTDD42SCRR" started.
2025-05-28 07:16:28.918 +09:00 [DBG] Connection 0HNCTDD42SCRR established using the following protocol: "Tls12"
2025-05-28 07:16:28.924 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approval/88aa5311-c8c9-4c81-885c-147ac4ff50c8 - null null
2025-05-28 07:16:28.924 +09:00 [DBG] No candidates found for the request path '/api/approval/88aa5311-c8c9-4c81-885c-147ac4ff50c8'
2025-05-28 07:16:28.924 +09:00 [DBG] Request did not match any endpoints
2025-05-28 07:16:28.925 +09:00 [DBG] The request path  does not match the path filter
2025-05-28 07:16:28.925 +09:00 [DBG] Connection id "0HNCTDD42SCRR" completed keep alive response.
2025-05-28 07:16:28.925 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approval/88aa5311-c8c9-4c81-885c-147ac4ff50c8 - 404 0 null 1.6064ms
2025-05-28 07:16:28.925 +09:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5001/api/approval/88aa5311-c8c9-4c81-885c-147ac4ff50c8, Response status code: 404
2025-05-28 07:16:43.675 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approval/88aa5311-c8c9-4c81-885c-147ac4ff50c8 - null null
2025-05-28 07:16:43.675 +09:00 [DBG] No candidates found for the request path '/api/approval/88aa5311-c8c9-4c81-885c-147ac4ff50c8'
2025-05-28 07:16:43.675 +09:00 [DBG] Request did not match any endpoints
2025-05-28 07:16:43.676 +09:00 [DBG] The request path  does not match the path filter
2025-05-28 07:16:43.676 +09:00 [DBG] Connection id "0HNCTDD42SCRR" completed keep alive response.
2025-05-28 07:16:43.676 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approval/88aa5311-c8c9-4c81-885c-147ac4ff50c8 - 404 0 null 1.4434ms
2025-05-28 07:16:43.676 +09:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5001/api/approval/88aa5311-c8c9-4c81-885c-147ac4ff50c8, Response status code: 404
2025-05-28 07:17:43.898 +09:00 [DBG] Connection id "0HNCTDD42SCRR" received FIN.
2025-05-28 07:17:43.903 +09:00 [DBG] Connection id "0HNCTDD42SCRR" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-28 07:17:43.904 +09:00 [DBG] Connection id "0HNCTDD42SCRR" disconnecting.
2025-05-28 07:17:43.907 +09:00 [DBG] Connection id "0HNCTDD42SCRR" stopped.
2025-05-28 07:20:52.907 +09:00 [INF] Application is shutting down...
2025-05-28 07:20:52.911 +09:00 [DBG] Hosting stopping
2025-05-28 07:20:52.933 +09:00 [DBG] Hosting stopped
2025-05-28 07:20:58.642 +09:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-05-28 07:20:58.716 +09:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-05-28 07:20:58.928 +09:00 [DBG] The property 'Approver.ApprovalId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-05-28 07:20:59.026 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-28 07:20:59.041 +09:00 [DBG] Creating DbConnection.
2025-05-28 07:20:59.088 +09:00 [DBG] Created DbConnection. (41ms).
2025-05-28 07:20:59.092 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:20:59.103 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:20:59.104 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:20:59.106 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:20:59.108 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-28 07:20:59.108 +09:00 [DBG] Creating DbConnection.
2025-05-28 07:20:59.108 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-28 07:20:59.111 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2025-05-28 07:20:59.112 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (4ms).
2025-05-28 07:20:59.112 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:20:59.115 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:20:59.118 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-28 07:20:59.147 +09:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-28 07:20:59.151 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:20:59.153 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (2ms).
2025-05-28 07:20:59.156 +09:00 [DBG] Creating DbConnection.
2025-05-28 07:20:59.156 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-28 07:20:59.157 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:20:59.157 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:20:59.157 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:20:59.157 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:20:59.157 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-28 07:20:59.157 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-05-28 07:20:59.157 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-05-28 07:20:59.157 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:20:59.157 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:20:59.157 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-28 07:20:59.158 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-28 07:20:59.158 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:20:59.158 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:20:59.182 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .Any()'
2025-05-28 07:20:59.274 +09:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-05-28 07:20:59.285 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:20:59.286 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:20:59.286 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-28 07:20:59.286 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:20:59.286 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:20:59.286 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-05-28 07:20:59.287 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-05-28 07:20:59.289 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:20:59.290 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 2ms reading results.
2025-05-28 07:20:59.291 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:20:59.291 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:20:59.292 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-28 07:20:59.292 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:20:59.292 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:20:59.294 +09:00 [DBG] Hosting starting
2025-05-28 07:20:59.308 +09:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-05-28 07:20:59.308 +09:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-05-28 07:20:59.903 +09:00 [INF] Now listening on: https://localhost:5001
2025-05-28 07:20:59.904 +09:00 [INF] Now listening on: http://localhost:5229
2025-05-28 07:20:59.904 +09:00 [DBG] Loaded hosting startup assembly ApprovalService.API
2025-05-28 07:20:59.905 +09:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-28 07:20:59.906 +09:00 [INF] Hosting environment: Development
2025-05-28 07:20:59.906 +09:00 [INF] Content root path: /Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API
2025-05-28 07:20:59.906 +09:00 [DBG] Hosting started
2025-05-28 07:21:00.671 +09:00 [DBG] Connection id "0HNCTDJ1CPN1R" accepted.
2025-05-28 07:21:00.672 +09:00 [DBG] Connection id "0HNCTDJ1CPN1R" started.
2025-05-28 07:21:00.727 +09:00 [DBG] Connection 0HNCTDJ1CPN1R established using the following protocol: "Tls12"
2025-05-28 07:21:00.753 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approval/88aa5311-c8c9-4c81-885c-147ac4ff50c8 - null null
2025-05-28 07:21:00.784 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approval/88aa5311-c8c9-4c81-885c-147ac4ff50c8'
2025-05-28 07:21:00.786 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalController.GetById (ApprovalService.API)' with route pattern 'api/Approval/{id}' is valid for the request path '/api/approval/88aa5311-c8c9-4c81-885c-147ac4ff50c8'
2025-05-28 07:21:00.786 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalController.GetById (ApprovalService.API)'
2025-05-28 07:21:00.839 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-28 07:21:00.841 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalController.GetById (ApprovalService.API)'
2025-05-28 07:21:00.874 +09:00 [INF] Route matched with {action = "GetById", controller = "Approval"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(System.Guid) on controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API).
2025-05-28 07:21:00.875 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-28 07:21:00.877 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-28 07:21:00.877 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-28 07:21:00.878 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-28 07:21:00.878 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-28 07:21:00.880 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-28 07:21:00.882 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-28 07:21:00.884 +09:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2025-05-28 07:21:00.884 +09:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2025-05-28 07:21:00.885 +09:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2025-05-28 07:21:00.885 +09:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2025-05-28 07:21:00.885 +09:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2025-05-28 07:21:00.885 +09:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2025-05-28 07:21:00.893 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-28 07:21:00.902 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "ApprovalId"), 
        objB: __p_0))'
2025-05-28 07:21:00.952 +09:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ApprovalRequest>(
    asyncEnumerable: SingleQueryingEnumerable.Create<ApprovalRequest>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApprovalRequest.ApprovalId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApprovalRequest.ApplicantDepartment (string), 1], [Property: ApprovalRequest.ApplicantEmployeeNumber (string) Required, 2], [Property: ApprovalRequest.ApplicantName (string) Required, 3], [Property: ApprovalRequest.ApplicantPosition (string), 4], [Property: ApprovalRequest.ApprovalType (string), 5], [Property: ApprovalRequest.ApproverComment (string), 6], [Property: ApprovalRequest.MisKey (string), 7], [Property: ApprovalRequest.RequestContent (string), 8], [Property: ApprovalRequest.RequestTitle (string) Required, 9], [Property: ApprovalRequest.RequestedAt (DateTime) Required, 10], [Property: ApprovalRequest.RespondedAt (DateTime?), 11], [Property: ApprovalRequest.Status (string) Required, 12] }
            SELECT TOP(1) a.ApprovalId, a.ApplicantDepartment, a.ApplicantEmployeeNumber, a.ApplicantName, a.ApplicantPosition, a.ApprovalType, a.ApproverComment, a.MisKey, a.RequestContent, a.RequestTitle, a.RequestedAt, a.RespondedAt, a.Status
            FROM ApprovalRequests AS a
            WHERE a.ApprovalId == @__p_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApprovalRequest.ApprovalId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApprovalRequest.ApplicantDepartment (string), 1], [Property: ApprovalRequest.ApplicantEmployeeNumber (string) Required, 2], [Property: ApprovalRequest.ApplicantName (string) Required, 3], [Property: ApprovalRequest.ApplicantPosition (string), 4], [Property: ApprovalRequest.ApprovalType (string), 5], [Property: ApprovalRequest.ApproverComment (string), 6], [Property: ApprovalRequest.MisKey (string), 7], [Property: ApprovalRequest.RequestContent (string), 8], [Property: ApprovalRequest.RequestTitle (string) Required, 9], [Property: ApprovalRequest.RequestedAt (DateTime) Required, 10], [Property: ApprovalRequest.RespondedAt (DateTime?), 11], [Property: ApprovalRequest.Status (string) Required, 12] }
            SELECT TOP(1) a.ApprovalId, a.ApplicantDepartment, a.ApplicantEmployeeNumber, a.ApplicantName, a.ApplicantPosition, a.ApprovalType, a.ApproverComment, a.MisKey, a.RequestContent, a.RequestTitle, a.RequestedAt, a.RespondedAt, a.Status
            FROM ApprovalRequests AS a
            WHERE a.ApprovalId == @__p_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            ApprovalRequest entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                ApprovalRequest instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(ApprovalRequest);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: ApprovalRequest.ApprovalId PK | Resolver: c => c.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (ApprovalRequest)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")]: 
                            {
                                return 
                                {
                                    ApprovalRequest instance;
                                    instance = new ApprovalRequest();
                                    instance.<ApprovalId>k__BackingField = dataReader.GetGuid(0);
                                    instance.<ApplicantDepartment>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                    instance.<ApplicantEmployeeNumber>k__BackingField = dataReader.GetString(2);
                                    instance.<ApplicantName>k__BackingField = dataReader.GetString(3);
                                    instance.<ApplicantPosition>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                    instance.<ApprovalType>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                    instance.<ApproverComment>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                    instance.<MisKey>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                    instance.<RequestContent>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                    instance.<RequestTitle>k__BackingField = dataReader.GetString(9);
                                    instance.<RequestedAt>k__BackingField = dataReader.GetDateTime(10);
                                    instance.<RespondedAt>k__BackingField = dataReader.IsDBNull(11) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(11);
                                    instance.<Status>k__BackingField = dataReader.GetString(12);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(ApprovalRequest)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-05-28 07:21:00.962 +09:00 [DBG] Creating DbConnection.
2025-05-28 07:21:00.963 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-28 07:21:00.963 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:21:00.963 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:21:00.964 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-28 07:21:00.964 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:21:00.964 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:21:00.965 +09:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-05-28 07:21:00.969 +09:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-05-28 07:21:00.970 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:21:00.971 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 1ms reading results.
2025-05-28 07:21:00.971 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:21:00.971 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:21:00.974 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-28 07:21:00.974 +09:00 [DBG] No information found on request to perform content negotiation.
2025-05-28 07:21:00.975 +09:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-05-28 07:21:00.976 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-05-28 07:21:00.976 +09:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-05-28 07:21:01.018 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalController.GetById (ApprovalService.API) in 138.9804ms
2025-05-28 07:21:01.020 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalController.GetById (ApprovalService.API)'
2025-05-28 07:21:01.021 +09:00 [DBG] Connection id "0HNCTDJ1CPN1R" completed keep alive response.
2025-05-28 07:21:01.022 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-28 07:21:01.024 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:21:01.024 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:21:01.024 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approval/88aa5311-c8c9-4c81-885c-147ac4ff50c8 - 404 null application/problem+json; charset=utf-8 272.4835ms
2025-05-28 07:21:03.015 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approval/88aa5311-c8c9-4c81-885c-147ac4ff50c8 - null null
2025-05-28 07:21:03.016 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approval/88aa5311-c8c9-4c81-885c-147ac4ff50c8'
2025-05-28 07:21:03.017 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalController.GetById (ApprovalService.API)' with route pattern 'api/Approval/{id}' is valid for the request path '/api/approval/88aa5311-c8c9-4c81-885c-147ac4ff50c8'
2025-05-28 07:21:03.017 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalController.GetById (ApprovalService.API)'
2025-05-28 07:21:03.018 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-28 07:21:03.019 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalController.GetById (ApprovalService.API)'
2025-05-28 07:21:03.020 +09:00 [INF] Route matched with {action = "GetById", controller = "Approval"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(System.Guid) on controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API).
2025-05-28 07:21:03.020 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-28 07:21:03.020 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-28 07:21:03.020 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-28 07:21:03.020 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-28 07:21:03.020 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-28 07:21:03.020 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-28 07:21:03.021 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-28 07:21:03.022 +09:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2025-05-28 07:21:03.022 +09:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2025-05-28 07:21:03.022 +09:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2025-05-28 07:21:03.022 +09:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2025-05-28 07:21:03.022 +09:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2025-05-28 07:21:03.023 +09:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2025-05-28 07:21:03.069 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-28 07:21:03.072 +09:00 [DBG] Creating DbConnection.
2025-05-28 07:21:03.072 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-28 07:21:03.072 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:21:03.072 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:21:03.072 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-28 07:21:03.072 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:21:03.072 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:21:03.073 +09:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-05-28 07:21:03.073 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-05-28 07:21:03.073 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:21:03.073 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 0ms reading results.
2025-05-28 07:21:03.073 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:21:03.073 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:21:03.074 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-28 07:21:03.074 +09:00 [DBG] No information found on request to perform content negotiation.
2025-05-28 07:21:03.074 +09:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-05-28 07:21:03.074 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-05-28 07:21:03.074 +09:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-05-28 07:21:03.075 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalController.GetById (ApprovalService.API) in 54.7181ms
2025-05-28 07:21:03.075 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalController.GetById (ApprovalService.API)'
2025-05-28 07:21:03.075 +09:00 [DBG] Connection id "0HNCTDJ1CPN1R" completed keep alive response.
2025-05-28 07:21:03.075 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-28 07:21:03.075 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:21:03.075 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:21:03.075 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approval/88aa5311-c8c9-4c81-885c-147ac4ff50c8 - 404 null application/problem+json; charset=utf-8 60.2505ms
2025-05-28 07:21:04.007 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approval/88aa5311-c8c9-4c81-885c-147ac4ff50c8 - null null
2025-05-28 07:21:04.008 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approval/88aa5311-c8c9-4c81-885c-147ac4ff50c8'
2025-05-28 07:21:04.008 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalController.GetById (ApprovalService.API)' with route pattern 'api/Approval/{id}' is valid for the request path '/api/approval/88aa5311-c8c9-4c81-885c-147ac4ff50c8'
2025-05-28 07:21:04.008 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalController.GetById (ApprovalService.API)'
2025-05-28 07:21:04.009 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-28 07:21:04.009 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalController.GetById (ApprovalService.API)'
2025-05-28 07:21:04.009 +09:00 [INF] Route matched with {action = "GetById", controller = "Approval"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(System.Guid) on controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API).
2025-05-28 07:21:04.009 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-28 07:21:04.009 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-28 07:21:04.009 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-28 07:21:04.009 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-28 07:21:04.009 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-28 07:21:04.009 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-28 07:21:04.011 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-28 07:21:04.011 +09:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2025-05-28 07:21:04.011 +09:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2025-05-28 07:21:04.011 +09:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2025-05-28 07:21:04.011 +09:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2025-05-28 07:21:04.011 +09:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2025-05-28 07:21:04.011 +09:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2025-05-28 07:21:04.011 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-28 07:21:04.013 +09:00 [DBG] Creating DbConnection.
2025-05-28 07:21:04.013 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-28 07:21:04.013 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:21:04.013 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:21:04.013 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-28 07:21:04.014 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:21:04.014 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:21:04.014 +09:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-05-28 07:21:04.014 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-05-28 07:21:04.014 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:21:04.014 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 0ms reading results.
2025-05-28 07:21:04.014 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:21:04.015 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:21:04.015 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-28 07:21:04.015 +09:00 [DBG] No information found on request to perform content negotiation.
2025-05-28 07:21:04.015 +09:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-05-28 07:21:04.015 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-05-28 07:21:04.015 +09:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-05-28 07:21:04.015 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalController.GetById (ApprovalService.API) in 5.7225ms
2025-05-28 07:21:04.015 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalController.GetById (ApprovalService.API)'
2025-05-28 07:21:04.015 +09:00 [DBG] Connection id "0HNCTDJ1CPN1R" completed keep alive response.
2025-05-28 07:21:04.015 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-28 07:21:04.015 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:21:04.015 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:21:04.016 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approval/88aa5311-c8c9-4c81-885c-147ac4ff50c8 - 404 null application/problem+json; charset=utf-8 8.1831ms
2025-05-28 07:21:04.937 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approval/88aa5311-c8c9-4c81-885c-147ac4ff50c8 - null null
2025-05-28 07:21:04.938 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approval/88aa5311-c8c9-4c81-885c-147ac4ff50c8'
2025-05-28 07:21:04.938 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalController.GetById (ApprovalService.API)' with route pattern 'api/Approval/{id}' is valid for the request path '/api/approval/88aa5311-c8c9-4c81-885c-147ac4ff50c8'
2025-05-28 07:21:04.938 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalController.GetById (ApprovalService.API)'
2025-05-28 07:21:04.938 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-28 07:21:04.938 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalController.GetById (ApprovalService.API)'
2025-05-28 07:21:04.938 +09:00 [INF] Route matched with {action = "GetById", controller = "Approval"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(System.Guid) on controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API).
2025-05-28 07:21:04.939 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-28 07:21:04.939 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-28 07:21:04.939 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-28 07:21:04.939 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-28 07:21:04.939 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-28 07:21:04.939 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-28 07:21:04.940 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-28 07:21:04.940 +09:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2025-05-28 07:21:04.940 +09:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2025-05-28 07:21:04.940 +09:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2025-05-28 07:21:04.940 +09:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2025-05-28 07:21:04.940 +09:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2025-05-28 07:21:04.941 +09:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2025-05-28 07:21:04.941 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-28 07:21:04.942 +09:00 [DBG] Creating DbConnection.
2025-05-28 07:21:04.942 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-28 07:21:04.942 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:21:04.942 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:21:04.942 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-28 07:21:04.942 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:21:04.942 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:21:04.943 +09:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-05-28 07:21:04.944 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-05-28 07:21:04.944 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:21:04.944 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 0ms reading results.
2025-05-28 07:21:04.944 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:21:04.944 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:21:04.944 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-28 07:21:04.945 +09:00 [DBG] No information found on request to perform content negotiation.
2025-05-28 07:21:04.945 +09:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-05-28 07:21:04.945 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-05-28 07:21:04.945 +09:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-05-28 07:21:04.946 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalController.GetById (ApprovalService.API) in 6.6797ms
2025-05-28 07:21:04.948 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalController.GetById (ApprovalService.API)'
2025-05-28 07:21:04.948 +09:00 [DBG] Connection id "0HNCTDJ1CPN1R" completed keep alive response.
2025-05-28 07:21:04.948 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-28 07:21:04.948 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:21:04.949 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (1ms).
2025-05-28 07:21:04.949 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approval/88aa5311-c8c9-4c81-885c-147ac4ff50c8 - 404 null application/problem+json; charset=utf-8 12.2125ms
2025-05-28 07:21:46.654 +09:00 [DBG] Connection id "0HNCTDJ1CPN1S" accepted.
2025-05-28 07:21:46.656 +09:00 [DBG] Connection id "0HNCTDJ1CPN1S" started.
2025-05-28 07:21:46.707 +09:00 [DBG] Connection 0HNCTDJ1CPN1S established using the following protocol: "Tls12"
2025-05-28 07:21:46.725 +09:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.html - null null
2025-05-28 07:21:46.726 +09:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-05-28 07:21:46.726 +09:00 [DBG] Request did not match any endpoints
2025-05-28 07:21:46.765 +09:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.html - 200 null text/html;charset=utf-8 40.153ms
2025-05-28 07:21:46.812 +09:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui-bundle.js - null null
2025-05-28 07:21:46.814 +09:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2025-05-28 07:21:46.814 +09:00 [DBG] Request did not match any endpoints
2025-05-28 07:21:46.837 +09:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-05-28 07:21:46.838 +09:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui-bundle.js - 200 1484234 text/javascript 26.7187ms
2025-05-28 07:21:47.004 +09:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-05-28 07:21:47.004 +09:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-05-28 07:21:47.004 +09:00 [DBG] Request did not match any endpoints
2025-05-28 07:21:47.013 +09:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-05-28 07:21:47.055 +09:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 50.733ms
2025-05-28 07:21:48.388 +09:00 [DBG] Connection id "0HNCTDJ1CPN1S" received FIN.
2025-05-28 07:21:48.389 +09:00 [DBG] Connection id "0HNCTDJ1CPN1S" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-28 07:21:48.390 +09:00 [DBG] Connection id "0HNCTDJ1CPN1S" is closed. The last processed stream ID was 5.
2025-05-28 07:21:48.396 +09:00 [DBG] The connection queue processing loop for 0HNCTDJ1CPN1S completed.
2025-05-28 07:21:48.400 +09:00 [DBG] Connection id "0HNCTDJ1CPN1S" stopped.
2025-05-28 07:22:13.966 +09:00 [DBG] Connection id "0HNCTDJ1CPN1R" received FIN.
2025-05-28 07:22:13.969 +09:00 [DBG] Connection id "0HNCTDJ1CPN1R" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-28 07:22:13.970 +09:00 [DBG] Connection id "0HNCTDJ1CPN1R" disconnecting.
2025-05-28 07:22:13.972 +09:00 [DBG] Connection id "0HNCTDJ1CPN1R" stopped.
2025-05-28 07:24:30.643 +09:00 [DBG] Connection id "0HNCTDJ1CPN1T" accepted.
2025-05-28 07:24:30.645 +09:00 [DBG] Connection id "0HNCTDJ1CPN1T" started.
2025-05-28 07:24:30.676 +09:00 [DBG] Connection 0HNCTDJ1CPN1T established using the following protocol: "Tls12"
2025-05-28 07:24:30.683 +09:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/approval - null null
2025-05-28 07:24:30.683 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approval'
2025-05-28 07:24:30.684 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)' with route pattern 'api/Approval' is valid for the request path '/api/approval'
2025-05-28 07:24:30.684 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-28 07:24:30.687 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-28 07:24:30.689 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-28 07:24:30.699 +09:00 [INF] Route matched with {action = "GetAll", controller = "Approval"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API).
2025-05-28 07:24:30.699 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-28 07:24:30.700 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-28 07:24:30.700 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-28 07:24:30.700 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-28 07:24:30.700 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-28 07:24:30.700 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-28 07:24:30.700 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-28 07:24:30.704 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-28 07:24:30.709 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()'
2025-05-28 07:24:30.718 +09:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<ApprovalRequest>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApprovalRequest.ApprovalId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApprovalRequest.ApplicantDepartment (string), 1], [Property: ApprovalRequest.ApplicantEmployeeNumber (string) Required, 2], [Property: ApprovalRequest.ApplicantName (string) Required, 3], [Property: ApprovalRequest.ApplicantPosition (string), 4], [Property: ApprovalRequest.ApprovalType (string), 5], [Property: ApprovalRequest.ApproverComment (string), 6], [Property: ApprovalRequest.MisKey (string), 7], [Property: ApprovalRequest.RequestContent (string), 8], [Property: ApprovalRequest.RequestTitle (string) Required, 9], [Property: ApprovalRequest.RequestedAt (DateTime) Required, 10], [Property: ApprovalRequest.RespondedAt (DateTime?), 11], [Property: ApprovalRequest.Status (string) Required, 12] }
        SELECT a.ApprovalId, a.ApplicantDepartment, a.ApplicantEmployeeNumber, a.ApplicantName, a.ApplicantPosition, a.ApprovalType, a.ApproverComment, a.MisKey, a.RequestContent, a.RequestTitle, a.RequestedAt, a.RespondedAt, a.Status
        FROM ApprovalRequests AS a) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApprovalRequest.ApprovalId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApprovalRequest.ApplicantDepartment (string), 1], [Property: ApprovalRequest.ApplicantEmployeeNumber (string) Required, 2], [Property: ApprovalRequest.ApplicantName (string) Required, 3], [Property: ApprovalRequest.ApplicantPosition (string), 4], [Property: ApprovalRequest.ApprovalType (string), 5], [Property: ApprovalRequest.ApproverComment (string), 6], [Property: ApprovalRequest.MisKey (string), 7], [Property: ApprovalRequest.RequestContent (string), 8], [Property: ApprovalRequest.RequestTitle (string) Required, 9], [Property: ApprovalRequest.RequestedAt (DateTime) Required, 10], [Property: ApprovalRequest.RespondedAt (DateTime?), 11], [Property: ApprovalRequest.Status (string) Required, 12] }
        SELECT a.ApprovalId, a.ApplicantDepartment, a.ApplicantEmployeeNumber, a.ApplicantName, a.ApplicantPosition, a.ApprovalType, a.ApproverComment, a.MisKey, a.RequestContent, a.RequestTitle, a.RequestedAt, a.RespondedAt, a.Status
        FROM ApprovalRequests AS a, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        ApprovalRequest entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            ApprovalRequest instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(ApprovalRequest);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: ApprovalRequest.ApprovalId PK | Resolver: c => c.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (ApprovalRequest)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")]: 
                        {
                            return 
                            {
                                ApprovalRequest instance;
                                instance = new ApprovalRequest();
                                instance.<ApprovalId>k__BackingField = dataReader.GetGuid(0);
                                instance.<ApplicantDepartment>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                instance.<ApplicantEmployeeNumber>k__BackingField = dataReader.GetString(2);
                                instance.<ApplicantName>k__BackingField = dataReader.GetString(3);
                                instance.<ApplicantPosition>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                instance.<ApprovalType>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                instance.<ApproverComment>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                instance.<MisKey>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                instance.<RequestContent>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                instance.<RequestTitle>k__BackingField = dataReader.GetString(9);
                                instance.<RequestedAt>k__BackingField = dataReader.GetDateTime(10);
                                instance.<RespondedAt>k__BackingField = dataReader.IsDBNull(11) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(11);
                                instance.<Status>k__BackingField = dataReader.GetString(12);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(ApprovalRequest)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-05-28 07:24:30.720 +09:00 [DBG] Creating DbConnection.
2025-05-28 07:24:30.720 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-28 07:24:30.720 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:24:30.720 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:24:30.720 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-28 07:24:30.720 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:24:30.720 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:24:30.720 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
2025-05-28 07:24:30.721 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
2025-05-28 07:24:30.740 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 07:24:30.756 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:24:30.756 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 35ms reading results.
2025-05-28 07:24:30.757 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:24:30.757 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:24:30.757 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-28 07:24:30.762 +09:00 [DBG] No information found on request to perform content negotiation.
2025-05-28 07:24:30.762 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-28 07:24:30.762 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-28 07:24:30.762 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-28 07:24:30.763 +09:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ApprovalService.API.Models.ApprovalRequestDto, ApprovalService.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 07:24:30.772 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API) in 71.6105ms
2025-05-28 07:24:30.772 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-28 07:24:30.772 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-28 07:24:30.772 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:24:30.772 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:24:30.772 +09:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/approval - 200 null application/json; charset=utf-8 89.8072ms
2025-05-28 07:24:33.402 +09:00 [DBG] Connection id "0HNCTDJ1CPN1T" received FIN.
2025-05-28 07:24:33.402 +09:00 [DBG] Connection id "0HNCTDJ1CPN1T" is closed. The last processed stream ID was 1.
2025-05-28 07:24:33.402 +09:00 [DBG] Connection id "0HNCTDJ1CPN1T" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-28 07:24:33.403 +09:00 [DBG] The connection queue processing loop for 0HNCTDJ1CPN1T completed.
2025-05-28 07:24:33.404 +09:00 [DBG] Connection id "0HNCTDJ1CPN1T" stopped.
2025-05-28 07:24:34.713 +09:00 [DBG] Connection id "0HNCTDJ1CPN1U" accepted.
2025-05-28 07:24:34.714 +09:00 [DBG] Connection id "0HNCTDJ1CPN1U" started.
2025-05-28 07:24:34.714 +09:00 [DBG] Connection id "0HNCTDJ1CPN1V" accepted.
2025-05-28 07:24:34.714 +09:00 [DBG] Connection id "0HNCTDJ1CPN1V" started.
2025-05-28 07:24:34.725 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5229/api/approval - null null
2025-05-28 07:24:34.725 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approval'
2025-05-28 07:24:34.726 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)' with route pattern 'api/Approval' is valid for the request path '/api/approval'
2025-05-28 07:24:34.726 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-28 07:24:34.726 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-28 07:24:34.726 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-28 07:24:34.726 +09:00 [INF] Route matched with {action = "GetAll", controller = "Approval"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API).
2025-05-28 07:24:34.727 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-28 07:24:34.727 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-28 07:24:34.727 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-28 07:24:34.727 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-28 07:24:34.727 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-28 07:24:34.727 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-28 07:24:34.729 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-28 07:24:34.729 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-28 07:24:34.730 +09:00 [DBG] Creating DbConnection.
2025-05-28 07:24:34.730 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-28 07:24:34.730 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:24:34.730 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:24:34.730 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-28 07:24:34.730 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:24:34.730 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:24:34.731 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
2025-05-28 07:24:34.731 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
2025-05-28 07:24:34.731 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 07:24:34.731 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:24:34.732 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 0ms reading results.
2025-05-28 07:24:34.732 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:24:34.732 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:24:34.732 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-28 07:24:34.732 +09:00 [DBG] No information found on request to perform content negotiation.
2025-05-28 07:24:34.732 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-28 07:24:34.732 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-28 07:24:34.732 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-28 07:24:34.732 +09:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ApprovalService.API.Models.ApprovalRequestDto, ApprovalService.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 07:24:34.733 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API) in 5.1681ms
2025-05-28 07:24:34.733 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-28 07:24:34.733 +09:00 [DBG] Connection id "0HNCTDJ1CPN1U" completed keep alive response.
2025-05-28 07:24:34.733 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-28 07:24:34.733 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:24:34.733 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:24:34.733 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5229/api/approval - 200 null application/json; charset=utf-8 8.4895ms
2025-05-28 07:24:38.402 +09:00 [DBG] Connection id "0HNCTDJ1CPN1V" received FIN.
2025-05-28 07:24:38.403 +09:00 [DBG] Connection id "0HNCTDJ1CPN1U" received FIN.
2025-05-28 07:24:38.404 +09:00 [DBG] Connection id "0HNCTDJ1CPN1V" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-28 07:24:38.404 +09:00 [DBG] Connection id "0HNCTDJ1CPN1U" disconnecting.
2025-05-28 07:24:38.404 +09:00 [DBG] Connection id "0HNCTDJ1CPN1V" disconnecting.
2025-05-28 07:24:38.404 +09:00 [DBG] Connection id "0HNCTDJ1CPN1U" stopped.
2025-05-28 07:24:38.404 +09:00 [DBG] Connection id "0HNCTDJ1CPN1V" stopped.
2025-05-28 07:24:38.405 +09:00 [DBG] Connection id "0HNCTDJ1CPN1U" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-28 07:24:44.933 +09:00 [DBG] Connection id "0HNCTDJ1CPN20" accepted.
2025-05-28 07:24:44.933 +09:00 [DBG] Connection id "0HNCTDJ1CPN20" started.
2025-05-28 07:24:44.968 +09:00 [DBG] Connection 0HNCTDJ1CPN20 established using the following protocol: "Tls12"
2025-05-28 07:24:44.974 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approval/88aa5311-c8c9-4c81-885c-147ac4ff50c8 - null null
2025-05-28 07:24:44.974 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approval/88aa5311-c8c9-4c81-885c-147ac4ff50c8'
2025-05-28 07:24:44.974 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalController.GetById (ApprovalService.API)' with route pattern 'api/Approval/{id}' is valid for the request path '/api/approval/88aa5311-c8c9-4c81-885c-147ac4ff50c8'
2025-05-28 07:24:44.974 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalController.GetById (ApprovalService.API)'
2025-05-28 07:24:44.974 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-28 07:24:44.975 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalController.GetById (ApprovalService.API)'
2025-05-28 07:24:44.975 +09:00 [INF] Route matched with {action = "GetById", controller = "Approval"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(System.Guid) on controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API).
2025-05-28 07:24:44.975 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-28 07:24:44.975 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-28 07:24:44.975 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-28 07:24:44.975 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-28 07:24:44.975 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-28 07:24:44.975 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-28 07:24:44.975 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-28 07:24:44.975 +09:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2025-05-28 07:24:44.975 +09:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2025-05-28 07:24:44.976 +09:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2025-05-28 07:24:44.976 +09:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2025-05-28 07:24:44.976 +09:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2025-05-28 07:24:44.976 +09:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2025-05-28 07:24:44.976 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-28 07:24:44.977 +09:00 [DBG] Creating DbConnection.
2025-05-28 07:24:44.977 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-28 07:24:44.978 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:24:44.978 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:24:44.978 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-28 07:24:44.978 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:24:44.979 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:24:44.979 +09:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-05-28 07:24:44.979 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-05-28 07:24:44.979 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:24:44.979 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 0ms reading results.
2025-05-28 07:24:44.980 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:24:44.980 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:24:44.980 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-28 07:24:44.980 +09:00 [DBG] No information found on request to perform content negotiation.
2025-05-28 07:24:44.980 +09:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-05-28 07:24:44.980 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-05-28 07:24:44.980 +09:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-05-28 07:24:44.980 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalController.GetById (ApprovalService.API) in 5.0771ms
2025-05-28 07:24:44.980 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalController.GetById (ApprovalService.API)'
2025-05-28 07:24:44.980 +09:00 [DBG] Connection id "0HNCTDJ1CPN20" completed keep alive response.
2025-05-28 07:24:44.980 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-28 07:24:44.980 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:24:44.981 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:24:44.981 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approval/88aa5311-c8c9-4c81-885c-147ac4ff50c8 - 404 null application/problem+json; charset=utf-8 6.9396ms
2025-05-28 07:25:41.865 +09:00 [DBG] Connection id "0HNCTDJ1CPN20" received FIN.
2025-05-28 07:25:41.868 +09:00 [DBG] Connection id "0HNCTDJ1CPN20" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-28 07:25:41.869 +09:00 [DBG] Connection id "0HNCTDJ1CPN20" disconnecting.
2025-05-28 07:25:41.870 +09:00 [DBG] Connection id "0HNCTDJ1CPN20" stopped.
2025-05-28 07:29:06.845 +09:00 [DBG] Connection id "0HNCTDJ1CPN21" accepted.
2025-05-28 07:29:06.846 +09:00 [DBG] Connection id "0HNCTDJ1CPN21" started.
2025-05-28 07:29:06.895 +09:00 [DBG] Connection 0HNCTDJ1CPN21 established using the following protocol: "Tls12"
2025-05-28 07:29:06.938 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approval - null null
2025-05-28 07:29:06.938 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approval'
2025-05-28 07:29:06.938 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)' with route pattern 'api/Approval' is valid for the request path '/api/approval'
2025-05-28 07:29:06.938 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-28 07:29:06.939 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-28 07:29:06.939 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-28 07:29:06.940 +09:00 [INF] Route matched with {action = "GetAll", controller = "Approval"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API).
2025-05-28 07:29:06.940 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-28 07:29:06.940 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-28 07:29:06.940 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-28 07:29:06.940 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-28 07:29:06.940 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-28 07:29:06.940 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-28 07:29:06.941 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-28 07:29:06.943 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-28 07:29:06.944 +09:00 [DBG] Creating DbConnection.
2025-05-28 07:29:06.944 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-28 07:29:06.944 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:29:06.945 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:29:06.945 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-28 07:29:06.945 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:29:06.945 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:29:06.945 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
2025-05-28 07:29:06.947 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
2025-05-28 07:29:06.949 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 07:29:06.949 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:29:06.949 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 2ms reading results.
2025-05-28 07:29:06.950 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:29:06.950 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:29:06.950 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-28 07:29:06.950 +09:00 [DBG] No information found on request to perform content negotiation.
2025-05-28 07:29:06.950 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-28 07:29:06.950 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-28 07:29:06.950 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-28 07:29:06.950 +09:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ApprovalService.API.Models.ApprovalRequestDto, ApprovalService.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 07:29:06.951 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API) in 10.5836ms
2025-05-28 07:29:06.951 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-28 07:29:06.951 +09:00 [DBG] Connection id "0HNCTDJ1CPN21" completed keep alive response.
2025-05-28 07:29:06.951 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-28 07:29:06.951 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:29:06.951 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:29:06.951 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approval - 200 null application/json; charset=utf-8 13.7467ms
2025-05-28 07:30:10.005 +09:00 [DBG] Connection id "0HNCTDJ1CPN22" accepted.
2025-05-28 07:30:10.006 +09:00 [DBG] Connection id "0HNCTDJ1CPN22" started.
2025-05-28 07:30:10.033 +09:00 [DBG] Connection 0HNCTDJ1CPN22 established using the following protocol: "Tls12"
2025-05-28 07:30:10.057 +09:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Approval/c6421493-17a0-4985-ab9f-a240d99a031a - null null
2025-05-28 07:30:10.058 +09:00 [DBG] 1 candidate(s) found for the request path '/api/Approval/c6421493-17a0-4985-ab9f-a240d99a031a'
2025-05-28 07:30:10.058 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalController.GetById (ApprovalService.API)' with route pattern 'api/Approval/{id}' is valid for the request path '/api/Approval/c6421493-17a0-4985-ab9f-a240d99a031a'
2025-05-28 07:30:10.058 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalController.GetById (ApprovalService.API)'
2025-05-28 07:30:10.070 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-28 07:30:10.071 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalController.GetById (ApprovalService.API)'
2025-05-28 07:30:10.073 +09:00 [INF] Route matched with {action = "GetById", controller = "Approval"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(System.Guid) on controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API).
2025-05-28 07:30:10.073 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-28 07:30:10.073 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-28 07:30:10.074 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-28 07:30:10.074 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-28 07:30:10.075 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-28 07:30:10.076 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-28 07:30:10.076 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-28 07:30:10.077 +09:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2025-05-28 07:30:10.077 +09:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2025-05-28 07:30:10.077 +09:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2025-05-28 07:30:10.077 +09:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2025-05-28 07:30:10.077 +09:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2025-05-28 07:30:10.077 +09:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2025-05-28 07:30:10.078 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-28 07:30:10.079 +09:00 [DBG] Creating DbConnection.
2025-05-28 07:30:10.079 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-28 07:30:10.080 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:30:10.080 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:30:10.080 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-28 07:30:10.080 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:30:10.080 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:30:10.080 +09:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-05-28 07:30:10.081 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-05-28 07:30:10.081 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:30:10.081 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 0ms reading results.
2025-05-28 07:30:10.081 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:30:10.081 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:30:10.081 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-28 07:30:10.081 +09:00 [DBG] No information found on request to perform content negotiation.
2025-05-28 07:30:10.082 +09:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-05-28 07:30:10.082 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-05-28 07:30:10.082 +09:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-05-28 07:30:10.082 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalController.GetById (ApprovalService.API) in 6.5889ms
2025-05-28 07:30:10.082 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalController.GetById (ApprovalService.API)'
2025-05-28 07:30:10.082 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-28 07:30:10.083 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:30:10.083 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:30:10.083 +09:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Approval/c6421493-17a0-4985-ab9f-a240d99a031a - 404 null application/problem+json; charset=utf-8 25.6216ms
2025-05-28 07:30:13.416 +09:00 [DBG] Connection id "0HNCTDJ1CPN22" received FIN.
2025-05-28 07:30:13.417 +09:00 [DBG] Connection id "0HNCTDJ1CPN22" is closed. The last processed stream ID was 1.
2025-05-28 07:30:13.417 +09:00 [DBG] Connection id "0HNCTDJ1CPN22" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-28 07:30:13.418 +09:00 [DBG] The connection queue processing loop for 0HNCTDJ1CPN22 completed.
2025-05-28 07:30:13.418 +09:00 [DBG] Connection id "0HNCTDJ1CPN22" stopped.
2025-05-28 07:31:18.174 +09:00 [DBG] Connection id "0HNCTDJ1CPN21" disconnecting.
2025-05-28 07:31:18.177 +09:00 [DBG] Connection id "0HNCTDJ1CPN21" stopped.
2025-05-28 07:31:18.178 +09:00 [DBG] Connection id "0HNCTDJ1CPN21" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-28 07:32:27.214 +09:00 [DBG] Connection id "0HNCTDJ1CPN23" accepted.
2025-05-28 07:32:27.214 +09:00 [DBG] Connection id "0HNCTDJ1CPN23" started.
2025-05-28 07:32:27.244 +09:00 [DBG] Connection 0HNCTDJ1CPN23 established using the following protocol: "Tls12"
2025-05-28 07:32:27.254 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approval/c6421493-17a0-4985-ab9f-a240d99a031a - null null
2025-05-28 07:32:27.254 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approval/c6421493-17a0-4985-ab9f-a240d99a031a'
2025-05-28 07:32:27.254 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalController.GetById (ApprovalService.API)' with route pattern 'api/Approval/{id}' is valid for the request path '/api/approval/c6421493-17a0-4985-ab9f-a240d99a031a'
2025-05-28 07:32:27.254 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalController.GetById (ApprovalService.API)'
2025-05-28 07:32:27.255 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-28 07:32:27.255 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalController.GetById (ApprovalService.API)'
2025-05-28 07:32:27.256 +09:00 [INF] Route matched with {action = "GetById", controller = "Approval"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(System.Guid) on controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API).
2025-05-28 07:32:27.256 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-28 07:32:27.256 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-28 07:32:27.256 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-28 07:32:27.256 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-28 07:32:27.256 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-28 07:32:27.257 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-28 07:32:27.258 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-28 07:32:27.259 +09:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2025-05-28 07:32:27.259 +09:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2025-05-28 07:32:27.259 +09:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2025-05-28 07:32:27.259 +09:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2025-05-28 07:32:27.259 +09:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2025-05-28 07:32:27.259 +09:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2025-05-28 07:32:27.262 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-28 07:32:27.264 +09:00 [DBG] Creating DbConnection.
2025-05-28 07:32:27.265 +09:00 [DBG] Created DbConnection. (1ms).
2025-05-28 07:32:27.265 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:32:27.266 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:32:27.266 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-28 07:32:27.266 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:32:27.266 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:32:27.266 +09:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-05-28 07:32:27.267 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-05-28 07:32:27.267 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:32:27.267 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 0ms reading results.
2025-05-28 07:32:27.267 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:32:27.267 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:32:27.267 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-28 07:32:27.268 +09:00 [DBG] No information found on request to perform content negotiation.
2025-05-28 07:32:27.268 +09:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-05-28 07:32:27.268 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-05-28 07:32:27.268 +09:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-05-28 07:32:27.269 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalController.GetById (ApprovalService.API) in 12.109ms
2025-05-28 07:32:27.269 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalController.GetById (ApprovalService.API)'
2025-05-28 07:32:27.269 +09:00 [DBG] Connection id "0HNCTDJ1CPN23" completed keep alive response.
2025-05-28 07:32:27.269 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-28 07:32:27.269 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:32:27.269 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:32:27.270 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approval/c6421493-17a0-4985-ab9f-a240d99a031a - 404 null application/problem+json; charset=utf-8 15.8213ms
2025-05-28 07:32:46.226 +09:00 [INF] Application is shutting down...
2025-05-28 07:32:46.228 +09:00 [DBG] Hosting stopping
2025-05-28 07:32:46.239 +09:00 [DBG] Connection id "0HNCTDJ1CPN23" disconnecting.
2025-05-28 07:32:46.240 +09:00 [DBG] Connection id "0HNCTDJ1CPN23" stopped.
2025-05-28 07:32:46.240 +09:00 [DBG] Connection id "0HNCTDJ1CPN23" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-28 07:32:46.243 +09:00 [DBG] Hosting stopped
2025-05-28 07:32:52.480 +09:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-05-28 07:32:52.571 +09:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-05-28 07:32:52.788 +09:00 [DBG] The property 'Approver.ApprovalId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-05-28 07:32:52.830 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-28 07:32:52.834 +09:00 [DBG] Creating DbConnection.
2025-05-28 07:32:52.840 +09:00 [DBG] Created DbConnection. (5ms).
2025-05-28 07:32:52.842 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:32:52.847 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:32:52.848 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:32:52.850 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:32:52.853 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-28 07:32:52.853 +09:00 [DBG] Creating DbConnection.
2025-05-28 07:32:52.853 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-28 07:32:52.856 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2025-05-28 07:32:52.859 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (7ms).
2025-05-28 07:32:52.859 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:32:52.861 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:32:52.863 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-28 07:32:52.876 +09:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-28 07:32:52.877 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:32:52.878 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (1ms).
2025-05-28 07:32:52.883 +09:00 [DBG] Creating DbConnection.
2025-05-28 07:32:52.883 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-28 07:32:52.883 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:32:52.884 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:32:52.884 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:32:52.884 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:32:52.884 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-28 07:32:52.884 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-05-28 07:32:52.884 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-05-28 07:32:52.884 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:32:52.884 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:32:52.884 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-28 07:32:52.884 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-28 07:32:52.884 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:32:52.884 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:32:52.905 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .Any()'
2025-05-28 07:32:52.996 +09:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-05-28 07:32:53.007 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:32:53.008 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:32:53.008 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-28 07:32:53.008 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:32:53.008 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:32:53.008 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-05-28 07:32:53.009 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-05-28 07:32:53.011 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:32:53.011 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 1ms reading results.
2025-05-28 07:32:53.012 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:32:53.012 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:32:53.013 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-28 07:32:53.013 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:32:53.013 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:32:53.015 +09:00 [DBG] Hosting starting
2025-05-28 07:32:53.028 +09:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-05-28 07:32:53.028 +09:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-05-28 07:32:53.353 +09:00 [INF] Now listening on: https://localhost:5001
2025-05-28 07:32:53.353 +09:00 [INF] Now listening on: http://localhost:5229
2025-05-28 07:32:53.353 +09:00 [DBG] Loaded hosting startup assembly ApprovalService.API
2025-05-28 07:32:53.353 +09:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-28 07:32:53.354 +09:00 [INF] Hosting environment: Development
2025-05-28 07:32:53.354 +09:00 [INF] Content root path: /Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API
2025-05-28 07:32:53.355 +09:00 [DBG] Hosting started
2025-05-28 07:32:54.967 +09:00 [DBG] Connection id "0HNCTDPM8RKJF" accepted.
2025-05-28 07:32:54.968 +09:00 [DBG] Connection id "0HNCTDPM8RKJF" started.
2025-05-28 07:32:55.010 +09:00 [DBG] Connection 0HNCTDPM8RKJF established using the following protocol: "Tls12"
2025-05-28 07:32:55.035 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approval/c6421493-17a0-4985-ab9f-a240d99a031a - null null
2025-05-28 07:32:55.047 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approval/c6421493-17a0-4985-ab9f-a240d99a031a'
2025-05-28 07:32:55.049 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalController.GetById (ApprovalService.API)' with route pattern 'api/Approval/{id}' is valid for the request path '/api/approval/c6421493-17a0-4985-ab9f-a240d99a031a'
2025-05-28 07:32:55.049 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalController.GetById (ApprovalService.API)'
2025-05-28 07:32:55.062 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-28 07:32:55.063 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalController.GetById (ApprovalService.API)'
2025-05-28 07:32:55.077 +09:00 [INF] Route matched with {action = "GetById", controller = "Approval"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(System.Guid) on controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API).
2025-05-28 07:32:55.078 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-28 07:32:55.078 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-28 07:32:55.078 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-28 07:32:55.078 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-28 07:32:55.078 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-28 07:32:55.079 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-28 07:32:55.080 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-28 07:32:55.081 +09:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2025-05-28 07:32:55.082 +09:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2025-05-28 07:32:55.082 +09:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2025-05-28 07:32:55.082 +09:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2025-05-28 07:32:55.082 +09:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2025-05-28 07:32:55.083 +09:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2025-05-28 07:32:55.091 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-28 07:32:55.099 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "ApprovalId"), 
        objB: __p_0))'
2025-05-28 07:32:55.136 +09:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ApprovalRequest>(
    asyncEnumerable: SingleQueryingEnumerable.Create<ApprovalRequest>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApprovalRequest.ApprovalId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApprovalRequest.ApplicantDepartment (string), 1], [Property: ApprovalRequest.ApplicantEmployeeNumber (string) Required, 2], [Property: ApprovalRequest.ApplicantName (string) Required, 3], [Property: ApprovalRequest.ApplicantPosition (string), 4], [Property: ApprovalRequest.ApprovalType (string), 5], [Property: ApprovalRequest.ApproverComment (string), 6], [Property: ApprovalRequest.MisKey (string), 7], [Property: ApprovalRequest.RequestContent (string), 8], [Property: ApprovalRequest.RequestTitle (string) Required, 9], [Property: ApprovalRequest.RequestedAt (DateTime) Required, 10], [Property: ApprovalRequest.RespondedAt (DateTime?), 11], [Property: ApprovalRequest.Status (string) Required, 12] }
            SELECT TOP(1) a.ApprovalId, a.ApplicantDepartment, a.ApplicantEmployeeNumber, a.ApplicantName, a.ApplicantPosition, a.ApprovalType, a.ApproverComment, a.MisKey, a.RequestContent, a.RequestTitle, a.RequestedAt, a.RespondedAt, a.Status
            FROM ApprovalRequests AS a
            WHERE a.ApprovalId == @__p_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApprovalRequest.ApprovalId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApprovalRequest.ApplicantDepartment (string), 1], [Property: ApprovalRequest.ApplicantEmployeeNumber (string) Required, 2], [Property: ApprovalRequest.ApplicantName (string) Required, 3], [Property: ApprovalRequest.ApplicantPosition (string), 4], [Property: ApprovalRequest.ApprovalType (string), 5], [Property: ApprovalRequest.ApproverComment (string), 6], [Property: ApprovalRequest.MisKey (string), 7], [Property: ApprovalRequest.RequestContent (string), 8], [Property: ApprovalRequest.RequestTitle (string) Required, 9], [Property: ApprovalRequest.RequestedAt (DateTime) Required, 10], [Property: ApprovalRequest.RespondedAt (DateTime?), 11], [Property: ApprovalRequest.Status (string) Required, 12] }
            SELECT TOP(1) a.ApprovalId, a.ApplicantDepartment, a.ApplicantEmployeeNumber, a.ApplicantName, a.ApplicantPosition, a.ApprovalType, a.ApproverComment, a.MisKey, a.RequestContent, a.RequestTitle, a.RequestedAt, a.RespondedAt, a.Status
            FROM ApprovalRequests AS a
            WHERE a.ApprovalId == @__p_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            ApprovalRequest entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                ApprovalRequest instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(ApprovalRequest);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: ApprovalRequest.ApprovalId PK | Resolver: c => c.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (ApprovalRequest)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")]: 
                            {
                                return 
                                {
                                    ApprovalRequest instance;
                                    instance = new ApprovalRequest();
                                    instance.<ApprovalId>k__BackingField = dataReader.GetGuid(0);
                                    instance.<ApplicantDepartment>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                    instance.<ApplicantEmployeeNumber>k__BackingField = dataReader.GetString(2);
                                    instance.<ApplicantName>k__BackingField = dataReader.GetString(3);
                                    instance.<ApplicantPosition>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                    instance.<ApprovalType>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                    instance.<ApproverComment>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                    instance.<MisKey>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                    instance.<RequestContent>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                    instance.<RequestTitle>k__BackingField = dataReader.GetString(9);
                                    instance.<RequestedAt>k__BackingField = dataReader.GetDateTime(10);
                                    instance.<RespondedAt>k__BackingField = dataReader.IsDBNull(11) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(11);
                                    instance.<Status>k__BackingField = dataReader.GetString(12);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(ApprovalRequest)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-05-28 07:32:55.142 +09:00 [DBG] Creating DbConnection.
2025-05-28 07:32:55.143 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-28 07:32:55.143 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:32:55.143 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:32:55.143 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-28 07:32:55.143 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:32:55.144 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:32:55.145 +09:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-05-28 07:32:55.146 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-05-28 07:32:55.147 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:32:55.147 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 0ms reading results.
2025-05-28 07:32:55.147 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:32:55.147 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:32:55.148 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-28 07:32:55.149 +09:00 [DBG] No information found on request to perform content negotiation.
2025-05-28 07:32:55.149 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-28 07:32:55.149 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-28 07:32:55.149 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-28 07:32:55.149 +09:00 [INF] Executing OkObjectResult, writing value of type 'ApprovalService.API.Models.ApprovalRequestDto'.
2025-05-28 07:32:55.181 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalController.GetById (ApprovalService.API) in 101.2072ms
2025-05-28 07:32:55.183 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalController.GetById (ApprovalService.API)'
2025-05-28 07:32:55.183 +09:00 [DBG] Connection id "0HNCTDPM8RKJF" completed keep alive response.
2025-05-28 07:32:55.184 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-28 07:32:55.185 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:32:55.185 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:32:55.185 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approval/c6421493-17a0-4985-ab9f-a240d99a031a - 200 null application/json; charset=utf-8 151.8988ms
2025-05-28 07:34:09.972 +09:00 [DBG] Connection id "0HNCTDPM8RKJF" received FIN.
2025-05-28 07:34:09.977 +09:00 [DBG] Connection id "0HNCTDPM8RKJF" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-28 07:34:09.986 +09:00 [DBG] Connection id "0HNCTDPM8RKJF" disconnecting.
2025-05-28 07:34:09.989 +09:00 [DBG] Connection id "0HNCTDPM8RKJF" stopped.
2025-05-28 07:37:45.687 +09:00 [INF] Application is shutting down...
2025-05-28 07:37:45.690 +09:00 [DBG] Hosting stopping
2025-05-28 07:37:45.711 +09:00 [DBG] Hosting stopped
2025-05-28 07:37:50.826 +09:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-05-28 07:37:50.903 +09:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-05-28 07:37:51.124 +09:00 [DBG] The property 'Approver.ApprovalId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-05-28 07:37:51.163 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-28 07:37:51.166 +09:00 [DBG] Creating DbConnection.
2025-05-28 07:37:51.172 +09:00 [DBG] Created DbConnection. (4ms).
2025-05-28 07:37:51.173 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:37:51.176 +09:00 [DBG] An error occurred using the connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:37:51.177 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:37:51.179 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:37:51.180 +09:00 [DBG] Creating DbConnection.
2025-05-28 07:37:51.180 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-28 07:37:51.180 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:37:51.183 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:37:51.185 +09:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-05-28 07:37:51.187 +09:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2025-05-28 07:37:51.188 +09:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (3ms).
2025-05-28 07:37:51.191 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2025-05-28 07:37:51.203 +09:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2025-05-28 07:37:51.204 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:37:51.206 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (1ms).
2025-05-28 07:37:51.256 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:37:51.256 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:37:51.257 +09:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-05-28 07:37:51.258 +09:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-05-28 07:37:51.259 +09:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-05-28 07:37:51.259 +09:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-05-28 07:37:51.259 +09:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-05-28 07:37:51.259 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ApprovalRequests" (
    "ApprovalId" TEXT NOT NULL CONSTRAINT "PK_ApprovalRequests" PRIMARY KEY,
    "RequestTitle" TEXT NOT NULL,
    "RequestContent" TEXT NULL,
    "ApplicantEmployeeNumber" TEXT NOT NULL,
    "ApplicantName" TEXT NOT NULL,
    "ApplicantPosition" TEXT NULL,
    "ApplicantDepartment" TEXT NULL,
    "Status" TEXT NOT NULL,
    "RequestedAt" TEXT NOT NULL,
    "RespondedAt" TEXT NULL,
    "ApproverComment" TEXT NULL,
    "ApprovalType" TEXT NULL,
    "MisKey" TEXT NULL
);
2025-05-28 07:37:51.259 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ApprovalRequests" (
    "ApprovalId" TEXT NOT NULL CONSTRAINT "PK_ApprovalRequests" PRIMARY KEY,
    "RequestTitle" TEXT NOT NULL,
    "RequestContent" TEXT NULL,
    "ApplicantEmployeeNumber" TEXT NOT NULL,
    "ApplicantName" TEXT NOT NULL,
    "ApplicantPosition" TEXT NULL,
    "ApplicantDepartment" TEXT NULL,
    "Status" TEXT NOT NULL,
    "RequestedAt" TEXT NOT NULL,
    "RespondedAt" TEXT NULL,
    "ApproverComment" TEXT NULL,
    "ApprovalType" TEXT NULL,
    "MisKey" TEXT NULL
);
2025-05-28 07:37:51.259 +09:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-05-28 07:37:51.259 +09:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-05-28 07:37:51.259 +09:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-05-28 07:37:51.260 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Approvals" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Approvals" PRIMARY KEY,
    "RequestId" TEXT NOT NULL,
    "Status" INTEGER NOT NULL,
    "ApproverEmployeeNumber" TEXT NOT NULL,
    "ApproverName" TEXT NOT NULL,
    "ApproverPosition" TEXT NOT NULL,
    "ApproverDepartment" TEXT NOT NULL,
    "Comments" TEXT NULL,
    "RequestedAt" TEXT NOT NULL,
    "RespondedAt" TEXT NULL
);
2025-05-28 07:37:51.260 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Approvals" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Approvals" PRIMARY KEY,
    "RequestId" TEXT NOT NULL,
    "Status" INTEGER NOT NULL,
    "ApproverEmployeeNumber" TEXT NOT NULL,
    "ApproverName" TEXT NOT NULL,
    "ApproverPosition" TEXT NOT NULL,
    "ApproverDepartment" TEXT NOT NULL,
    "Comments" TEXT NULL,
    "RequestedAt" TEXT NOT NULL,
    "RespondedAt" TEXT NULL
);
2025-05-28 07:37:51.260 +09:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-05-28 07:37:51.260 +09:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-05-28 07:37:51.260 +09:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-05-28 07:37:51.260 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ApprovalSteps" (
    "StepId" TEXT NOT NULL CONSTRAINT "PK_ApprovalSteps" PRIMARY KEY,
    "ApprovalId" TEXT NOT NULL,
    "ApproverEmployeeNumber" TEXT NOT NULL,
    "Sequence" INTEGER NOT NULL,
    "IsFinalApprover" INTEGER NOT NULL,
    "ActionStatus" TEXT NULL,
    "ActionDate" TEXT NULL,
    "Comment" TEXT NULL
);
2025-05-28 07:37:51.260 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ApprovalSteps" (
    "StepId" TEXT NOT NULL CONSTRAINT "PK_ApprovalSteps" PRIMARY KEY,
    "ApprovalId" TEXT NOT NULL,
    "ApproverEmployeeNumber" TEXT NOT NULL,
    "Sequence" INTEGER NOT NULL,
    "IsFinalApprover" INTEGER NOT NULL,
    "ActionStatus" TEXT NULL,
    "ActionDate" TEXT NULL,
    "Comment" TEXT NULL
);
2025-05-28 07:37:51.260 +09:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-05-28 07:37:51.260 +09:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-05-28 07:37:51.260 +09:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-05-28 07:37:51.260 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ApprovalTemplates" (
    "TemplateId" TEXT NOT NULL CONSTRAINT "PK_ApprovalTemplates" PRIMARY KEY,
    "TemplateName" TEXT NOT NULL,
    "TemplateContent" TEXT NULL,
    "CreatedByEmployeeNumber" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL
);
2025-05-28 07:37:51.260 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ApprovalTemplates" (
    "TemplateId" TEXT NOT NULL CONSTRAINT "PK_ApprovalTemplates" PRIMARY KEY,
    "TemplateName" TEXT NOT NULL,
    "TemplateContent" TEXT NULL,
    "CreatedByEmployeeNumber" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL
);
2025-05-28 07:37:51.261 +09:00 [DBG] Committing transaction.
2025-05-28 07:37:51.262 +09:00 [DBG] Committed transaction.
2025-05-28 07:37:51.263 +09:00 [DBG] Disposing transaction.
2025-05-28 07:37:51.263 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:37:51.264 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:37:51.267 +09:00 [DBG] Creating DbConnection.
2025-05-28 07:37:51.267 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-28 07:37:51.267 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:37:51.267 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:37:51.268 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:37:51.268 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:37:51.268 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-28 07:37:51.268 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-05-28 07:37:51.269 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-05-28 07:37:51.269 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:37:51.269 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:37:51.269 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-28 07:37:51.270 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-28 07:37:51.271 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:37:51.271 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:37:51.291 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .Any()'
2025-05-28 07:37:51.367 +09:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-05-28 07:37:51.379 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:37:51.379 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:37:51.379 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-28 07:37:51.379 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:37:51.379 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:37:51.380 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-05-28 07:37:51.380 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-05-28 07:37:51.382 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:37:51.383 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 1ms reading results.
2025-05-28 07:37:51.383 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:37:51.384 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:37:51.420 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'Approval' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 07:37:51.429 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'Approver' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 07:37:51.438 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 07:37:51.445 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalStep' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 07:37:51.445 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 07:37:51.445 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalStep' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 07:37:51.449 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalTemplate' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 07:37:51.451 +09:00 [DBG] SaveChanges starting for 'ApprovalDbContext'.
2025-05-28 07:37:51.452 +09:00 [DBG] DetectChanges starting for 'ApprovalDbContext'.
2025-05-28 07:37:51.464 +09:00 [DBG] DetectChanges completed for 'ApprovalDbContext'.
2025-05-28 07:37:51.486 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:37:51.486 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:37:51.487 +09:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-05-28 07:37:51.487 +09:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-05-28 07:37:51.488 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-28 07:37:51.488 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:37:51.488 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:37:51.489 +09:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 5), @p2='?' (Size = 4), @p3='?' (Size = 11), @p4='?' (Size = 5), @p5='?' (Size = 2), @p6='?', @p7='?', @p8='?' (Size = 9), @p9='?' (Size = 5), @p10='?' (DbType = DateTime), @p11='?' (DbType = DateTime), @p12='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ApprovalRequests" ("ApprovalId", "ApplicantDepartment", "ApplicantEmployeeNumber", "ApplicantName", "ApplicantPosition", "ApprovalType", "ApproverComment", "MisKey", "RequestContent", "RequestTitle", "RequestedAt", "RespondedAt", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2025-05-28 07:37:51.491 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 5), @p2='?' (Size = 4), @p3='?' (Size = 11), @p4='?' (Size = 5), @p5='?' (Size = 2), @p6='?', @p7='?', @p8='?' (Size = 9), @p9='?' (Size = 5), @p10='?' (DbType = DateTime), @p11='?' (DbType = DateTime), @p12='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ApprovalRequests" ("ApprovalId", "ApplicantDepartment", "ApplicantEmployeeNumber", "ApplicantName", "ApplicantPosition", "ApprovalType", "ApproverComment", "MisKey", "RequestContent", "RequestTitle", "RequestedAt", "RespondedAt", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2025-05-28 07:37:51.492 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:37:51.492 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 1ms reading results.
2025-05-28 07:37:51.493 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-28 07:37:51.493 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:37:51.493 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:37:51.493 +09:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 9), @p2='?' (Size = 4), @p3='?' (Size = 12), @p4='?' (Size = 12), @p5='?' (Size = 2), @p6='?', @p7='?', @p8='?' (Size = 14), @p9='?' (Size = 8), @p10='?' (DbType = DateTime), @p11='?' (DbType = DateTime), @p12='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ApprovalRequests" ("ApprovalId", "ApplicantDepartment", "ApplicantEmployeeNumber", "ApplicantName", "ApplicantPosition", "ApprovalType", "ApproverComment", "MisKey", "RequestContent", "RequestTitle", "RequestedAt", "RespondedAt", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2025-05-28 07:37:51.493 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 9), @p2='?' (Size = 4), @p3='?' (Size = 12), @p4='?' (Size = 12), @p5='?' (Size = 2), @p6='?', @p7='?', @p8='?' (Size = 14), @p9='?' (Size = 8), @p10='?' (DbType = DateTime), @p11='?' (DbType = DateTime), @p12='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ApprovalRequests" ("ApprovalId", "ApplicantDepartment", "ApplicantEmployeeNumber", "ApplicantName", "ApplicantPosition", "ApprovalType", "ApproverComment", "MisKey", "RequestContent", "RequestTitle", "RequestedAt", "RespondedAt", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2025-05-28 07:37:51.493 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:37:51.493 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 0ms reading results.
2025-05-28 07:37:51.493 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-28 07:37:51.493 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:37:51.493 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:37:51.493 +09:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Guid), @p4='?' (Size = 7), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ApprovalSteps" ("StepId", "ActionDate", "ActionStatus", "ApprovalId", "ApproverEmployeeNumber", "Comment", "IsFinalApprover", "Sequence")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-05-28 07:37:51.494 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Guid), @p4='?' (Size = 7), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ApprovalSteps" ("StepId", "ActionDate", "ActionStatus", "ApprovalId", "ApproverEmployeeNumber", "Comment", "IsFinalApprover", "Sequence")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-05-28 07:37:51.494 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:37:51.494 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 0ms reading results.
2025-05-28 07:37:51.494 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-28 07:37:51.494 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:37:51.494 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:37:51.494 +09:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Guid), @p4='?' (Size = 7), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ApprovalSteps" ("StepId", "ActionDate", "ActionStatus", "ApprovalId", "ApproverEmployeeNumber", "Comment", "IsFinalApprover", "Sequence")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-05-28 07:37:51.494 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Guid), @p4='?' (Size = 7), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ApprovalSteps" ("StepId", "ActionDate", "ActionStatus", "ApprovalId", "ApproverEmployeeNumber", "Comment", "IsFinalApprover", "Sequence")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-05-28 07:37:51.494 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:37:51.494 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 0ms reading results.
2025-05-28 07:37:51.494 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-28 07:37:51.494 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:37:51.494 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:37:51.494 +09:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 5), @p3='?' (Size = 16), @p4='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ApprovalTemplates" ("TemplateId", "CreatedAt", "CreatedByEmployeeNumber", "TemplateContent", "TemplateName")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-05-28 07:37:51.495 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 5), @p3='?' (Size = 16), @p4='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ApprovalTemplates" ("TemplateId", "CreatedAt", "CreatedByEmployeeNumber", "TemplateContent", "TemplateName")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-05-28 07:37:51.495 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:37:51.495 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 0ms reading results.
2025-05-28 07:37:51.496 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-28 07:37:51.496 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:37:51.497 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:37:51.497 +09:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (Size = 7), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p6='?' (Size = 2), @p7='?' (Size = 4), @p8='?' (Size = 10), @p9='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Approvals" ("Id", "Comments", "RequestId", "RequestedAt", "RespondedAt", "Status", "ApproverDepartment", "ApproverEmployeeNumber", "ApproverName", "ApproverPosition")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-05-28 07:37:51.498 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (Size = 7), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p6='?' (Size = 2), @p7='?' (Size = 4), @p8='?' (Size = 10), @p9='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Approvals" ("Id", "Comments", "RequestId", "RequestedAt", "RespondedAt", "Status", "ApproverDepartment", "ApproverEmployeeNumber", "ApproverName", "ApproverPosition")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-05-28 07:37:51.498 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:37:51.498 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 0ms reading results.
2025-05-28 07:37:51.499 +09:00 [DBG] Committing transaction.
2025-05-28 07:37:51.499 +09:00 [DBG] Committed transaction.
2025-05-28 07:37:51.500 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:37:51.500 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:37:51.500 +09:00 [DBG] Disposing transaction.
2025-05-28 07:37:51.504 +09:00 [DBG] An entity of type 'Approval' tracked by 'ApprovalDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 07:37:51.504 +09:00 [DBG] An entity of type 'Approver' tracked by 'ApprovalDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 07:37:51.505 +09:00 [DBG] An entity of type 'ApprovalRequest' tracked by 'ApprovalDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 07:37:51.505 +09:00 [DBG] An entity of type 'ApprovalStep' tracked by 'ApprovalDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 07:37:51.505 +09:00 [DBG] An entity of type 'ApprovalRequest' tracked by 'ApprovalDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 07:37:51.505 +09:00 [DBG] An entity of type 'ApprovalStep' tracked by 'ApprovalDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 07:37:51.505 +09:00 [DBG] An entity of type 'ApprovalTemplate' tracked by 'ApprovalDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 07:37:51.506 +09:00 [DBG] SaveChanges completed for 'ApprovalDbContext' with 6 entities written to the database.
2025-05-28 07:37:51.506 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-28 07:37:51.506 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:37:51.507 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:37:51.508 +09:00 [DBG] Hosting starting
2025-05-28 07:37:51.521 +09:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-05-28 07:37:51.522 +09:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-05-28 07:37:51.824 +09:00 [INF] Now listening on: https://localhost:5001
2025-05-28 07:37:51.824 +09:00 [INF] Now listening on: http://localhost:5229
2025-05-28 07:37:51.825 +09:00 [DBG] Loaded hosting startup assembly ApprovalService.API
2025-05-28 07:37:51.825 +09:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-28 07:37:51.825 +09:00 [INF] Hosting environment: Development
2025-05-28 07:37:51.825 +09:00 [INF] Content root path: /Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API
2025-05-28 07:37:51.825 +09:00 [DBG] Hosting started
2025-05-28 07:40:01.530 +09:00 [INF] Application is shutting down...
2025-05-28 07:40:01.532 +09:00 [DBG] Hosting stopping
2025-05-28 07:40:01.541 +09:00 [DBG] Hosting stopped
2025-05-28 07:40:06.476 +09:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-05-28 07:40:06.989 +09:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-05-28 07:40:07.223 +09:00 [DBG] The property 'Approver.ApprovalId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-05-28 07:40:07.262 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-28 07:40:07.266 +09:00 [DBG] Creating DbConnection.
2025-05-28 07:40:07.272 +09:00 [DBG] Created DbConnection. (5ms).
2025-05-28 07:40:07.276 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:40:07.280 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:40:07.282 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:40:07.283 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:40:07.286 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-28 07:40:07.287 +09:00 [DBG] Creating DbConnection.
2025-05-28 07:40:07.287 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-28 07:40:07.289 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2025-05-28 07:40:07.289 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (3ms).
2025-05-28 07:40:07.290 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:40:07.290 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:40:07.293 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-28 07:40:07.305 +09:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-28 07:40:07.306 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:40:07.307 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (1ms).
2025-05-28 07:40:07.310 +09:00 [DBG] Creating DbConnection.
2025-05-28 07:40:07.310 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-28 07:40:07.310 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:40:07.310 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:40:07.310 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:40:07.311 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:40:07.311 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-28 07:40:07.311 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-05-28 07:40:07.311 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-05-28 07:40:07.311 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:40:07.311 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:40:07.311 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-28 07:40:07.311 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-28 07:40:07.312 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:40:07.312 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:40:07.330 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .Any()'
2025-05-28 07:40:07.423 +09:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-05-28 07:40:07.434 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:40:07.434 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:40:07.434 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-28 07:40:07.435 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:40:07.435 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:40:07.435 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-05-28 07:40:07.436 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-05-28 07:40:07.438 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:40:07.439 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 1ms reading results.
2025-05-28 07:40:07.440 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:40:07.440 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:40:07.441 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-28 07:40:07.441 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:40:07.441 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:40:07.442 +09:00 [DBG] Hosting starting
2025-05-28 07:40:07.456 +09:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-05-28 07:40:07.456 +09:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-05-28 07:40:07.822 +09:00 [INF] Now listening on: https://localhost:5001
2025-05-28 07:40:07.822 +09:00 [INF] Now listening on: http://localhost:5229
2025-05-28 07:40:07.822 +09:00 [DBG] Loaded hosting startup assembly ApprovalService.API
2025-05-28 07:40:07.822 +09:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-28 07:40:07.823 +09:00 [INF] Hosting environment: Development
2025-05-28 07:40:07.823 +09:00 [INF] Content root path: /Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API
2025-05-28 07:40:07.823 +09:00 [DBG] Hosting started
2025-05-28 07:40:14.943 +09:00 [DBG] Connection id "0HNCTDTPCPBPJ" accepted.
2025-05-28 07:40:14.946 +09:00 [DBG] Connection id "0HNCTDTPCPBPJ" started.
2025-05-28 07:40:14.987 +09:00 [DBG] Connection 0HNCTDTPCPBPJ established using the following protocol: "Tls12"
2025-05-28 07:40:15.002 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approval/c6421493-17a0-4985-ab9f-a240d99a031a - null null
2025-05-28 07:40:15.011 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approval/c6421493-17a0-4985-ab9f-a240d99a031a'
2025-05-28 07:40:15.012 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalController.GetById (ApprovalService.API)' with route pattern 'api/Approval/{id}' is valid for the request path '/api/approval/c6421493-17a0-4985-ab9f-a240d99a031a'
2025-05-28 07:40:15.013 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalController.GetById (ApprovalService.API)'
2025-05-28 07:40:15.025 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-28 07:40:15.025 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalController.GetById (ApprovalService.API)'
2025-05-28 07:40:15.034 +09:00 [INF] Route matched with {action = "GetById", controller = "Approval"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(System.Guid) on controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API).
2025-05-28 07:40:15.034 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-28 07:40:15.035 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-28 07:40:15.036 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-28 07:40:15.036 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-28 07:40:15.036 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-28 07:40:15.037 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-28 07:40:15.038 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-28 07:40:15.040 +09:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2025-05-28 07:40:15.040 +09:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2025-05-28 07:40:15.040 +09:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2025-05-28 07:40:15.040 +09:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2025-05-28 07:40:15.041 +09:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2025-05-28 07:40:15.041 +09:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2025-05-28 07:40:15.047 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-28 07:40:15.055 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "ApprovalId"), 
        objB: __p_0))'
2025-05-28 07:40:15.089 +09:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ApprovalRequest>(
    asyncEnumerable: SingleQueryingEnumerable.Create<ApprovalRequest>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApprovalRequest.ApprovalId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApprovalRequest.ApplicantDepartment (string), 1], [Property: ApprovalRequest.ApplicantEmployeeNumber (string) Required, 2], [Property: ApprovalRequest.ApplicantName (string) Required, 3], [Property: ApprovalRequest.ApplicantPosition (string), 4], [Property: ApprovalRequest.ApprovalType (string), 5], [Property: ApprovalRequest.ApproverComment (string), 6], [Property: ApprovalRequest.MisKey (string), 7], [Property: ApprovalRequest.RequestContent (string), 8], [Property: ApprovalRequest.RequestTitle (string) Required, 9], [Property: ApprovalRequest.RequestedAt (DateTime) Required, 10], [Property: ApprovalRequest.RespondedAt (DateTime?), 11], [Property: ApprovalRequest.Status (string) Required, 12] }
            SELECT TOP(1) a.ApprovalId, a.ApplicantDepartment, a.ApplicantEmployeeNumber, a.ApplicantName, a.ApplicantPosition, a.ApprovalType, a.ApproverComment, a.MisKey, a.RequestContent, a.RequestTitle, a.RequestedAt, a.RespondedAt, a.Status
            FROM ApprovalRequests AS a
            WHERE a.ApprovalId == @__p_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApprovalRequest.ApprovalId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApprovalRequest.ApplicantDepartment (string), 1], [Property: ApprovalRequest.ApplicantEmployeeNumber (string) Required, 2], [Property: ApprovalRequest.ApplicantName (string) Required, 3], [Property: ApprovalRequest.ApplicantPosition (string), 4], [Property: ApprovalRequest.ApprovalType (string), 5], [Property: ApprovalRequest.ApproverComment (string), 6], [Property: ApprovalRequest.MisKey (string), 7], [Property: ApprovalRequest.RequestContent (string), 8], [Property: ApprovalRequest.RequestTitle (string) Required, 9], [Property: ApprovalRequest.RequestedAt (DateTime) Required, 10], [Property: ApprovalRequest.RespondedAt (DateTime?), 11], [Property: ApprovalRequest.Status (string) Required, 12] }
            SELECT TOP(1) a.ApprovalId, a.ApplicantDepartment, a.ApplicantEmployeeNumber, a.ApplicantName, a.ApplicantPosition, a.ApprovalType, a.ApproverComment, a.MisKey, a.RequestContent, a.RequestTitle, a.RequestedAt, a.RespondedAt, a.Status
            FROM ApprovalRequests AS a
            WHERE a.ApprovalId == @__p_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            ApprovalRequest entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                ApprovalRequest instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(ApprovalRequest);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: ApprovalRequest.ApprovalId PK | Resolver: c => c.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (ApprovalRequest)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")]: 
                            {
                                return 
                                {
                                    ApprovalRequest instance;
                                    instance = new ApprovalRequest();
                                    instance.<ApprovalId>k__BackingField = dataReader.GetGuid(0);
                                    instance.<ApplicantDepartment>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                    instance.<ApplicantEmployeeNumber>k__BackingField = dataReader.GetString(2);
                                    instance.<ApplicantName>k__BackingField = dataReader.GetString(3);
                                    instance.<ApplicantPosition>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                    instance.<ApprovalType>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                    instance.<ApproverComment>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                    instance.<MisKey>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                    instance.<RequestContent>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                    instance.<RequestTitle>k__BackingField = dataReader.GetString(9);
                                    instance.<RequestedAt>k__BackingField = dataReader.GetDateTime(10);
                                    instance.<RespondedAt>k__BackingField = dataReader.IsDBNull(11) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(11);
                                    instance.<Status>k__BackingField = dataReader.GetString(12);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(ApprovalRequest)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-05-28 07:40:15.095 +09:00 [DBG] Creating DbConnection.
2025-05-28 07:40:15.096 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-28 07:40:15.096 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:40:15.096 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:40:15.096 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-28 07:40:15.096 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:40:15.097 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:40:15.098 +09:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-05-28 07:40:15.099 +09:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-05-28 07:40:15.100 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:40:15.100 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 0ms reading results.
2025-05-28 07:40:15.100 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:40:15.100 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:40:15.102 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-28 07:40:15.103 +09:00 [DBG] No information found on request to perform content negotiation.
2025-05-28 07:40:15.104 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-28 07:40:15.104 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-28 07:40:15.105 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-28 07:40:15.105 +09:00 [INF] Executing OkObjectResult, writing value of type 'ApprovalService.API.Models.ApprovalRequestDto'.
2025-05-28 07:40:15.142 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalController.GetById (ApprovalService.API) in 104.3557ms
2025-05-28 07:40:15.145 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalController.GetById (ApprovalService.API)'
2025-05-28 07:40:15.145 +09:00 [DBG] Connection id "0HNCTDTPCPBPJ" completed keep alive response.
2025-05-28 07:40:15.146 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-28 07:40:15.147 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:40:15.147 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:40:15.148 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approval/c6421493-17a0-4985-ab9f-a240d99a031a - 200 null application/json; charset=utf-8 147.8572ms
2025-05-28 07:40:21.093 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approval - null null
2025-05-28 07:40:21.094 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approval'
2025-05-28 07:40:21.094 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)' with route pattern 'api/Approval' is valid for the request path '/api/approval'
2025-05-28 07:40:21.094 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-28 07:40:21.096 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-28 07:40:21.096 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-28 07:40:21.100 +09:00 [INF] Route matched with {action = "GetAll", controller = "Approval"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API).
2025-05-28 07:40:21.100 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-28 07:40:21.101 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-28 07:40:21.103 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-28 07:40:21.104 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-28 07:40:21.104 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-28 07:40:21.104 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-28 07:40:21.109 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-28 07:40:21.147 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-28 07:40:21.149 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()'
2025-05-28 07:40:21.153 +09:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<ApprovalRequest>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApprovalRequest.ApprovalId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApprovalRequest.ApplicantDepartment (string), 1], [Property: ApprovalRequest.ApplicantEmployeeNumber (string) Required, 2], [Property: ApprovalRequest.ApplicantName (string) Required, 3], [Property: ApprovalRequest.ApplicantPosition (string), 4], [Property: ApprovalRequest.ApprovalType (string), 5], [Property: ApprovalRequest.ApproverComment (string), 6], [Property: ApprovalRequest.MisKey (string), 7], [Property: ApprovalRequest.RequestContent (string), 8], [Property: ApprovalRequest.RequestTitle (string) Required, 9], [Property: ApprovalRequest.RequestedAt (DateTime) Required, 10], [Property: ApprovalRequest.RespondedAt (DateTime?), 11], [Property: ApprovalRequest.Status (string) Required, 12] }
        SELECT a.ApprovalId, a.ApplicantDepartment, a.ApplicantEmployeeNumber, a.ApplicantName, a.ApplicantPosition, a.ApprovalType, a.ApproverComment, a.MisKey, a.RequestContent, a.RequestTitle, a.RequestedAt, a.RespondedAt, a.Status
        FROM ApprovalRequests AS a) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApprovalRequest.ApprovalId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApprovalRequest.ApplicantDepartment (string), 1], [Property: ApprovalRequest.ApplicantEmployeeNumber (string) Required, 2], [Property: ApprovalRequest.ApplicantName (string) Required, 3], [Property: ApprovalRequest.ApplicantPosition (string), 4], [Property: ApprovalRequest.ApprovalType (string), 5], [Property: ApprovalRequest.ApproverComment (string), 6], [Property: ApprovalRequest.MisKey (string), 7], [Property: ApprovalRequest.RequestContent (string), 8], [Property: ApprovalRequest.RequestTitle (string) Required, 9], [Property: ApprovalRequest.RequestedAt (DateTime) Required, 10], [Property: ApprovalRequest.RespondedAt (DateTime?), 11], [Property: ApprovalRequest.Status (string) Required, 12] }
        SELECT a.ApprovalId, a.ApplicantDepartment, a.ApplicantEmployeeNumber, a.ApplicantName, a.ApplicantPosition, a.ApprovalType, a.ApproverComment, a.MisKey, a.RequestContent, a.RequestTitle, a.RequestedAt, a.RespondedAt, a.Status
        FROM ApprovalRequests AS a, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        ApprovalRequest entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            ApprovalRequest instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(ApprovalRequest);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: ApprovalRequest.ApprovalId PK | Resolver: c => c.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (ApprovalRequest)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")]: 
                        {
                            return 
                            {
                                ApprovalRequest instance;
                                instance = new ApprovalRequest();
                                instance.<ApprovalId>k__BackingField = dataReader.GetGuid(0);
                                instance.<ApplicantDepartment>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                instance.<ApplicantEmployeeNumber>k__BackingField = dataReader.GetString(2);
                                instance.<ApplicantName>k__BackingField = dataReader.GetString(3);
                                instance.<ApplicantPosition>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                instance.<ApprovalType>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                instance.<ApproverComment>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                instance.<MisKey>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                instance.<RequestContent>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                instance.<RequestTitle>k__BackingField = dataReader.GetString(9);
                                instance.<RequestedAt>k__BackingField = dataReader.GetDateTime(10);
                                instance.<RespondedAt>k__BackingField = dataReader.IsDBNull(11) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(11);
                                instance.<Status>k__BackingField = dataReader.GetString(12);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(ApprovalRequest)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-05-28 07:40:21.155 +09:00 [DBG] Creating DbConnection.
2025-05-28 07:40:21.155 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-28 07:40:21.155 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:40:21.155 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:40:21.155 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-28 07:40:21.155 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:40:21.155 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:40:21.155 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
2025-05-28 07:40:21.155 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
2025-05-28 07:40:21.169 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 07:40:21.184 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 07:40:21.184 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:40:21.184 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 28ms reading results.
2025-05-28 07:40:21.184 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:40:21.184 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:40:21.187 +09:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2025-05-28 07:40:21.188 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API) in 83.6937ms
2025-05-28 07:40:21.190 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-28 07:40:21.190 +09:00 [DBG] Connection id "0HNCTDTPCPBPJ" completed keep alive response.
2025-05-28 07:40:21.191 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-28 07:40:21.191 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:40:21.191 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:40:21.191 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approval - 200 0 null 98.617ms
2025-05-28 07:40:50.201 +09:00 [INF] Application is shutting down...
2025-05-28 07:40:50.214 +09:00 [DBG] Hosting stopping
2025-05-28 07:40:50.234 +09:00 [DBG] Connection id "0HNCTDTPCPBPJ" disconnecting.
2025-05-28 07:40:50.236 +09:00 [DBG] Connection id "0HNCTDTPCPBPJ" stopped.
2025-05-28 07:40:50.237 +09:00 [DBG] Connection id "0HNCTDTPCPBPJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-28 07:40:50.243 +09:00 [DBG] Hosting stopped
2025-05-28 07:40:55.072 +09:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-05-28 07:40:55.173 +09:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-05-28 07:40:55.386 +09:00 [DBG] The property 'Approver.ApprovalId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-05-28 07:40:55.423 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-28 07:40:55.427 +09:00 [DBG] Creating DbConnection.
2025-05-28 07:40:55.432 +09:00 [DBG] Created DbConnection. (4ms).
2025-05-28 07:40:55.433 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:40:55.438 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:40:55.439 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:40:55.441 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:40:55.442 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-28 07:40:55.443 +09:00 [DBG] Creating DbConnection.
2025-05-28 07:40:55.443 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-28 07:40:55.445 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2025-05-28 07:40:55.445 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2025-05-28 07:40:55.445 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:40:55.446 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:40:55.448 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-28 07:40:55.460 +09:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-28 07:40:55.461 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:40:55.462 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (1ms).
2025-05-28 07:40:55.464 +09:00 [DBG] Creating DbConnection.
2025-05-28 07:40:55.464 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-28 07:40:55.464 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:40:55.464 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:40:55.464 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:40:55.464 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:40:55.465 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-28 07:40:55.465 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-05-28 07:40:55.465 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-05-28 07:40:55.465 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:40:55.465 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:40:55.465 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-28 07:40:55.465 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-28 07:40:55.465 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:40:55.465 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:40:55.483 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .Any()'
2025-05-28 07:40:55.592 +09:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-05-28 07:40:55.604 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:40:55.604 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:40:55.604 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-28 07:40:55.604 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:40:55.604 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:40:55.604 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-05-28 07:40:55.605 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-05-28 07:40:55.607 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:40:55.608 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 1ms reading results.
2025-05-28 07:40:55.608 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:40:55.608 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:40:55.609 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-28 07:40:55.610 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:40:55.610 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:40:55.611 +09:00 [DBG] Hosting starting
2025-05-28 07:40:55.623 +09:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-05-28 07:40:55.623 +09:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-05-28 07:40:55.899 +09:00 [INF] Now listening on: https://localhost:5001
2025-05-28 07:40:55.899 +09:00 [INF] Now listening on: http://localhost:5229
2025-05-28 07:40:55.899 +09:00 [DBG] Loaded hosting startup assembly ApprovalService.API
2025-05-28 07:40:55.900 +09:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-28 07:40:55.900 +09:00 [INF] Hosting environment: Development
2025-05-28 07:40:55.900 +09:00 [INF] Content root path: /Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API
2025-05-28 07:40:55.900 +09:00 [DBG] Hosting started
2025-05-28 07:40:56.571 +09:00 [DBG] Connection id "0HNCTDU5PPDDN" accepted.
2025-05-28 07:40:56.572 +09:00 [DBG] Connection id "0HNCTDU5PPDDN" started.
2025-05-28 07:40:56.658 +09:00 [DBG] Connection 0HNCTDU5PPDDN established using the following protocol: "Tls12"
2025-05-28 07:40:56.681 +09:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/approval - null null
2025-05-28 07:40:56.691 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approval'
2025-05-28 07:40:56.692 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)' with route pattern 'api/Approval' is valid for the request path '/api/approval'
2025-05-28 07:40:56.692 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-28 07:40:56.704 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-28 07:40:56.704 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-28 07:40:56.710 +09:00 [INF] Route matched with {action = "GetAll", controller = "Approval"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API).
2025-05-28 07:40:56.711 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-28 07:40:56.711 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-28 07:40:56.711 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-28 07:40:56.711 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-28 07:40:56.712 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-28 07:40:56.712 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-28 07:40:56.713 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-28 07:40:56.720 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-28 07:40:56.722 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()'
2025-05-28 07:40:56.744 +09:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<ApprovalRequest>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApprovalRequest.ApprovalId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApprovalRequest.ApplicantDepartment (string), 1], [Property: ApprovalRequest.ApplicantEmployeeNumber (string) Required, 2], [Property: ApprovalRequest.ApplicantName (string) Required, 3], [Property: ApprovalRequest.ApplicantPosition (string), 4], [Property: ApprovalRequest.ApprovalType (string), 5], [Property: ApprovalRequest.ApproverComment (string), 6], [Property: ApprovalRequest.MisKey (string), 7], [Property: ApprovalRequest.RequestContent (string), 8], [Property: ApprovalRequest.RequestTitle (string) Required, 9], [Property: ApprovalRequest.RequestedAt (DateTime) Required, 10], [Property: ApprovalRequest.RespondedAt (DateTime?), 11], [Property: ApprovalRequest.Status (string) Required, 12] }
        SELECT a.ApprovalId, a.ApplicantDepartment, a.ApplicantEmployeeNumber, a.ApplicantName, a.ApplicantPosition, a.ApprovalType, a.ApproverComment, a.MisKey, a.RequestContent, a.RequestTitle, a.RequestedAt, a.RespondedAt, a.Status
        FROM ApprovalRequests AS a) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApprovalRequest.ApprovalId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApprovalRequest.ApplicantDepartment (string), 1], [Property: ApprovalRequest.ApplicantEmployeeNumber (string) Required, 2], [Property: ApprovalRequest.ApplicantName (string) Required, 3], [Property: ApprovalRequest.ApplicantPosition (string), 4], [Property: ApprovalRequest.ApprovalType (string), 5], [Property: ApprovalRequest.ApproverComment (string), 6], [Property: ApprovalRequest.MisKey (string), 7], [Property: ApprovalRequest.RequestContent (string), 8], [Property: ApprovalRequest.RequestTitle (string) Required, 9], [Property: ApprovalRequest.RequestedAt (DateTime) Required, 10], [Property: ApprovalRequest.RespondedAt (DateTime?), 11], [Property: ApprovalRequest.Status (string) Required, 12] }
        SELECT a.ApprovalId, a.ApplicantDepartment, a.ApplicantEmployeeNumber, a.ApplicantName, a.ApplicantPosition, a.ApprovalType, a.ApproverComment, a.MisKey, a.RequestContent, a.RequestTitle, a.RequestedAt, a.RespondedAt, a.Status
        FROM ApprovalRequests AS a, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        ApprovalRequest entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            ApprovalRequest instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(ApprovalRequest);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: ApprovalRequest.ApprovalId PK | Resolver: c => c.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (ApprovalRequest)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")]: 
                        {
                            return 
                            {
                                ApprovalRequest instance;
                                instance = new ApprovalRequest();
                                instance.<ApprovalId>k__BackingField = dataReader.GetGuid(0);
                                instance.<ApplicantDepartment>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                instance.<ApplicantEmployeeNumber>k__BackingField = dataReader.GetString(2);
                                instance.<ApplicantName>k__BackingField = dataReader.GetString(3);
                                instance.<ApplicantPosition>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                instance.<ApprovalType>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                instance.<ApproverComment>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                instance.<MisKey>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                instance.<RequestContent>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                instance.<RequestTitle>k__BackingField = dataReader.GetString(9);
                                instance.<RequestedAt>k__BackingField = dataReader.GetDateTime(10);
                                instance.<RespondedAt>k__BackingField = dataReader.IsDBNull(11) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(11);
                                instance.<Status>k__BackingField = dataReader.GetString(12);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(ApprovalRequest)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-05-28 07:40:56.747 +09:00 [DBG] Creating DbConnection.
2025-05-28 07:40:56.747 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-28 07:40:56.747 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:40:56.747 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:40:56.747 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-28 07:40:56.747 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:40:56.747 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:40:56.748 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
2025-05-28 07:40:56.748 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
2025-05-28 07:40:56.762 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 07:40:56.780 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 07:40:56.780 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:40:56.780 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 32ms reading results.
2025-05-28 07:40:56.780 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:40:56.780 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:40:56.781 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-28 07:40:56.788 +09:00 [DBG] No information found on request to perform content negotiation.
2025-05-28 07:40:56.788 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-28 07:40:56.788 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-28 07:40:56.789 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-28 07:40:56.789 +09:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ApprovalService.Domain.Entities.ApprovalRequest, ApprovalService.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 07:40:56.838 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API) in 125.077ms
2025-05-28 07:40:56.841 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-28 07:40:56.843 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-28 07:40:56.847 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:40:56.848 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:40:56.848 +09:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/approval - 200 null application/json; charset=utf-8 167.4537ms
2025-05-28 07:40:58.486 +09:00 [DBG] Connection id "0HNCTDU5PPDDN" received FIN.
2025-05-28 07:40:58.488 +09:00 [DBG] Connection id "0HNCTDU5PPDDN" is closed. The last processed stream ID was 1.
2025-05-28 07:40:58.489 +09:00 [DBG] Connection id "0HNCTDU5PPDDN" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-28 07:40:58.489 +09:00 [DBG] The connection queue processing loop for 0HNCTDU5PPDDN completed.
2025-05-28 07:40:58.498 +09:00 [DBG] Connection id "0HNCTDU5PPDDN" stopped.
2025-05-28 07:40:59.862 +09:00 [DBG] Connection id "0HNCTDU5PPDDO" accepted.
2025-05-28 07:40:59.863 +09:00 [DBG] Connection id "0HNCTDU5PPDDO" started.
2025-05-28 07:40:59.897 +09:00 [DBG] Connection 0HNCTDU5PPDDO established using the following protocol: "Tls12"
2025-05-28 07:40:59.904 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approval - null null
2025-05-28 07:40:59.905 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approval'
2025-05-28 07:40:59.905 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)' with route pattern 'api/Approval' is valid for the request path '/api/approval'
2025-05-28 07:40:59.905 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-28 07:40:59.906 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-28 07:40:59.906 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-28 07:40:59.906 +09:00 [INF] Route matched with {action = "GetAll", controller = "Approval"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API).
2025-05-28 07:40:59.907 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-28 07:40:59.907 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-28 07:40:59.907 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-28 07:40:59.907 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-28 07:40:59.907 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-28 07:40:59.908 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-28 07:40:59.913 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-28 07:40:59.945 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-28 07:40:59.946 +09:00 [DBG] Creating DbConnection.
2025-05-28 07:40:59.946 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-28 07:40:59.946 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:40:59.946 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:40:59.946 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-28 07:40:59.946 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:40:59.947 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:40:59.947 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
2025-05-28 07:40:59.947 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
2025-05-28 07:40:59.947 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 07:40:59.947 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 07:40:59.947 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:40:59.948 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 0ms reading results.
2025-05-28 07:40:59.948 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:40:59.948 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:40:59.949 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-28 07:40:59.949 +09:00 [DBG] No information found on request to perform content negotiation.
2025-05-28 07:40:59.952 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-28 07:40:59.952 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-28 07:40:59.953 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-28 07:40:59.953 +09:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ApprovalService.Domain.Entities.ApprovalRequest, ApprovalService.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 07:40:59.957 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API) in 49.9393ms
2025-05-28 07:40:59.957 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-28 07:40:59.958 +09:00 [DBG] Connection id "0HNCTDU5PPDDO" completed keep alive response.
2025-05-28 07:40:59.958 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-28 07:40:59.958 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:40:59.958 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:40:59.959 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approval - 200 null application/json; charset=utf-8 54.7369ms
2025-05-28 07:41:42.646 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approval/139033d4-a98f-4a00-8c7a-18c31b5a9e6a - null null
2025-05-28 07:41:42.647 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approval/139033d4-a98f-4a00-8c7a-18c31b5a9e6a'
2025-05-28 07:41:42.647 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalController.GetById (ApprovalService.API)' with route pattern 'api/Approval/{id}' is valid for the request path '/api/approval/139033d4-a98f-4a00-8c7a-18c31b5a9e6a'
2025-05-28 07:41:42.647 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalController.GetById (ApprovalService.API)'
2025-05-28 07:41:42.649 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-28 07:41:42.649 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalController.GetById (ApprovalService.API)'
2025-05-28 07:41:42.662 +09:00 [INF] Route matched with {action = "GetById", controller = "Approval"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(System.Guid) on controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API).
2025-05-28 07:41:42.663 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-28 07:41:42.663 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-28 07:41:42.663 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-28 07:41:42.663 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-28 07:41:42.663 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-28 07:41:42.663 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-28 07:41:42.664 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-28 07:41:42.666 +09:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2025-05-28 07:41:42.669 +09:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2025-05-28 07:41:42.670 +09:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2025-05-28 07:41:42.670 +09:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2025-05-28 07:41:42.670 +09:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2025-05-28 07:41:42.671 +09:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2025-05-28 07:41:42.674 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-28 07:41:42.681 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "ApprovalId"), 
        objB: __p_0))'
2025-05-28 07:41:42.705 +09:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ApprovalRequest>(
    asyncEnumerable: SingleQueryingEnumerable.Create<ApprovalRequest>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApprovalRequest.ApprovalId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApprovalRequest.ApplicantDepartment (string), 1], [Property: ApprovalRequest.ApplicantEmployeeNumber (string) Required, 2], [Property: ApprovalRequest.ApplicantName (string) Required, 3], [Property: ApprovalRequest.ApplicantPosition (string), 4], [Property: ApprovalRequest.ApprovalType (string), 5], [Property: ApprovalRequest.ApproverComment (string), 6], [Property: ApprovalRequest.MisKey (string), 7], [Property: ApprovalRequest.RequestContent (string), 8], [Property: ApprovalRequest.RequestTitle (string) Required, 9], [Property: ApprovalRequest.RequestedAt (DateTime) Required, 10], [Property: ApprovalRequest.RespondedAt (DateTime?), 11], [Property: ApprovalRequest.Status (string) Required, 12] }
            SELECT TOP(1) a.ApprovalId, a.ApplicantDepartment, a.ApplicantEmployeeNumber, a.ApplicantName, a.ApplicantPosition, a.ApprovalType, a.ApproverComment, a.MisKey, a.RequestContent, a.RequestTitle, a.RequestedAt, a.RespondedAt, a.Status
            FROM ApprovalRequests AS a
            WHERE a.ApprovalId == @__p_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApprovalRequest.ApprovalId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApprovalRequest.ApplicantDepartment (string), 1], [Property: ApprovalRequest.ApplicantEmployeeNumber (string) Required, 2], [Property: ApprovalRequest.ApplicantName (string) Required, 3], [Property: ApprovalRequest.ApplicantPosition (string), 4], [Property: ApprovalRequest.ApprovalType (string), 5], [Property: ApprovalRequest.ApproverComment (string), 6], [Property: ApprovalRequest.MisKey (string), 7], [Property: ApprovalRequest.RequestContent (string), 8], [Property: ApprovalRequest.RequestTitle (string) Required, 9], [Property: ApprovalRequest.RequestedAt (DateTime) Required, 10], [Property: ApprovalRequest.RespondedAt (DateTime?), 11], [Property: ApprovalRequest.Status (string) Required, 12] }
            SELECT TOP(1) a.ApprovalId, a.ApplicantDepartment, a.ApplicantEmployeeNumber, a.ApplicantName, a.ApplicantPosition, a.ApprovalType, a.ApproverComment, a.MisKey, a.RequestContent, a.RequestTitle, a.RequestedAt, a.RespondedAt, a.Status
            FROM ApprovalRequests AS a
            WHERE a.ApprovalId == @__p_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            ApprovalRequest entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                ApprovalRequest instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(ApprovalRequest);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: ApprovalRequest.ApprovalId PK | Resolver: c => c.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (ApprovalRequest)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")]: 
                            {
                                return 
                                {
                                    ApprovalRequest instance;
                                    instance = new ApprovalRequest();
                                    instance.<ApprovalId>k__BackingField = dataReader.GetGuid(0);
                                    instance.<ApplicantDepartment>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                    instance.<ApplicantEmployeeNumber>k__BackingField = dataReader.GetString(2);
                                    instance.<ApplicantName>k__BackingField = dataReader.GetString(3);
                                    instance.<ApplicantPosition>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                    instance.<ApprovalType>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                    instance.<ApproverComment>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                    instance.<MisKey>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                    instance.<RequestContent>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                    instance.<RequestTitle>k__BackingField = dataReader.GetString(9);
                                    instance.<RequestedAt>k__BackingField = dataReader.GetDateTime(10);
                                    instance.<RespondedAt>k__BackingField = dataReader.IsDBNull(11) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(11);
                                    instance.<Status>k__BackingField = dataReader.GetString(12);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(ApprovalRequest)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-05-28 07:41:42.709 +09:00 [DBG] Creating DbConnection.
2025-05-28 07:41:42.709 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-28 07:41:42.710 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:41:42.710 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:41:42.710 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-28 07:41:42.710 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:41:42.711 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:41:42.712 +09:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-05-28 07:41:42.714 +09:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-05-28 07:41:42.714 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 07:41:42.714 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:41:42.714 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 0ms reading results.
2025-05-28 07:41:42.714 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:41:42.714 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:41:42.715 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-28 07:41:42.715 +09:00 [DBG] No information found on request to perform content negotiation.
2025-05-28 07:41:42.715 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-28 07:41:42.715 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-28 07:41:42.715 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-28 07:41:42.716 +09:00 [INF] Executing OkObjectResult, writing value of type 'ApprovalService.API.Models.ApprovalRequestDto'.
2025-05-28 07:41:42.719 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalController.GetById (ApprovalService.API) in 56.1971ms
2025-05-28 07:41:42.719 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalController.GetById (ApprovalService.API)'
2025-05-28 07:41:42.719 +09:00 [DBG] Connection id "0HNCTDU5PPDDO" completed keep alive response.
2025-05-28 07:41:42.719 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-28 07:41:42.720 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:41:42.720 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:41:42.720 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approval/139033d4-a98f-4a00-8c7a-18c31b5a9e6a - 200 null application/json; charset=utf-8 74.1638ms
2025-05-28 07:41:47.353 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approval/459d9483-5175-4331-ad98-f94dcb3e77de - null null
2025-05-28 07:41:47.353 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approval/459d9483-5175-4331-ad98-f94dcb3e77de'
2025-05-28 07:41:47.354 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalController.GetById (ApprovalService.API)' with route pattern 'api/Approval/{id}' is valid for the request path '/api/approval/459d9483-5175-4331-ad98-f94dcb3e77de'
2025-05-28 07:41:47.354 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalController.GetById (ApprovalService.API)'
2025-05-28 07:41:47.354 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-28 07:41:47.354 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalController.GetById (ApprovalService.API)'
2025-05-28 07:41:47.354 +09:00 [INF] Route matched with {action = "GetById", controller = "Approval"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(System.Guid) on controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API).
2025-05-28 07:41:47.355 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-28 07:41:47.355 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-28 07:41:47.355 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-28 07:41:47.355 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-28 07:41:47.355 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-28 07:41:47.355 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-28 07:41:47.356 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-28 07:41:47.356 +09:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2025-05-28 07:41:47.356 +09:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2025-05-28 07:41:47.357 +09:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2025-05-28 07:41:47.357 +09:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2025-05-28 07:41:47.357 +09:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2025-05-28 07:41:47.357 +09:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2025-05-28 07:41:47.359 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-28 07:41:47.365 +09:00 [DBG] Creating DbConnection.
2025-05-28 07:41:47.365 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-28 07:41:47.365 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:41:47.366 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:41:47.366 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-28 07:41:47.366 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:41:47.366 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:41:47.366 +09:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-05-28 07:41:47.368 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-05-28 07:41:47.368 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 07:41:47.369 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:41:47.369 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 0ms reading results.
2025-05-28 07:41:47.369 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:41:47.369 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:41:47.370 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-28 07:41:47.370 +09:00 [DBG] No information found on request to perform content negotiation.
2025-05-28 07:41:47.370 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-28 07:41:47.370 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-28 07:41:47.370 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-28 07:41:47.370 +09:00 [INF] Executing OkObjectResult, writing value of type 'ApprovalService.API.Models.ApprovalRequestDto'.
2025-05-28 07:41:47.371 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalController.GetById (ApprovalService.API) in 16.0606ms
2025-05-28 07:41:47.371 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalController.GetById (ApprovalService.API)'
2025-05-28 07:41:47.372 +09:00 [DBG] Connection id "0HNCTDU5PPDDO" completed keep alive response.
2025-05-28 07:41:47.372 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-28 07:41:47.372 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:41:47.372 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:41:47.372 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approval/459d9483-5175-4331-ad98-f94dcb3e77de - 200 null application/json; charset=utf-8 18.8582ms
2025-05-28 07:42:06.606 +09:00 [INF] Application is shutting down...
2025-05-28 07:42:06.608 +09:00 [DBG] Hosting stopping
2025-05-28 07:42:06.628 +09:00 [DBG] Connection id "0HNCTDU5PPDDO" disconnecting.
2025-05-28 07:42:06.628 +09:00 [DBG] Connection id "0HNCTDU5PPDDO" stopped.
2025-05-28 07:42:06.628 +09:00 [DBG] Connection id "0HNCTDU5PPDDO" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-28 07:42:06.632 +09:00 [DBG] Hosting stopped
2025-05-28 07:42:10.765 +09:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-05-28 07:42:10.840 +09:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-05-28 07:42:11.046 +09:00 [DBG] The property 'Approver.ApprovalId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-05-28 07:42:11.083 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-28 07:42:11.087 +09:00 [DBG] Creating DbConnection.
2025-05-28 07:42:11.092 +09:00 [DBG] Created DbConnection. (4ms).
2025-05-28 07:42:11.094 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:42:11.097 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:42:11.099 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:42:11.101 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:42:11.103 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-28 07:42:11.103 +09:00 [DBG] Creating DbConnection.
2025-05-28 07:42:11.103 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-28 07:42:11.106 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2025-05-28 07:42:11.107 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (4ms).
2025-05-28 07:42:11.107 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:42:11.108 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:42:11.110 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-28 07:42:11.122 +09:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-28 07:42:11.123 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:42:11.124 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (1ms).
2025-05-28 07:42:11.126 +09:00 [DBG] Creating DbConnection.
2025-05-28 07:42:11.126 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-28 07:42:11.126 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:42:11.127 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:42:11.127 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:42:11.127 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:42:11.127 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-28 07:42:11.127 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-05-28 07:42:11.127 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-05-28 07:42:11.127 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:42:11.127 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:42:11.127 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-28 07:42:11.127 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-28 07:42:11.127 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:42:11.128 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:42:11.146 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .Any()'
2025-05-28 07:42:11.238 +09:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-05-28 07:42:11.249 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:42:11.250 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:42:11.250 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-28 07:42:11.250 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:42:11.250 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:42:11.251 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-05-28 07:42:11.251 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-05-28 07:42:11.253 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:42:11.254 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 1ms reading results.
2025-05-28 07:42:11.254 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:42:11.255 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:42:11.255 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-28 07:42:11.256 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:42:11.256 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:42:11.257 +09:00 [DBG] Hosting starting
2025-05-28 07:42:11.270 +09:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-05-28 07:42:11.270 +09:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-05-28 07:42:11.491 +09:00 [INF] Now listening on: https://localhost:5001
2025-05-28 07:42:11.492 +09:00 [INF] Now listening on: http://localhost:5229
2025-05-28 07:42:11.492 +09:00 [DBG] Loaded hosting startup assembly ApprovalService.API
2025-05-28 07:42:11.492 +09:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-28 07:42:11.493 +09:00 [INF] Hosting environment: Development
2025-05-28 07:42:11.493 +09:00 [INF] Content root path: /Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API
2025-05-28 07:42:11.493 +09:00 [DBG] Hosting started
2025-05-28 07:42:14.054 +09:00 [DBG] Connection id "0HNCTDUSSNAF3" accepted.
2025-05-28 07:42:14.055 +09:00 [DBG] Connection id "0HNCTDUSSNAF3" started.
2025-05-28 07:42:14.090 +09:00 [DBG] Connection 0HNCTDUSSNAF3 established using the following protocol: "Tls12"
2025-05-28 07:42:14.110 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approval - null null
2025-05-28 07:42:14.125 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approval'
2025-05-28 07:42:14.127 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)' with route pattern 'api/Approval' is valid for the request path '/api/approval'
2025-05-28 07:42:14.128 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-28 07:42:14.143 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-28 07:42:14.143 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-28 07:42:14.151 +09:00 [INF] Route matched with {action = "GetAll", controller = "Approval"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API).
2025-05-28 07:42:14.152 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-28 07:42:14.152 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-28 07:42:14.152 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-28 07:42:14.152 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-28 07:42:14.152 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-28 07:42:14.153 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-28 07:42:14.153 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-28 07:42:14.159 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-28 07:42:14.161 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()'
2025-05-28 07:42:14.192 +09:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<ApprovalRequest>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApprovalRequest.ApprovalId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApprovalRequest.ApplicantDepartment (string), 1], [Property: ApprovalRequest.ApplicantEmployeeNumber (string) Required, 2], [Property: ApprovalRequest.ApplicantName (string) Required, 3], [Property: ApprovalRequest.ApplicantPosition (string), 4], [Property: ApprovalRequest.ApprovalType (string), 5], [Property: ApprovalRequest.ApproverComment (string), 6], [Property: ApprovalRequest.MisKey (string), 7], [Property: ApprovalRequest.RequestContent (string), 8], [Property: ApprovalRequest.RequestTitle (string) Required, 9], [Property: ApprovalRequest.RequestedAt (DateTime) Required, 10], [Property: ApprovalRequest.RespondedAt (DateTime?), 11], [Property: ApprovalRequest.Status (string) Required, 12] }
        SELECT a.ApprovalId, a.ApplicantDepartment, a.ApplicantEmployeeNumber, a.ApplicantName, a.ApplicantPosition, a.ApprovalType, a.ApproverComment, a.MisKey, a.RequestContent, a.RequestTitle, a.RequestedAt, a.RespondedAt, a.Status
        FROM ApprovalRequests AS a) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApprovalRequest.ApprovalId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApprovalRequest.ApplicantDepartment (string), 1], [Property: ApprovalRequest.ApplicantEmployeeNumber (string) Required, 2], [Property: ApprovalRequest.ApplicantName (string) Required, 3], [Property: ApprovalRequest.ApplicantPosition (string), 4], [Property: ApprovalRequest.ApprovalType (string), 5], [Property: ApprovalRequest.ApproverComment (string), 6], [Property: ApprovalRequest.MisKey (string), 7], [Property: ApprovalRequest.RequestContent (string), 8], [Property: ApprovalRequest.RequestTitle (string) Required, 9], [Property: ApprovalRequest.RequestedAt (DateTime) Required, 10], [Property: ApprovalRequest.RespondedAt (DateTime?), 11], [Property: ApprovalRequest.Status (string) Required, 12] }
        SELECT a.ApprovalId, a.ApplicantDepartment, a.ApplicantEmployeeNumber, a.ApplicantName, a.ApplicantPosition, a.ApprovalType, a.ApproverComment, a.MisKey, a.RequestContent, a.RequestTitle, a.RequestedAt, a.RespondedAt, a.Status
        FROM ApprovalRequests AS a, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        ApprovalRequest entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            ApprovalRequest instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(ApprovalRequest);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: ApprovalRequest.ApprovalId PK | Resolver: c => c.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (ApprovalRequest)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")]: 
                        {
                            return 
                            {
                                ApprovalRequest instance;
                                instance = new ApprovalRequest();
                                instance.<ApprovalId>k__BackingField = dataReader.GetGuid(0);
                                instance.<ApplicantDepartment>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                instance.<ApplicantEmployeeNumber>k__BackingField = dataReader.GetString(2);
                                instance.<ApplicantName>k__BackingField = dataReader.GetString(3);
                                instance.<ApplicantPosition>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                instance.<ApprovalType>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                instance.<ApproverComment>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                instance.<MisKey>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                instance.<RequestContent>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                instance.<RequestTitle>k__BackingField = dataReader.GetString(9);
                                instance.<RequestedAt>k__BackingField = dataReader.GetDateTime(10);
                                instance.<RespondedAt>k__BackingField = dataReader.IsDBNull(11) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(11);
                                instance.<Status>k__BackingField = dataReader.GetString(12);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(ApprovalRequest)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-05-28 07:42:14.196 +09:00 [DBG] Creating DbConnection.
2025-05-28 07:42:14.196 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-28 07:42:14.196 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:42:14.196 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:42:14.196 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-28 07:42:14.196 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:42:14.196 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:42:14.196 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
2025-05-28 07:42:14.196 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
2025-05-28 07:42:14.211 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 07:42:14.227 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 07:42:14.228 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:42:14.228 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 31ms reading results.
2025-05-28 07:42:14.228 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:42:14.228 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:42:14.229 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-28 07:42:14.229 +09:00 [DBG] No information found on request to perform content negotiation.
2025-05-28 07:42:14.229 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-28 07:42:14.229 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-28 07:42:14.230 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-28 07:42:14.230 +09:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ApprovalService.Domain.Entities.ApprovalRequest, ApprovalService.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 07:42:14.270 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API) in 116.5659ms
2025-05-28 07:42:14.272 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-28 07:42:14.272 +09:00 [DBG] Connection id "0HNCTDUSSNAF3" completed keep alive response.
2025-05-28 07:42:14.273 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-28 07:42:14.276 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:42:14.277 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (1ms).
2025-05-28 07:42:14.278 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approval - 200 null application/json; charset=utf-8 169.1606ms
2025-05-28 07:42:15.318 +09:00 [DBG] Connection id "0HNCTDUSSNAF4" accepted.
2025-05-28 07:42:15.319 +09:00 [DBG] Connection id "0HNCTDUSSNAF4" started.
2025-05-28 07:42:15.358 +09:00 [DBG] Connection 0HNCTDUSSNAF4 established using the following protocol: "Tls12"
2025-05-28 07:42:15.362 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approval/139033d4-a98f-4a00-8c7a-18c31b5a9e6a - null null
2025-05-28 07:42:15.362 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approval/139033d4-a98f-4a00-8c7a-18c31b5a9e6a'
2025-05-28 07:42:15.362 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalController.GetById (ApprovalService.API)' with route pattern 'api/Approval/{id}' is valid for the request path '/api/approval/139033d4-a98f-4a00-8c7a-18c31b5a9e6a'
2025-05-28 07:42:15.362 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalController.GetById (ApprovalService.API)'
2025-05-28 07:42:15.363 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-28 07:42:15.363 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalController.GetById (ApprovalService.API)'
2025-05-28 07:42:15.375 +09:00 [INF] Route matched with {action = "GetById", controller = "Approval"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(System.Guid) on controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API).
2025-05-28 07:42:15.375 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-28 07:42:15.376 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-28 07:42:15.376 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-28 07:42:15.376 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-28 07:42:15.377 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-28 07:42:15.377 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-28 07:42:15.378 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-28 07:42:15.380 +09:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2025-05-28 07:42:15.383 +09:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2025-05-28 07:42:15.385 +09:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2025-05-28 07:42:15.385 +09:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2025-05-28 07:42:15.385 +09:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2025-05-28 07:42:15.386 +09:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2025-05-28 07:42:15.420 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-28 07:42:15.429 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "ApprovalId"), 
        objB: __p_0))'
2025-05-28 07:42:15.447 +09:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ApprovalRequest>(
    asyncEnumerable: SingleQueryingEnumerable.Create<ApprovalRequest>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApprovalRequest.ApprovalId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApprovalRequest.ApplicantDepartment (string), 1], [Property: ApprovalRequest.ApplicantEmployeeNumber (string) Required, 2], [Property: ApprovalRequest.ApplicantName (string) Required, 3], [Property: ApprovalRequest.ApplicantPosition (string), 4], [Property: ApprovalRequest.ApprovalType (string), 5], [Property: ApprovalRequest.ApproverComment (string), 6], [Property: ApprovalRequest.MisKey (string), 7], [Property: ApprovalRequest.RequestContent (string), 8], [Property: ApprovalRequest.RequestTitle (string) Required, 9], [Property: ApprovalRequest.RequestedAt (DateTime) Required, 10], [Property: ApprovalRequest.RespondedAt (DateTime?), 11], [Property: ApprovalRequest.Status (string) Required, 12] }
            SELECT TOP(1) a.ApprovalId, a.ApplicantDepartment, a.ApplicantEmployeeNumber, a.ApplicantName, a.ApplicantPosition, a.ApprovalType, a.ApproverComment, a.MisKey, a.RequestContent, a.RequestTitle, a.RequestedAt, a.RespondedAt, a.Status
            FROM ApprovalRequests AS a
            WHERE a.ApprovalId == @__p_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApprovalRequest.ApprovalId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApprovalRequest.ApplicantDepartment (string), 1], [Property: ApprovalRequest.ApplicantEmployeeNumber (string) Required, 2], [Property: ApprovalRequest.ApplicantName (string) Required, 3], [Property: ApprovalRequest.ApplicantPosition (string), 4], [Property: ApprovalRequest.ApprovalType (string), 5], [Property: ApprovalRequest.ApproverComment (string), 6], [Property: ApprovalRequest.MisKey (string), 7], [Property: ApprovalRequest.RequestContent (string), 8], [Property: ApprovalRequest.RequestTitle (string) Required, 9], [Property: ApprovalRequest.RequestedAt (DateTime) Required, 10], [Property: ApprovalRequest.RespondedAt (DateTime?), 11], [Property: ApprovalRequest.Status (string) Required, 12] }
            SELECT TOP(1) a.ApprovalId, a.ApplicantDepartment, a.ApplicantEmployeeNumber, a.ApplicantName, a.ApplicantPosition, a.ApprovalType, a.ApproverComment, a.MisKey, a.RequestContent, a.RequestTitle, a.RequestedAt, a.RespondedAt, a.Status
            FROM ApprovalRequests AS a
            WHERE a.ApprovalId == @__p_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            ApprovalRequest entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                ApprovalRequest instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(ApprovalRequest);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: ApprovalRequest.ApprovalId PK | Resolver: c => c.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (ApprovalRequest)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")]: 
                            {
                                return 
                                {
                                    ApprovalRequest instance;
                                    instance = new ApprovalRequest();
                                    instance.<ApprovalId>k__BackingField = dataReader.GetGuid(0);
                                    instance.<ApplicantDepartment>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                    instance.<ApplicantEmployeeNumber>k__BackingField = dataReader.GetString(2);
                                    instance.<ApplicantName>k__BackingField = dataReader.GetString(3);
                                    instance.<ApplicantPosition>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                    instance.<ApprovalType>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                    instance.<ApproverComment>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                    instance.<MisKey>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                    instance.<RequestContent>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                    instance.<RequestTitle>k__BackingField = dataReader.GetString(9);
                                    instance.<RequestedAt>k__BackingField = dataReader.GetDateTime(10);
                                    instance.<RespondedAt>k__BackingField = dataReader.IsDBNull(11) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(11);
                                    instance.<Status>k__BackingField = dataReader.GetString(12);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(ApprovalRequest)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-05-28 07:42:15.453 +09:00 [DBG] Creating DbConnection.
2025-05-28 07:42:15.453 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-28 07:42:15.453 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:42:15.453 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:42:15.454 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-28 07:42:15.454 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:42:15.454 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:42:15.455 +09:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-05-28 07:42:15.457 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-05-28 07:42:15.457 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 07:42:15.457 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:42:15.457 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 0ms reading results.
2025-05-28 07:42:15.457 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:42:15.457 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:42:15.457 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-28 07:42:15.458 +09:00 [DBG] No information found on request to perform content negotiation.
2025-05-28 07:42:15.458 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-28 07:42:15.458 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-28 07:42:15.458 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-28 07:42:15.458 +09:00 [INF] Executing OkObjectResult, writing value of type 'ApprovalService.Domain.Entities.ApprovalRequest'.
2025-05-28 07:42:15.458 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalController.GetById (ApprovalService.API) in 81.4418ms
2025-05-28 07:42:15.458 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalController.GetById (ApprovalService.API)'
2025-05-28 07:42:15.458 +09:00 [DBG] Connection id "0HNCTDUSSNAF4" completed keep alive response.
2025-05-28 07:42:15.458 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-28 07:42:15.458 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:42:15.459 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:42:15.459 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approval/139033d4-a98f-4a00-8c7a-18c31b5a9e6a - 200 null application/json; charset=utf-8 96.9362ms
2025-05-28 07:42:18.770 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approval/459d9483-5175-4331-ad98-f94dcb3e77de - null null
2025-05-28 07:42:18.770 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approval/459d9483-5175-4331-ad98-f94dcb3e77de'
2025-05-28 07:42:18.770 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalController.GetById (ApprovalService.API)' with route pattern 'api/Approval/{id}' is valid for the request path '/api/approval/459d9483-5175-4331-ad98-f94dcb3e77de'
2025-05-28 07:42:18.771 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalController.GetById (ApprovalService.API)'
2025-05-28 07:42:18.772 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-28 07:42:18.772 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalController.GetById (ApprovalService.API)'
2025-05-28 07:42:18.773 +09:00 [INF] Route matched with {action = "GetById", controller = "Approval"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(System.Guid) on controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API).
2025-05-28 07:42:18.773 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-28 07:42:18.773 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-28 07:42:18.773 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-28 07:42:18.773 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-28 07:42:18.773 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-28 07:42:18.774 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-28 07:42:18.777 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-28 07:42:18.778 +09:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2025-05-28 07:42:18.778 +09:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2025-05-28 07:42:18.778 +09:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2025-05-28 07:42:18.778 +09:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2025-05-28 07:42:18.778 +09:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2025-05-28 07:42:18.778 +09:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2025-05-28 07:42:18.779 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-28 07:42:18.785 +09:00 [DBG] Creating DbConnection.
2025-05-28 07:42:18.786 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-28 07:42:18.786 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:42:18.786 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:42:18.786 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-28 07:42:18.786 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:42:18.786 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-28 07:42:18.787 +09:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-05-28 07:42:18.787 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-05-28 07:42:18.787 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 07:42:18.787 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:42:18.787 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 0ms reading results.
2025-05-28 07:42:18.788 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 07:42:18.788 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:42:18.788 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-28 07:42:18.788 +09:00 [DBG] No information found on request to perform content negotiation.
2025-05-28 07:42:18.788 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-28 07:42:18.788 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-28 07:42:18.788 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-28 07:42:18.788 +09:00 [INF] Executing OkObjectResult, writing value of type 'ApprovalService.Domain.Entities.ApprovalRequest'.
2025-05-28 07:42:18.788 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalController.GetById (ApprovalService.API) in 14.8401ms
2025-05-28 07:42:18.788 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalController.GetById (ApprovalService.API)'
2025-05-28 07:42:18.789 +09:00 [DBG] Connection id "0HNCTDUSSNAF4" completed keep alive response.
2025-05-28 07:42:18.789 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-28 07:42:18.789 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 07:42:18.789 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 07:42:18.789 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approval/459d9483-5175-4331-ad98-f94dcb3e77de - 200 null application/json; charset=utf-8 19.3477ms
2025-05-28 07:43:14.970 +09:00 [DBG] Connection id "0HNCTDUSSNAF3" received FIN.
2025-05-28 07:43:15.154 +09:00 [DBG] Connection id "0HNCTDUSSNAF3" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-28 07:43:15.274 +09:00 [DBG] Connection id "0HNCTDUSSNAF3" disconnecting.
2025-05-28 07:43:15.282 +09:00 [DBG] Connection id "0HNCTDUSSNAF3" stopped.
2025-05-28 07:43:30.339 +09:00 [DBG] Connection id "0HNCTDUSSNAF4" received FIN.
2025-05-28 07:43:30.341 +09:00 [DBG] Connection id "0HNCTDUSSNAF4" disconnecting.
2025-05-28 07:43:30.342 +09:00 [DBG] Connection id "0HNCTDUSSNAF4" stopped.
2025-05-28 07:43:30.343 +09:00 [DBG] Connection id "0HNCTDUSSNAF4" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-28 08:05:28.165 +09:00 [INF] Application is shutting down...
2025-05-28 08:05:28.170 +09:00 [DBG] Hosting stopping
2025-05-28 08:05:28.201 +09:00 [DBG] Hosting stopped
2025-05-28 08:05:40.603 +09:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-05-28 08:05:40.793 +09:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-05-28 08:05:41.142 +09:00 [DBG] The property 'Approver.ApprovalId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-05-28 08:05:41.194 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-28 08:05:41.202 +09:00 [DBG] Creating DbConnection.
2025-05-28 08:05:41.208 +09:00 [DBG] Created DbConnection. (7ms).
2025-05-28 08:05:41.210 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 08:05:41.255 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 08:05:41.258 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 08:05:41.261 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 08:05:41.263 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-28 08:05:41.263 +09:00 [DBG] Creating DbConnection.
2025-05-28 08:05:41.263 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-28 08:05:41.266 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2025-05-28 08:05:41.266 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (3ms).
2025-05-28 08:05:41.266 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 08:05:41.269 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 08:05:41.272 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-28 08:05:41.293 +09:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-28 08:05:41.294 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 08:05:41.295 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (1ms).
2025-05-28 08:05:41.297 +09:00 [DBG] Creating DbConnection.
2025-05-28 08:05:41.298 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-28 08:05:41.298 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 08:05:41.298 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 08:05:41.298 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 08:05:41.298 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 08:05:41.299 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-28 08:05:41.299 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-05-28 08:05:41.299 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-05-28 08:05:41.299 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 08:05:41.299 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 08:05:41.299 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-28 08:05:41.299 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-28 08:05:41.300 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 08:05:41.300 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 08:05:41.391 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .Any()'
2025-05-28 08:05:41.656 +09:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-05-28 08:05:41.681 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 08:05:41.682 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 08:05:41.682 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-28 08:05:41.682 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-28 08:05:41.682 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-28 08:05:41.682 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-05-28 08:05:41.683 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-05-28 08:05:41.686 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 08:05:41.687 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 3ms reading results.
2025-05-28 08:05:41.689 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 08:05:41.690 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 08:05:41.690 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-28 08:05:41.691 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 08:05:41.691 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 08:05:41.693 +09:00 [DBG] Hosting starting
2025-05-28 08:05:41.804 +09:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-05-28 08:05:41.805 +09:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-05-28 08:05:43.182 +09:00 [INF] Now listening on: https://localhost:5001
2025-05-28 08:05:43.183 +09:00 [INF] Now listening on: http://localhost:5229
2025-05-28 08:05:43.183 +09:00 [DBG] Loaded hosting startup assembly ApprovalService.API
2025-05-28 08:05:43.185 +09:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-28 08:05:43.186 +09:00 [INF] Hosting environment: Development
2025-05-28 08:05:43.186 +09:00 [INF] Content root path: /Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API
2025-05-28 08:05:43.186 +09:00 [DBG] Hosting started
2025-05-28 08:33:18.953 +09:00 [DBG] Connection id "0HNCTERE9M5MN" accepted.
2025-05-28 08:33:18.973 +09:00 [DBG] Connection id "0HNCTERE9M5MN" started.
2025-05-28 08:33:19.124 +09:00 [DBG] Connection 0HNCTERE9M5MN established using the following protocol: "Tls12"
2025-05-28 08:33:19.985 +09:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-05-28 08:33:20.029 +09:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-05-28 08:33:20.029 +09:00 [DBG] Request did not match any endpoints
2025-05-28 08:33:20.081 +09:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-05-28 08:33:20.142 +09:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 157.6382ms
2025-05-28 08:33:22.878 +09:00 [DBG] Connection id "0HNCTERE9M5MN" received FIN.
2025-05-28 08:33:22.879 +09:00 [DBG] Connection id "0HNCTERE9M5MN" is closed. The last processed stream ID was 1.
2025-05-28 08:33:22.880 +09:00 [DBG] The connection queue processing loop for 0HNCTERE9M5MN completed.
2025-05-28 08:33:22.880 +09:00 [DBG] Connection id "0HNCTERE9M5MN" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-28 08:33:22.892 +09:00 [DBG] Connection id "0HNCTERE9M5MN" stopped.
2025-05-28 08:42:06.259 +09:00 [INF] Application is shutting down...
2025-05-28 08:42:06.264 +09:00 [DBG] Hosting stopping
2025-05-28 08:42:06.290 +09:00 [DBG] Hosting stopped
2025-05-28 08:43:13.404 +09:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-05-28 08:43:13.548 +09:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-05-28 08:43:13.816 +09:00 [DBG] The property 'Approver.ApprovalId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-05-28 08:43:13.867 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-28 08:43:13.874 +09:00 [DBG] Creating DbConnection.
2025-05-28 08:43:13.880 +09:00 [DBG] Created DbConnection. (5ms).
2025-05-28 08:43:13.881 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 08:43:13.891 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 08:43:13.892 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 08:43:13.894 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 08:43:13.896 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-28 08:43:13.897 +09:00 [DBG] Creating DbConnection.
2025-05-28 08:43:13.897 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-28 08:43:13.899 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2025-05-28 08:43:13.900 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (3ms).
2025-05-28 08:43:13.900 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 08:43:13.901 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 08:43:13.903 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-28 08:43:13.917 +09:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-28 08:43:13.918 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 08:43:13.919 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (1ms).
2025-05-28 08:43:13.923 +09:00 [DBG] Creating DbConnection.
2025-05-28 08:43:13.923 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-28 08:43:13.923 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 08:43:13.924 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 08:43:13.924 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 08:43:13.924 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 08:43:13.924 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-28 08:43:13.924 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-05-28 08:43:13.924 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-05-28 08:43:13.924 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 08:43:13.924 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 08:43:13.925 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-28 08:43:13.925 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-28 08:43:13.925 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 08:43:13.925 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 08:43:13.951 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .Any()'
2025-05-28 08:43:14.442 +09:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-05-28 08:43:14.463 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 08:43:14.465 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 08:43:14.465 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-28 08:43:14.465 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-28 08:43:14.465 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-28 08:43:14.465 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-05-28 08:43:14.468 +09:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-05-28 08:43:14.472 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 08:43:14.472 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 3ms reading results.
2025-05-28 08:43:14.473 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 08:43:14.473 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 08:43:14.474 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-28 08:43:14.475 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 08:43:14.475 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 08:43:14.478 +09:00 [DBG] Hosting starting
2025-05-28 08:43:14.543 +09:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-05-28 08:43:14.545 +09:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-05-28 08:43:14.569 +09:00 [INF] Now listening on: http://localhost:5229
2025-05-28 08:43:14.569 +09:00 [DBG] Loaded hosting startup assembly ApprovalService.API
2025-05-28 08:43:14.569 +09:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-28 08:43:14.570 +09:00 [INF] Hosting environment: Development
2025-05-28 08:43:14.570 +09:00 [INF] Content root path: /Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API
2025-05-28 08:43:14.570 +09:00 [DBG] Hosting started
2025-05-28 08:43:40.603 +09:00 [DBG] Connection id "0HNCTF17ICDAB" accepted.
2025-05-28 08:43:40.604 +09:00 [DBG] Connection id "0HNCTF17ICDAC" accepted.
2025-05-28 08:43:40.631 +09:00 [DBG] Connection id "0HNCTF17ICDAB" started.
2025-05-28 08:43:40.634 +09:00 [DBG] Connection id "0HNCTF17ICDAC" started.
2025-05-28 08:43:40.709 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5229/ - null null
2025-05-28 08:43:40.731 +09:00 [DBG] No candidates found for the request path '/'
2025-05-28 08:43:40.731 +09:00 [DBG] Request did not match any endpoints
2025-05-28 08:43:40.760 +09:00 [DBG] The request path  does not match the path filter
2025-05-28 08:43:40.765 +09:00 [DBG] Connection id "0HNCTF17ICDAB" completed keep alive response.
2025-05-28 08:43:40.767 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5229/ - 404 0 null 59.1057ms
2025-05-28 08:43:40.774 +09:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5229/, Response status code: 404
2025-05-28 08:43:43.708 +09:00 [DBG] Connection id "0HNCTF17ICDAC" received FIN.
2025-05-28 08:43:43.708 +09:00 [DBG] Connection id "0HNCTF17ICDAB" received FIN.
2025-05-28 08:43:43.713 +09:00 [DBG] Connection id "0HNCTF17ICDAB" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-28 08:43:43.714 +09:00 [DBG] Connection id "0HNCTF17ICDAC" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-28 08:43:43.723 +09:00 [DBG] Connection id "0HNCTF17ICDAB" disconnecting.
2025-05-28 08:43:43.723 +09:00 [DBG] Connection id "0HNCTF17ICDAC" disconnecting.
2025-05-28 08:43:43.751 +09:00 [DBG] Connection id "0HNCTF17ICDAB" stopped.
2025-05-28 08:43:43.751 +09:00 [DBG] Connection id "0HNCTF17ICDAC" stopped.
2025-05-28 08:43:45.053 +09:00 [DBG] Connection id "0HNCTF17ICDAD" accepted.
2025-05-28 08:43:45.053 +09:00 [DBG] Connection id "0HNCTF17ICDAD" started.
2025-05-28 08:43:45.053 +09:00 [DBG] Connection id "0HNCTF17ICDAE" accepted.
2025-05-28 08:43:45.055 +09:00 [DBG] Connection id "0HNCTF17ICDAE" started.
2025-05-28 08:43:45.060 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5229/swagger - null null
2025-05-28 08:43:45.061 +09:00 [DBG] No candidates found for the request path '/swagger'
2025-05-28 08:43:45.061 +09:00 [DBG] Request did not match any endpoints
2025-05-28 08:43:45.066 +09:00 [DBG] Connection id "0HNCTF17ICDAD" completed keep alive response.
2025-05-28 08:43:45.066 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5229/swagger - 301 0 null 5.8482ms
2025-05-28 08:43:45.069 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5229/swagger/index.html - null null
2025-05-28 08:43:45.070 +09:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-05-28 08:43:45.070 +09:00 [DBG] Request did not match any endpoints
2025-05-28 08:43:45.154 +09:00 [DBG] Connection id "0HNCTF17ICDAD" completed keep alive response.
2025-05-28 08:43:45.154 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5229/swagger/index.html - 200 null text/html;charset=utf-8 85.131ms
2025-05-28 08:43:45.177 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5229/swagger/swagger-ui.css - null null
2025-05-28 08:43:45.177 +09:00 [DBG] Connection id "0HNCTF17ICDAF" accepted.
2025-05-28 08:43:45.177 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5229/swagger/index.css - null null
2025-05-28 08:43:45.177 +09:00 [DBG] Connection id "0HNCTF17ICDAF" started.
2025-05-28 08:43:45.177 +09:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2025-05-28 08:43:45.177 +09:00 [DBG] Connection id "0HNCTF17ICDAG" accepted.
2025-05-28 08:43:45.177 +09:00 [DBG] Request did not match any endpoints
2025-05-28 08:43:45.178 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5229/swagger/swagger-ui-bundle.js - null null
2025-05-28 08:43:45.178 +09:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2025-05-28 08:43:45.178 +09:00 [DBG] Request did not match any endpoints
2025-05-28 08:43:45.178 +09:00 [DBG] Connection id "0HNCTF17ICDAG" started.
2025-05-28 08:43:45.177 +09:00 [DBG] No candidates found for the request path '/swagger/index.css'
2025-05-28 08:43:45.178 +09:00 [DBG] Request did not match any endpoints
2025-05-28 08:43:45.178 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5229/swagger/swagger-ui-standalone-preset.js - null null
2025-05-28 08:43:45.181 +09:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2025-05-28 08:43:45.178 +09:00 [DBG] Connection id "0HNCTF17ICDAH" accepted.
2025-05-28 08:43:45.181 +09:00 [DBG] Request did not match any endpoints
2025-05-28 08:43:45.182 +09:00 [DBG] Connection id "0HNCTF17ICDAH" started.
2025-05-28 08:43:45.182 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5229/swagger/index.js - null null
2025-05-28 08:43:45.182 +09:00 [DBG] No candidates found for the request path '/swagger/index.js'
2025-05-28 08:43:45.183 +09:00 [DBG] Request did not match any endpoints
2025-05-28 08:43:45.183 +09:00 [DBG] Connection id "0HNCTF17ICDAH" completed keep alive response.
2025-05-28 08:43:45.183 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5229/swagger/index.js - 200 null application/javascript;charset=utf-8 1.1227ms
2025-05-28 08:43:45.189 +09:00 [INF] Sending file. Request path: '/index.css'. Physical path: 'N/A'
2025-05-28 08:43:45.190 +09:00 [DBG] Connection id "0HNCTF17ICDAE" completed keep alive response.
2025-05-28 08:43:45.190 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5229/swagger/index.css - 200 202 text/css 12.6268ms
2025-05-28 08:43:45.223 +09:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-05-28 08:43:45.226 +09:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-05-28 08:43:45.227 +09:00 [DBG] Connection id "0HNCTF17ICDAD" completed keep alive response.
2025-05-28 08:43:45.227 +09:00 [DBG] Connection id "0HNCTF17ICDAG" completed keep alive response.
2025-05-28 08:43:45.227 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5229/swagger/swagger-ui-standalone-preset.js - 200 229223 text/javascript 49.0896ms
2025-05-28 08:43:45.227 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5229/swagger/swagger-ui.css - 200 154949 text/css 49.8934ms
2025-05-28 08:43:45.239 +09:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-05-28 08:43:45.239 +09:00 [DBG] Connection id "0HNCTF17ICDAF" completed keep alive response.
2025-05-28 08:43:45.239 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5229/swagger/swagger-ui-bundle.js - 200 1484234 text/javascript 61.6391ms
2025-05-28 08:43:45.404 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5229/swagger/v1/swagger.json - null null
2025-05-28 08:43:45.405 +09:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-05-28 08:43:45.405 +09:00 [DBG] Request did not match any endpoints
2025-05-28 08:43:45.405 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5229/swagger/favicon-32x32.png - null null
2025-05-28 08:43:45.405 +09:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2025-05-28 08:43:45.405 +09:00 [DBG] Request did not match any endpoints
2025-05-28 08:43:45.406 +09:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-05-28 08:43:45.406 +09:00 [DBG] Connection id "0HNCTF17ICDAG" completed keep alive response.
2025-05-28 08:43:45.406 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5229/swagger/favicon-32x32.png - 200 628 image/png 0.738ms
2025-05-28 08:43:45.425 +09:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-05-28 08:43:45.471 +09:00 [DBG] Connection id "0HNCTF17ICDAF" completed keep alive response.
2025-05-28 08:43:45.471 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5229/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 66.8938ms
2025-05-28 08:43:48.706 +09:00 [DBG] Connection id "0HNCTF17ICDAH" received FIN.
2025-05-28 08:43:48.707 +09:00 [DBG] Connection id "0HNCTF17ICDAH" disconnecting.
2025-05-28 08:43:48.707 +09:00 [DBG] Connection id "0HNCTF17ICDAD" received FIN.
2025-05-28 08:43:48.708 +09:00 [DBG] Connection id "0HNCTF17ICDAD" disconnecting.
2025-05-28 08:43:48.707 +09:00 [DBG] Connection id "0HNCTF17ICDAG" received FIN.
2025-05-28 08:43:48.708 +09:00 [DBG] Connection id "0HNCTF17ICDAD" stopped.
2025-05-28 08:43:48.708 +09:00 [DBG] Connection id "0HNCTF17ICDAG" disconnecting.
2025-05-28 08:43:48.706 +09:00 [DBG] Connection id "0HNCTF17ICDAE" received FIN.
2025-05-28 08:43:48.709 +09:00 [DBG] Connection id "0HNCTF17ICDAD" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-28 08:43:48.710 +09:00 [DBG] Connection id "0HNCTF17ICDAG" stopped.
2025-05-28 08:43:48.707 +09:00 [DBG] Connection id "0HNCTF17ICDAF" received FIN.
2025-05-28 08:43:48.711 +09:00 [DBG] Connection id "0HNCTF17ICDAE" disconnecting.
2025-05-28 08:43:48.711 +09:00 [DBG] Connection id "0HNCTF17ICDAE" stopped.
2025-05-28 08:43:48.708 +09:00 [DBG] Connection id "0HNCTF17ICDAH" stopped.
2025-05-28 08:43:48.711 +09:00 [DBG] Connection id "0HNCTF17ICDAG" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-28 08:43:48.711 +09:00 [DBG] Connection id "0HNCTF17ICDAF" disconnecting.
2025-05-28 08:43:48.711 +09:00 [DBG] Connection id "0HNCTF17ICDAF" stopped.
2025-05-28 08:43:48.712 +09:00 [DBG] Connection id "0HNCTF17ICDAE" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-28 08:43:48.713 +09:00 [DBG] Connection id "0HNCTF17ICDAH" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-28 08:43:48.713 +09:00 [DBG] Connection id "0HNCTF17ICDAF" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-28 08:44:02.116 +09:00 [DBG] Connection id "0HNCTF17ICDAI" accepted.
2025-05-28 08:44:02.117 +09:00 [DBG] Connection id "0HNCTF17ICDAI" started.
2025-05-28 08:44:02.118 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5229/api/ApprovalRequest/my-requests/EC20505 - null null
2025-05-28 08:44:02.126 +09:00 [DBG] 1 candidate(s) found for the request path '/api/ApprovalRequest/my-requests/EC20505'
2025-05-28 08:44:02.127 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)' with route pattern 'api/ApprovalRequest/my-requests/{userId}' is valid for the request path '/api/ApprovalRequest/my-requests/EC20505'
2025-05-28 08:44:02.128 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-05-28 08:44:02.131 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-28 08:44:02.132 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-05-28 08:44:02.155 +09:00 [INF] Route matched with {action = "GetMyRequests", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyRequests(System.String) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-05-28 08:44:02.156 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-28 08:44:02.156 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-28 08:44:02.156 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-28 08:44:02.156 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-28 08:44:02.157 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-28 08:44:02.158 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-05-28 08:44:02.164 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API) in 4.471ms
2025-05-28 08:44:02.165 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-05-28 08:44:02.165 +09:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'ApprovalService.Domain.Interfaces.IApprovalRequestRepository`1[ApprovalService.Domain.Entities.ApprovalRequest]' while attempting to activate 'ApprovalService.API.Controllers.ApprovalRequestController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method17(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-28 08:44:02.197 +09:00 [DBG] Connection id "0HNCTF17ICDAI" completed keep alive response.
2025-05-28 08:44:02.198 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5229/api/ApprovalRequest/my-requests/EC20505 - 500 null text/plain; charset=utf-8 79.2084ms
2025-05-28 08:44:03.709 +09:00 [DBG] Connection id "0HNCTF17ICDAI" received FIN.
2025-05-28 08:44:03.709 +09:00 [DBG] Connection id "0HNCTF17ICDAI" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-28 08:44:03.710 +09:00 [DBG] Connection id "0HNCTF17ICDAI" disconnecting.
2025-05-28 08:44:03.710 +09:00 [DBG] Connection id "0HNCTF17ICDAI" stopped.
2025-05-28 08:44:35.073 +09:00 [DBG] Connection id "0HNCTF17ICDAJ" accepted.
2025-05-28 08:44:35.098 +09:00 [DBG] Connection id "0HNCTF17ICDAJ" started.
2025-05-28 08:44:35.101 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5229/api/ApprovalRequest/my-requests/EC20505 - null null
2025-05-28 08:44:35.104 +09:00 [DBG] 1 candidate(s) found for the request path '/api/ApprovalRequest/my-requests/EC20505'
2025-05-28 08:44:35.104 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)' with route pattern 'api/ApprovalRequest/my-requests/{userId}' is valid for the request path '/api/ApprovalRequest/my-requests/EC20505'
2025-05-28 08:44:35.104 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-05-28 08:44:35.105 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-28 08:44:35.105 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-05-28 08:44:35.106 +09:00 [INF] Route matched with {action = "GetMyRequests", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyRequests(System.String) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-05-28 08:44:35.106 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-28 08:44:35.106 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-28 08:44:35.107 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-28 08:44:35.107 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-28 08:44:35.107 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-28 08:44:35.107 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-05-28 08:44:35.108 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API) in 0.9584ms
2025-05-28 08:44:35.108 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-05-28 08:44:35.109 +09:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'ApprovalService.Domain.Interfaces.IApprovalRequestRepository`1[ApprovalService.Domain.Entities.ApprovalRequest]' while attempting to activate 'ApprovalService.API.Controllers.ApprovalRequestController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method17(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-28 08:44:35.114 +09:00 [DBG] Connection id "0HNCTF17ICDAJ" completed keep alive response.
2025-05-28 08:44:35.114 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5229/api/ApprovalRequest/my-requests/EC20505 - 500 null text/plain; charset=utf-8 12.9232ms
2025-05-28 08:44:38.713 +09:00 [DBG] Connection id "0HNCTF17ICDAJ" received FIN.
2025-05-28 08:44:38.714 +09:00 [DBG] Connection id "0HNCTF17ICDAJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-28 08:44:38.714 +09:00 [DBG] Connection id "0HNCTF17ICDAJ" disconnecting.
2025-05-28 08:44:38.714 +09:00 [DBG] Connection id "0HNCTF17ICDAJ" stopped.
2025-05-28 08:45:05.591 +09:00 [DBG] Connection id "0HNCTF17ICDAK" accepted.
2025-05-28 08:45:05.592 +09:00 [DBG] Connection id "0HNCTF17ICDAK" started.
2025-05-28 08:45:05.592 +09:00 [DBG] Connection id "0HNCTF17ICDAL" accepted.
2025-05-28 08:45:05.592 +09:00 [DBG] Connection id "0HNCTF17ICDAL" started.
2025-05-28 08:45:05.625 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5229/swagger/index.html - null null
2025-05-28 08:45:05.626 +09:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-05-28 08:45:05.626 +09:00 [DBG] Request did not match any endpoints
2025-05-28 08:45:05.630 +09:00 [DBG] Connection id "0HNCTF17ICDAK" completed keep alive response.
2025-05-28 08:45:05.630 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5229/swagger/index.html - 200 null text/html;charset=utf-8 5.4986ms
2025-05-28 08:45:05.793 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5229/swagger/v1/swagger.json - null null
2025-05-28 08:45:05.795 +09:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-05-28 08:45:05.795 +09:00 [DBG] Request did not match any endpoints
2025-05-28 08:45:05.809 +09:00 [DBG] Connection id "0HNCTF17ICDAK" completed keep alive response.
2025-05-28 08:45:05.810 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5229/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 16.7556ms
2025-05-28 08:45:08.717 +09:00 [DBG] Connection id "0HNCTF17ICDAK" received FIN.
2025-05-28 08:45:08.717 +09:00 [DBG] Connection id "0HNCTF17ICDAK" disconnecting.
2025-05-28 08:45:08.717 +09:00 [DBG] Connection id "0HNCTF17ICDAK" stopped.
2025-05-28 08:45:08.717 +09:00 [DBG] Connection id "0HNCTF17ICDAK" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-28 08:45:08.717 +09:00 [DBG] Connection id "0HNCTF17ICDAL" received FIN.
2025-05-28 08:45:08.718 +09:00 [DBG] Connection id "0HNCTF17ICDAL" disconnecting.
2025-05-28 08:45:08.718 +09:00 [DBG] Connection id "0HNCTF17ICDAL" stopped.
2025-05-28 08:45:08.718 +09:00 [DBG] Connection id "0HNCTF17ICDAL" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-28 08:45:35.489 +09:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-05-28 08:45:35.621 +09:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-05-28 08:45:35.934 +09:00 [DBG] The property 'Approver.ApprovalId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-05-28 08:45:35.980 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-28 08:45:35.986 +09:00 [DBG] Creating DbConnection.
2025-05-28 08:45:35.994 +09:00 [DBG] Created DbConnection. (6ms).
2025-05-28 08:45:35.996 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 08:45:36.007 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 08:45:36.010 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 08:45:36.012 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 08:45:36.014 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-28 08:45:36.014 +09:00 [DBG] Creating DbConnection.
2025-05-28 08:45:36.014 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-28 08:45:36.017 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2025-05-28 08:45:36.017 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (3ms).
2025-05-28 08:45:36.017 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 08:45:36.018 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 08:45:36.021 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-28 08:45:36.035 +09:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-28 08:45:36.036 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 08:45:36.037 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (1ms).
2025-05-28 08:45:36.040 +09:00 [DBG] Creating DbConnection.
2025-05-28 08:45:36.040 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-28 08:45:36.040 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 08:45:36.040 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 08:45:36.040 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 08:45:36.040 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 08:45:36.040 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-28 08:45:36.040 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-05-28 08:45:36.040 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-05-28 08:45:36.040 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 08:45:36.040 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 08:45:36.041 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-28 08:45:36.041 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-28 08:45:36.041 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 08:45:36.041 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 08:45:36.065 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .Any()'
2025-05-28 08:45:36.163 +09:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-05-28 08:45:36.175 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 08:45:36.176 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 08:45:36.176 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-28 08:45:36.176 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-28 08:45:36.176 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-28 08:45:36.176 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-05-28 08:45:36.177 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-05-28 08:45:36.179 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 08:45:36.180 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 2ms reading results.
2025-05-28 08:45:36.181 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 08:45:36.181 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 08:45:36.182 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-28 08:45:36.182 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 08:45:36.182 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 08:45:36.184 +09:00 [DBG] Hosting starting
2025-05-28 08:45:36.216 +09:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-05-28 08:45:36.216 +09:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-05-28 08:45:36.234 +09:00 [INF] Now listening on: http://localhost:5229
2025-05-28 08:45:36.234 +09:00 [DBG] Loaded hosting startup assembly ApprovalService.API
2025-05-28 08:45:36.234 +09:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-28 08:45:36.235 +09:00 [INF] Hosting environment: Development
2025-05-28 08:45:36.235 +09:00 [INF] Content root path: /Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API
2025-05-28 08:45:36.235 +09:00 [DBG] Hosting started
2025-05-28 08:45:47.565 +09:00 [DBG] Connection id "0HNCTF2DD6F71" accepted.
2025-05-28 08:45:47.566 +09:00 [DBG] Connection id "0HNCTF2DD6F71" started.
2025-05-28 08:45:47.598 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5229/api/ApprovalRequest/my-requests/aaa - null null
2025-05-28 08:45:47.616 +09:00 [DBG] 1 candidate(s) found for the request path '/api/ApprovalRequest/my-requests/aaa'
2025-05-28 08:45:47.618 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)' with route pattern 'api/ApprovalRequest/my-requests/{userId}' is valid for the request path '/api/ApprovalRequest/my-requests/aaa'
2025-05-28 08:45:47.619 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-05-28 08:45:47.638 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-28 08:45:47.639 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-05-28 08:45:47.671 +09:00 [INF] Route matched with {action = "GetMyRequests", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyRequests(System.String) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-05-28 08:45:47.671 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-28 08:45:47.672 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-28 08:45:47.672 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-28 08:45:47.672 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-28 08:45:47.672 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-28 08:45:47.673 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-05-28 08:45:47.679 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API) in 4.5402ms
2025-05-28 08:45:47.682 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-05-28 08:45:47.682 +09:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'ApprovalService.Domain.Interfaces.IApprovalRequestRepository`1[ApprovalService.Domain.Entities.ApprovalRequest]' while attempting to activate 'ApprovalService.API.Controllers.ApprovalRequestController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method17(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-28 08:45:47.708 +09:00 [DBG] Connection id "0HNCTF2DD6F71" completed keep alive response.
2025-05-28 08:45:47.712 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5229/api/ApprovalRequest/my-requests/aaa - 500 null text/plain; charset=utf-8 115.4048ms
2025-05-28 08:45:48.723 +09:00 [DBG] Connection id "0HNCTF2DD6F71" received FIN.
2025-05-28 08:45:48.724 +09:00 [DBG] Connection id "0HNCTF2DD6F71" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-28 08:45:48.733 +09:00 [DBG] Connection id "0HNCTF2DD6F71" disconnecting.
2025-05-28 08:45:48.735 +09:00 [DBG] Connection id "0HNCTF2DD6F71" stopped.
2025-05-28 08:45:58.044 +09:00 [DBG] Connection id "0HNCTF2DD6F72" accepted.
2025-05-28 08:45:58.046 +09:00 [DBG] Connection id "0HNCTF2DD6F72" started.
2025-05-28 08:45:58.048 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5229/api/Approval - null null
2025-05-28 08:45:58.049 +09:00 [DBG] 1 candidate(s) found for the request path '/api/Approval'
2025-05-28 08:45:58.050 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)' with route pattern 'api/Approval' is valid for the request path '/api/Approval'
2025-05-28 08:45:58.050 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-28 08:45:58.060 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-28 08:45:58.060 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-28 08:45:58.064 +09:00 [INF] Route matched with {action = "GetAll", controller = "Approval"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API).
2025-05-28 08:45:58.064 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-28 08:45:58.064 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-28 08:45:58.064 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-28 08:45:58.064 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-28 08:45:58.064 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-28 08:45:58.064 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-28 08:45:58.066 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalController (ApprovalService.API)
2025-05-28 08:46:04.127 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-28 08:46:04.131 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()'
2025-05-28 08:46:04.189 +09:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<ApprovalRequest>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApprovalRequest.ApprovalId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApprovalRequest.ApplicantDepartment (string), 1], [Property: ApprovalRequest.ApplicantEmployeeNumber (string) Required, 2], [Property: ApprovalRequest.ApplicantName (string) Required, 3], [Property: ApprovalRequest.ApplicantPosition (string), 4], [Property: ApprovalRequest.ApprovalType (string), 5], [Property: ApprovalRequest.ApproverComment (string), 6], [Property: ApprovalRequest.MisKey (string), 7], [Property: ApprovalRequest.RequestContent (string), 8], [Property: ApprovalRequest.RequestTitle (string) Required, 9], [Property: ApprovalRequest.RequestedAt (DateTime) Required, 10], [Property: ApprovalRequest.RespondedAt (DateTime?), 11], [Property: ApprovalRequest.Status (string) Required, 12] }
        SELECT a.ApprovalId, a.ApplicantDepartment, a.ApplicantEmployeeNumber, a.ApplicantName, a.ApplicantPosition, a.ApprovalType, a.ApproverComment, a.MisKey, a.RequestContent, a.RequestTitle, a.RequestedAt, a.RespondedAt, a.Status
        FROM ApprovalRequests AS a) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApprovalRequest.ApprovalId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApprovalRequest.ApplicantDepartment (string), 1], [Property: ApprovalRequest.ApplicantEmployeeNumber (string) Required, 2], [Property: ApprovalRequest.ApplicantName (string) Required, 3], [Property: ApprovalRequest.ApplicantPosition (string), 4], [Property: ApprovalRequest.ApprovalType (string), 5], [Property: ApprovalRequest.ApproverComment (string), 6], [Property: ApprovalRequest.MisKey (string), 7], [Property: ApprovalRequest.RequestContent (string), 8], [Property: ApprovalRequest.RequestTitle (string) Required, 9], [Property: ApprovalRequest.RequestedAt (DateTime) Required, 10], [Property: ApprovalRequest.RespondedAt (DateTime?), 11], [Property: ApprovalRequest.Status (string) Required, 12] }
        SELECT a.ApprovalId, a.ApplicantDepartment, a.ApplicantEmployeeNumber, a.ApplicantName, a.ApplicantPosition, a.ApprovalType, a.ApproverComment, a.MisKey, a.RequestContent, a.RequestTitle, a.RequestedAt, a.RespondedAt, a.Status
        FROM ApprovalRequests AS a, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        ApprovalRequest entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            ApprovalRequest instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(ApprovalRequest);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: ApprovalRequest.ApprovalId PK | Resolver: c => c.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (ApprovalRequest)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")]: 
                        {
                            return 
                            {
                                ApprovalRequest instance;
                                instance = new ApprovalRequest();
                                instance.<ApprovalId>k__BackingField = dataReader.GetGuid(0);
                                instance.<ApplicantDepartment>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                instance.<ApplicantEmployeeNumber>k__BackingField = dataReader.GetString(2);
                                instance.<ApplicantName>k__BackingField = dataReader.GetString(3);
                                instance.<ApplicantPosition>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                instance.<ApprovalType>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                instance.<ApproverComment>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                instance.<MisKey>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                instance.<RequestContent>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                instance.<RequestTitle>k__BackingField = dataReader.GetString(9);
                                instance.<RequestedAt>k__BackingField = dataReader.GetDateTime(10);
                                instance.<RespondedAt>k__BackingField = dataReader.IsDBNull(11) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(11);
                                instance.<Status>k__BackingField = dataReader.GetString(12);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(ApprovalRequest)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-05-28 08:46:04.194 +09:00 [DBG] Creating DbConnection.
2025-05-28 08:46:04.194 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-28 08:46:04.195 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 08:46:04.196 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 08:46:04.197 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-28 08:46:04.197 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-28 08:46:04.198 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-28 08:46:04.198 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
2025-05-28 08:46:04.207 +09:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
2025-05-28 08:46:04.229 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 08:46:04.247 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 08:46:04.248 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 08:46:04.248 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 40ms reading results.
2025-05-28 08:46:04.248 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 08:46:04.249 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 08:46:04.257 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-28 08:46:04.259 +09:00 [DBG] No information found on request to perform content negotiation.
2025-05-28 08:46:04.259 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-28 08:46:04.260 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-28 08:46:04.260 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-28 08:46:04.260 +09:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ApprovalService.Domain.Entities.ApprovalRequest, ApprovalService.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 08:46:04.306 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API) in 6241.6205ms
2025-05-28 08:46:04.306 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalController.GetAll (ApprovalService.API)'
2025-05-28 08:46:04.306 +09:00 [DBG] Connection id "0HNCTF2DD6F72" completed keep alive response.
2025-05-28 08:46:04.307 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-28 08:46:04.308 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 08:46:04.309 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 08:46:04.310 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5229/api/Approval - 200 null application/json; charset=utf-8 6261.3803ms
2025-05-28 08:46:08.766 +09:00 [DBG] Connection id "0HNCTF2DD6F72" received FIN.
2025-05-28 08:46:08.767 +09:00 [DBG] Connection id "0HNCTF2DD6F72" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-28 08:46:08.767 +09:00 [DBG] Connection id "0HNCTF2DD6F72" disconnecting.
2025-05-28 08:46:08.769 +09:00 [DBG] Connection id "0HNCTF2DD6F72" stopped.
2025-05-28 08:47:47.764 +09:00 [DBG] Connection id "0HNCTF2DD6F73" accepted.
2025-05-28 08:47:47.766 +09:00 [DBG] Connection id "0HNCTF2DD6F73" started.
2025-05-28 08:47:47.768 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5229/api/ApprovalRequest/my-requests/aaa - null null
2025-05-28 08:47:47.771 +09:00 [DBG] 1 candidate(s) found for the request path '/api/ApprovalRequest/my-requests/aaa'
2025-05-28 08:47:47.771 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)' with route pattern 'api/ApprovalRequest/my-requests/{userId}' is valid for the request path '/api/ApprovalRequest/my-requests/aaa'
2025-05-28 08:47:47.771 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-05-28 08:47:47.775 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-28 08:47:47.775 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-05-28 08:47:47.776 +09:00 [INF] Route matched with {action = "GetMyRequests", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyRequests(System.String) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-05-28 08:47:47.776 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-28 08:47:47.777 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-28 08:47:47.777 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-28 08:47:47.777 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-28 08:47:47.777 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-28 08:47:47.778 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-05-28 08:47:47.781 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API) in 3.13ms
2025-05-28 08:47:47.782 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-05-28 08:47:47.783 +09:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'ApprovalService.Domain.Interfaces.IApprovalRequestRepository`1[ApprovalService.Domain.Entities.ApprovalRequest]' while attempting to activate 'ApprovalService.API.Controllers.ApprovalRequestController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method17(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-28 08:47:47.796 +09:00 [DBG] Connection id "0HNCTF2DD6F73" completed keep alive response.
2025-05-28 08:47:47.797 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5229/api/ApprovalRequest/my-requests/aaa - 500 null text/plain; charset=utf-8 28.4745ms
2025-05-28 08:47:48.780 +09:00 [DBG] Connection id "0HNCTF2DD6F73" received FIN.
2025-05-28 08:47:48.780 +09:00 [DBG] Connection id "0HNCTF2DD6F73" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-28 08:47:48.781 +09:00 [DBG] Connection id "0HNCTF2DD6F73" disconnecting.
2025-05-28 08:47:48.781 +09:00 [DBG] Connection id "0HNCTF2DD6F73" stopped.
2025-05-28 08:51:50.335 +09:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-05-28 08:51:50.463 +09:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-05-28 08:51:50.748 +09:00 [DBG] The property 'Approver.ApprovalId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-05-28 08:51:50.795 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-28 08:51:50.800 +09:00 [DBG] Creating DbConnection.
2025-05-28 08:51:50.807 +09:00 [DBG] Created DbConnection. (6ms).
2025-05-28 08:51:50.809 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 08:51:50.817 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 08:51:50.820 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 08:51:50.822 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 08:51:50.824 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-28 08:51:50.824 +09:00 [DBG] Creating DbConnection.
2025-05-28 08:51:50.824 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-28 08:51:50.826 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2025-05-28 08:51:50.827 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (3ms).
2025-05-28 08:51:50.827 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 08:51:50.828 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 08:51:50.830 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-28 08:51:50.844 +09:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-28 08:51:50.845 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 08:51:50.846 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (1ms).
2025-05-28 08:51:50.848 +09:00 [DBG] Creating DbConnection.
2025-05-28 08:51:50.848 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-28 08:51:50.848 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 08:51:50.849 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 08:51:50.849 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 08:51:50.849 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 08:51:50.849 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-28 08:51:50.849 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-05-28 08:51:50.849 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-05-28 08:51:50.849 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 08:51:50.849 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 08:51:50.849 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-28 08:51:50.849 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-28 08:51:50.849 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 08:51:50.849 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 08:51:50.874 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .Any()'
2025-05-28 08:51:51.188 +09:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-05-28 08:51:51.290 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 08:51:51.291 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 08:51:51.291 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-28 08:51:51.291 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-28 08:51:51.292 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-28 08:51:51.292 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-05-28 08:51:51.293 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-05-28 08:51:51.313 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 08:51:51.316 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 19ms reading results.
2025-05-28 08:51:51.323 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 08:51:51.324 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (1ms).
2025-05-28 08:51:51.325 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-28 08:51:51.326 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 08:51:51.326 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 08:51:51.328 +09:00 [DBG] Hosting starting
2025-05-28 08:51:51.424 +09:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-05-28 08:51:51.424 +09:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-05-28 08:51:51.453 +09:00 [INF] Now listening on: http://localhost:5229
2025-05-28 08:51:51.453 +09:00 [DBG] Loaded hosting startup assembly ApprovalService.API
2025-05-28 08:51:51.456 +09:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-28 08:51:51.457 +09:00 [INF] Hosting environment: Development
2025-05-28 08:51:51.457 +09:00 [INF] Content root path: /Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API
2025-05-28 08:51:51.457 +09:00 [DBG] Hosting started
2025-05-28 08:52:05.929 +09:00 [DBG] Connection id "0HNCTF5U5HQ6D" accepted.
2025-05-28 08:52:05.930 +09:00 [DBG] Connection id "0HNCTF5U5HQ6D" started.
2025-05-28 08:52:05.979 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5229/api/ApprovalRequest/my-requests/EC20505 - null null
2025-05-28 08:52:06.039 +09:00 [DBG] 1 candidate(s) found for the request path '/api/ApprovalRequest/my-requests/EC20505'
2025-05-28 08:52:06.041 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)' with route pattern 'api/ApprovalRequest/my-requests/{userId}' is valid for the request path '/api/ApprovalRequest/my-requests/EC20505'
2025-05-28 08:52:06.042 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-05-28 08:52:06.057 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-28 08:52:06.057 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-05-28 08:52:06.068 +09:00 [INF] Route matched with {action = "GetMyRequests", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyRequests(System.String) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-05-28 08:52:06.068 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-28 08:52:06.068 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-28 08:52:06.069 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-28 08:52:06.069 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-28 08:52:06.069 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-28 08:52:06.070 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-05-28 08:52:09.112 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-05-28 08:52:09.123 +09:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-05-28 08:52:09.125 +09:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-05-28 08:52:09.125 +09:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-05-28 08:52:09.126 +09:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-05-28 08:52:09.126 +09:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-05-28 08:52:09.132 +09:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-05-28 08:53:22.371 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-28 08:53:22.382 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .Where(request => EF.Property<string>(request, "ApplicantEmployeeNumber") == __userId_0)'
2025-05-28 08:53:22.430 +09:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<ApprovalRequest>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApprovalRequest.ApprovalId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApprovalRequest.ApplicantDepartment (string), 1], [Property: ApprovalRequest.ApplicantEmployeeNumber (string) Required, 2], [Property: ApprovalRequest.ApplicantName (string) Required, 3], [Property: ApprovalRequest.ApplicantPosition (string), 4], [Property: ApprovalRequest.ApprovalType (string), 5], [Property: ApprovalRequest.ApproverComment (string), 6], [Property: ApprovalRequest.MisKey (string), 7], [Property: ApprovalRequest.RequestContent (string), 8], [Property: ApprovalRequest.RequestTitle (string) Required, 9], [Property: ApprovalRequest.RequestedAt (DateTime) Required, 10], [Property: ApprovalRequest.RespondedAt (DateTime?), 11], [Property: ApprovalRequest.Status (string) Required, 12] }
        SELECT a.ApprovalId, a.ApplicantDepartment, a.ApplicantEmployeeNumber, a.ApplicantName, a.ApplicantPosition, a.ApprovalType, a.ApproverComment, a.MisKey, a.RequestContent, a.RequestTitle, a.RequestedAt, a.RespondedAt, a.Status
        FROM ApprovalRequests AS a
        WHERE a.ApplicantEmployeeNumber == @__userId_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApprovalRequest.ApprovalId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApprovalRequest.ApplicantDepartment (string), 1], [Property: ApprovalRequest.ApplicantEmployeeNumber (string) Required, 2], [Property: ApprovalRequest.ApplicantName (string) Required, 3], [Property: ApprovalRequest.ApplicantPosition (string), 4], [Property: ApprovalRequest.ApprovalType (string), 5], [Property: ApprovalRequest.ApproverComment (string), 6], [Property: ApprovalRequest.MisKey (string), 7], [Property: ApprovalRequest.RequestContent (string), 8], [Property: ApprovalRequest.RequestTitle (string) Required, 9], [Property: ApprovalRequest.RequestedAt (DateTime) Required, 10], [Property: ApprovalRequest.RespondedAt (DateTime?), 11], [Property: ApprovalRequest.Status (string) Required, 12] }
        SELECT a.ApprovalId, a.ApplicantDepartment, a.ApplicantEmployeeNumber, a.ApplicantName, a.ApplicantPosition, a.ApprovalType, a.ApproverComment, a.MisKey, a.RequestContent, a.RequestTitle, a.RequestedAt, a.RespondedAt, a.Status
        FROM ApprovalRequests AS a
        WHERE a.ApplicantEmployeeNumber == @__userId_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        ApprovalRequest entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            ApprovalRequest instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(ApprovalRequest);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: ApprovalRequest.ApprovalId PK | Resolver: c => c.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (ApprovalRequest)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")]: 
                        {
                            return 
                            {
                                ApprovalRequest instance;
                                instance = new ApprovalRequest();
                                instance.<ApprovalId>k__BackingField = dataReader.GetGuid(0);
                                instance.<ApplicantDepartment>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                instance.<ApplicantEmployeeNumber>k__BackingField = dataReader.GetString(2);
                                instance.<ApplicantName>k__BackingField = dataReader.GetString(3);
                                instance.<ApplicantPosition>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                instance.<ApprovalType>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                instance.<ApproverComment>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                instance.<MisKey>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                instance.<RequestContent>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                instance.<RequestTitle>k__BackingField = dataReader.GetString(9);
                                instance.<RequestedAt>k__BackingField = dataReader.GetDateTime(10);
                                instance.<RespondedAt>k__BackingField = dataReader.IsDBNull(11) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(11);
                                instance.<Status>k__BackingField = dataReader.GetString(12);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(ApprovalRequest)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-05-28 08:53:22.440 +09:00 [DBG] Creating DbConnection.
2025-05-28 08:53:22.440 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-28 08:53:22.440 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 08:53:22.441 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 08:53:22.441 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-28 08:53:22.441 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-28 08:53:22.444 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-28 08:53:22.445 +09:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApplicantEmployeeNumber" = @__userId_0
2025-05-28 08:53:22.448 +09:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApplicantEmployeeNumber" = @__userId_0
2025-05-28 08:53:22.448 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 08:53:22.448 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 0ms reading results.
2025-05-28 08:53:22.449 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 08:53:22.449 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 08:53:22.451 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-28 08:53:22.452 +09:00 [DBG] No information found on request to perform content negotiation.
2025-05-28 08:53:22.453 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-28 08:53:22.453 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-28 08:53:22.453 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-28 08:53:22.453 +09:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ApprovalService.Domain.Entities.ApprovalRequest, ApprovalService.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 08:53:22.498 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API) in 76430.5831ms
2025-05-28 08:53:22.502 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-05-28 08:53:22.502 +09:00 [DBG] Connection id "0HNCTF5U5HQ6D" completed keep alive response.
2025-05-28 08:53:22.505 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-28 08:53:22.528 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 08:53:22.535 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (20ms).
2025-05-28 08:53:22.647 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5229/api/ApprovalRequest/my-requests/EC20505 - 200 null application/json; charset=utf-8 76608.3759ms
2025-05-28 08:53:23.890 +09:00 [DBG] Connection id "0HNCTF5U5HQ6D" received FIN.
2025-05-28 08:53:23.893 +09:00 [DBG] Connection id "0HNCTF5U5HQ6D" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-28 08:53:23.899 +09:00 [DBG] Connection id "0HNCTF5U5HQ6D" disconnecting.
2025-05-28 08:53:23.903 +09:00 [DBG] Connection id "0HNCTF5U5HQ6D" stopped.
2025-05-28 08:53:34.557 +09:00 [DBG] Connection id "0HNCTF5U5HQ6E" accepted.
2025-05-28 08:53:34.558 +09:00 [DBG] Connection id "0HNCTF5U5HQ6E" started.
2025-05-28 08:53:34.565 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5229/api/ApprovalRequest/my-requests/2001 - null null
2025-05-28 08:53:34.568 +09:00 [DBG] 1 candidate(s) found for the request path '/api/ApprovalRequest/my-requests/2001'
2025-05-28 08:53:34.569 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)' with route pattern 'api/ApprovalRequest/my-requests/{userId}' is valid for the request path '/api/ApprovalRequest/my-requests/2001'
2025-05-28 08:53:34.569 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-05-28 08:53:34.571 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-28 08:53:34.571 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-05-28 08:53:34.572 +09:00 [INF] Route matched with {action = "GetMyRequests", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyRequests(System.String) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-05-28 08:53:34.572 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-28 08:53:34.572 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-28 08:53:34.572 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-28 08:53:34.572 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-28 08:53:34.572 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-28 08:53:34.572 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-05-28 08:53:36.964 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-05-28 08:53:36.966 +09:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-05-28 08:53:36.967 +09:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-05-28 08:53:36.967 +09:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-05-28 08:53:36.967 +09:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-05-28 08:53:36.967 +09:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-05-28 08:53:36.969 +09:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-05-28 08:53:38.406 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-28 08:53:38.413 +09:00 [DBG] Creating DbConnection.
2025-05-28 08:53:38.413 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-28 08:53:38.414 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 08:53:38.414 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 08:53:38.414 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-28 08:53:38.415 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-28 08:53:38.415 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-28 08:53:38.415 +09:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApplicantEmployeeNumber" = @__userId_0
2025-05-28 08:53:38.416 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApplicantEmployeeNumber" = @__userId_0
2025-05-28 08:53:38.439 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 08:53:38.454 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 08:53:38.454 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 38ms reading results.
2025-05-28 08:53:38.454 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 08:53:38.454 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 08:53:38.455 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-28 08:53:38.455 +09:00 [DBG] No information found on request to perform content negotiation.
2025-05-28 08:53:38.455 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-28 08:53:38.455 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-28 08:53:38.455 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-28 08:53:38.455 +09:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ApprovalService.Domain.Entities.ApprovalRequest, ApprovalService.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 08:53:38.460 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API) in 3888.0254ms
2025-05-28 08:53:38.460 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-05-28 08:53:38.460 +09:00 [DBG] Connection id "0HNCTF5U5HQ6E" completed keep alive response.
2025-05-28 08:53:38.460 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-28 08:53:38.461 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 08:53:38.461 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 08:53:38.461 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5229/api/ApprovalRequest/my-requests/2001 - 200 null application/json; charset=utf-8 3896.4716ms
2025-05-28 08:53:38.886 +09:00 [DBG] Connection id "0HNCTF5U5HQ6E" received FIN.
2025-05-28 08:53:38.886 +09:00 [DBG] Connection id "0HNCTF5U5HQ6E" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-28 08:53:38.886 +09:00 [DBG] Connection id "0HNCTF5U5HQ6E" disconnecting.
2025-05-28 08:53:38.886 +09:00 [DBG] Connection id "0HNCTF5U5HQ6E" stopped.
2025-05-28 08:54:15.882 +09:00 [DBG] Connection id "0HNCTF5U5HQ6F" accepted.
2025-05-28 08:54:15.890 +09:00 [DBG] Connection id "0HNCTF5U5HQ6F" started.
2025-05-28 08:54:15.949 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5229/api/ApprovalRequest/my-requests/2002 - null null
2025-05-28 08:54:15.949 +09:00 [DBG] 1 candidate(s) found for the request path '/api/ApprovalRequest/my-requests/2002'
2025-05-28 08:54:15.950 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)' with route pattern 'api/ApprovalRequest/my-requests/{userId}' is valid for the request path '/api/ApprovalRequest/my-requests/2002'
2025-05-28 08:54:15.951 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-05-28 08:54:15.957 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-28 08:54:15.958 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-05-28 08:54:15.960 +09:00 [INF] Route matched with {action = "GetMyRequests", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyRequests(System.String) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-05-28 08:54:15.961 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-28 08:54:15.961 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-28 08:54:15.961 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-28 08:54:15.961 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-28 08:54:15.961 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-28 08:54:15.962 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-05-28 08:54:18.572 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-05-28 08:54:18.573 +09:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-05-28 08:54:18.573 +09:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-05-28 08:54:18.573 +09:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-05-28 08:54:18.573 +09:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-05-28 08:54:18.573 +09:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-05-28 08:54:18.574 +09:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-05-28 08:54:20.341 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-28 08:54:20.344 +09:00 [DBG] Creating DbConnection.
2025-05-28 08:54:20.344 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-28 08:54:20.345 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 08:54:20.345 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 08:54:20.345 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-28 08:54:20.345 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-28 08:54:20.346 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-28 08:54:20.346 +09:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApplicantEmployeeNumber" = @__userId_0
2025-05-28 08:54:20.347 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApplicantEmployeeNumber" = @__userId_0
2025-05-28 08:54:20.348 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 08:54:20.350 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 08:54:20.350 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 2ms reading results.
2025-05-28 08:54:20.350 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 08:54:20.350 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 08:54:20.351 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-28 08:54:20.351 +09:00 [DBG] No information found on request to perform content negotiation.
2025-05-28 08:54:20.351 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-28 08:54:20.351 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-28 08:54:20.351 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-28 08:54:20.351 +09:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ApprovalService.Domain.Entities.ApprovalRequest, ApprovalService.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 08:54:20.377 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API) in 4415.6645ms
2025-05-28 08:54:20.378 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-05-28 08:54:20.378 +09:00 [DBG] Connection id "0HNCTF5U5HQ6F" completed keep alive response.
2025-05-28 08:54:20.379 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-28 08:54:20.379 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 08:54:20.379 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 08:54:20.379 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5229/api/ApprovalRequest/my-requests/2002 - 200 null application/json; charset=utf-8 4430.5091ms
2025-05-28 08:54:23.887 +09:00 [DBG] Connection id "0HNCTF5U5HQ6F" received FIN.
2025-05-28 08:54:23.888 +09:00 [DBG] Connection id "0HNCTF5U5HQ6F" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-28 08:54:23.888 +09:00 [DBG] Connection id "0HNCTF5U5HQ6F" disconnecting.
2025-05-28 08:54:23.888 +09:00 [DBG] Connection id "0HNCTF5U5HQ6F" stopped.
2025-05-28 09:05:34.536 +09:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-05-28 09:05:34.704 +09:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-05-28 09:05:35.110 +09:00 [DBG] The property 'Approver.ApprovalId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-05-28 09:05:35.171 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-28 09:05:35.180 +09:00 [DBG] Creating DbConnection.
2025-05-28 09:05:35.193 +09:00 [DBG] Created DbConnection. (9ms).
2025-05-28 09:05:35.195 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 09:05:35.204 +09:00 [DBG] An error occurred using the connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 09:05:35.206 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 09:05:35.211 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (1ms).
2025-05-28 09:05:35.212 +09:00 [DBG] Creating DbConnection.
2025-05-28 09:05:35.212 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-28 09:05:35.212 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 09:05:35.216 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 09:05:35.219 +09:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-05-28 09:05:35.222 +09:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2025-05-28 09:05:35.222 +09:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (3ms).
2025-05-28 09:05:35.226 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2025-05-28 09:05:35.251 +09:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2025-05-28 09:05:35.252 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 09:05:35.253 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (1ms).
2025-05-28 09:05:35.310 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 09:05:35.310 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 09:05:35.311 +09:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-05-28 09:05:35.313 +09:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-05-28 09:05:35.313 +09:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-05-28 09:05:35.313 +09:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-05-28 09:05:35.313 +09:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-05-28 09:05:35.313 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ApprovalRequests" (
    "ApprovalId" TEXT NOT NULL CONSTRAINT "PK_ApprovalRequests" PRIMARY KEY,
    "RequestTitle" TEXT NOT NULL,
    "RequestContent" TEXT NULL,
    "ApplicantEmployeeNumber" TEXT NOT NULL,
    "ApplicantName" TEXT NOT NULL,
    "ApplicantPosition" TEXT NULL,
    "ApplicantDepartment" TEXT NULL,
    "Status" TEXT NOT NULL,
    "RequestedAt" TEXT NOT NULL,
    "RespondedAt" TEXT NULL,
    "ApproverComment" TEXT NULL,
    "ApprovalType" TEXT NULL,
    "MisKey" TEXT NULL
);
2025-05-28 09:05:35.314 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ApprovalRequests" (
    "ApprovalId" TEXT NOT NULL CONSTRAINT "PK_ApprovalRequests" PRIMARY KEY,
    "RequestTitle" TEXT NOT NULL,
    "RequestContent" TEXT NULL,
    "ApplicantEmployeeNumber" TEXT NOT NULL,
    "ApplicantName" TEXT NOT NULL,
    "ApplicantPosition" TEXT NULL,
    "ApplicantDepartment" TEXT NULL,
    "Status" TEXT NOT NULL,
    "RequestedAt" TEXT NOT NULL,
    "RespondedAt" TEXT NULL,
    "ApproverComment" TEXT NULL,
    "ApprovalType" TEXT NULL,
    "MisKey" TEXT NULL
);
2025-05-28 09:05:35.314 +09:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-05-28 09:05:35.315 +09:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-05-28 09:05:35.315 +09:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-05-28 09:05:35.315 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Approvals" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Approvals" PRIMARY KEY,
    "RequestId" TEXT NOT NULL,
    "Status" INTEGER NOT NULL,
    "ApproverEmployeeNumber" TEXT NOT NULL,
    "ApproverName" TEXT NOT NULL,
    "ApproverPosition" TEXT NOT NULL,
    "ApproverDepartment" TEXT NOT NULL,
    "Comments" TEXT NULL,
    "RequestedAt" TEXT NOT NULL,
    "RespondedAt" TEXT NULL
);
2025-05-28 09:05:35.316 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Approvals" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Approvals" PRIMARY KEY,
    "RequestId" TEXT NOT NULL,
    "Status" INTEGER NOT NULL,
    "ApproverEmployeeNumber" TEXT NOT NULL,
    "ApproverName" TEXT NOT NULL,
    "ApproverPosition" TEXT NOT NULL,
    "ApproverDepartment" TEXT NOT NULL,
    "Comments" TEXT NULL,
    "RequestedAt" TEXT NOT NULL,
    "RespondedAt" TEXT NULL
);
2025-05-28 09:05:35.320 +09:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-05-28 09:05:35.320 +09:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-05-28 09:05:35.320 +09:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-05-28 09:05:35.320 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ApprovalSteps" (
    "StepId" TEXT NOT NULL CONSTRAINT "PK_ApprovalSteps" PRIMARY KEY,
    "ApprovalId" TEXT NOT NULL,
    "ApproverEmployeeNumber" TEXT NOT NULL,
    "Sequence" INTEGER NOT NULL,
    "IsFinalApprover" INTEGER NOT NULL,
    "ActionStatus" TEXT NULL,
    "ActionDate" TEXT NULL,
    "Comment" TEXT NULL
);
2025-05-28 09:05:35.320 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ApprovalSteps" (
    "StepId" TEXT NOT NULL CONSTRAINT "PK_ApprovalSteps" PRIMARY KEY,
    "ApprovalId" TEXT NOT NULL,
    "ApproverEmployeeNumber" TEXT NOT NULL,
    "Sequence" INTEGER NOT NULL,
    "IsFinalApprover" INTEGER NOT NULL,
    "ActionStatus" TEXT NULL,
    "ActionDate" TEXT NULL,
    "Comment" TEXT NULL
);
2025-05-28 09:05:35.321 +09:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-05-28 09:05:35.321 +09:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-05-28 09:05:35.322 +09:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-05-28 09:05:35.322 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ApprovalTemplates" (
    "TemplateId" TEXT NOT NULL CONSTRAINT "PK_ApprovalTemplates" PRIMARY KEY,
    "TemplateName" TEXT NOT NULL,
    "TemplateContent" TEXT NULL,
    "CreatedByEmployeeNumber" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL
);
2025-05-28 09:05:35.325 +09:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ApprovalTemplates" (
    "TemplateId" TEXT NOT NULL CONSTRAINT "PK_ApprovalTemplates" PRIMARY KEY,
    "TemplateName" TEXT NOT NULL,
    "TemplateContent" TEXT NULL,
    "CreatedByEmployeeNumber" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL
);
2025-05-28 09:05:35.326 +09:00 [DBG] Committing transaction.
2025-05-28 09:05:35.327 +09:00 [DBG] Committed transaction.
2025-05-28 09:05:35.328 +09:00 [DBG] Disposing transaction.
2025-05-28 09:05:35.328 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 09:05:35.328 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 09:05:35.331 +09:00 [DBG] Creating DbConnection.
2025-05-28 09:05:35.331 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-28 09:05:35.331 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 09:05:35.332 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 09:05:35.333 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 09:05:35.333 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 09:05:35.333 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-28 09:05:35.333 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-05-28 09:05:35.333 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-05-28 09:05:35.333 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 09:05:35.334 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 09:05:35.334 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-28 09:05:35.336 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-28 09:05:35.336 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 09:05:35.336 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 09:05:35.357 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .Any()'
2025-05-28 09:05:35.441 +09:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-05-28 09:05:35.454 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 09:05:35.455 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 09:05:35.455 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-28 09:05:35.455 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-28 09:05:35.455 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-28 09:05:35.456 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-05-28 09:05:35.457 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-05-28 09:05:35.461 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 09:05:35.461 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 3ms reading results.
2025-05-28 09:05:35.463 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 09:05:35.463 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 09:05:35.507 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'Approval' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 09:05:35.519 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'Approver' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 09:05:35.529 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 09:05:35.536 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalStep' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 09:05:35.537 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 09:05:35.537 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalStep' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 09:05:35.541 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalTemplate' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 09:05:35.543 +09:00 [DBG] SaveChanges starting for 'ApprovalDbContext'.
2025-05-28 09:05:35.544 +09:00 [DBG] DetectChanges starting for 'ApprovalDbContext'.
2025-05-28 09:05:35.556 +09:00 [DBG] DetectChanges completed for 'ApprovalDbContext'.
2025-05-28 09:05:35.582 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 09:05:35.582 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 09:05:35.583 +09:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-05-28 09:05:35.583 +09:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-05-28 09:05:35.584 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-28 09:05:35.584 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-28 09:05:35.585 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-28 09:05:35.586 +09:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 5), @p2='?' (Size = 7), @p3='?' (Size = 11), @p4='?' (Size = 5), @p5='?' (Size = 2), @p6='?', @p7='?', @p8='?' (Size = 9), @p9='?' (Size = 5), @p10='?' (DbType = DateTime), @p11='?' (DbType = DateTime), @p12='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ApprovalRequests" ("ApprovalId", "ApplicantDepartment", "ApplicantEmployeeNumber", "ApplicantName", "ApplicantPosition", "ApprovalType", "ApproverComment", "MisKey", "RequestContent", "RequestTitle", "RequestedAt", "RespondedAt", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2025-05-28 09:05:35.588 +09:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 5), @p2='?' (Size = 7), @p3='?' (Size = 11), @p4='?' (Size = 5), @p5='?' (Size = 2), @p6='?', @p7='?', @p8='?' (Size = 9), @p9='?' (Size = 5), @p10='?' (DbType = DateTime), @p11='?' (DbType = DateTime), @p12='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ApprovalRequests" ("ApprovalId", "ApplicantDepartment", "ApplicantEmployeeNumber", "ApplicantName", "ApplicantPosition", "ApprovalType", "ApproverComment", "MisKey", "RequestContent", "RequestTitle", "RequestedAt", "RespondedAt", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2025-05-28 09:05:35.591 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 09:05:35.591 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 3ms reading results.
2025-05-28 09:05:35.591 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-28 09:05:35.592 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-28 09:05:35.592 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-28 09:05:35.592 +09:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 9), @p2='?' (Size = 7), @p3='?' (Size = 12), @p4='?' (Size = 12), @p5='?' (Size = 2), @p6='?', @p7='?', @p8='?' (Size = 14), @p9='?' (Size = 8), @p10='?' (DbType = DateTime), @p11='?' (DbType = DateTime), @p12='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ApprovalRequests" ("ApprovalId", "ApplicantDepartment", "ApplicantEmployeeNumber", "ApplicantName", "ApplicantPosition", "ApprovalType", "ApproverComment", "MisKey", "RequestContent", "RequestTitle", "RequestedAt", "RespondedAt", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2025-05-28 09:05:35.592 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 9), @p2='?' (Size = 7), @p3='?' (Size = 12), @p4='?' (Size = 12), @p5='?' (Size = 2), @p6='?', @p7='?', @p8='?' (Size = 14), @p9='?' (Size = 8), @p10='?' (DbType = DateTime), @p11='?' (DbType = DateTime), @p12='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ApprovalRequests" ("ApprovalId", "ApplicantDepartment", "ApplicantEmployeeNumber", "ApplicantName", "ApplicantPosition", "ApprovalType", "ApproverComment", "MisKey", "RequestContent", "RequestTitle", "RequestedAt", "RespondedAt", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2025-05-28 09:05:35.592 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 09:05:35.592 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 0ms reading results.
2025-05-28 09:05:35.593 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-28 09:05:35.593 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-28 09:05:35.593 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-28 09:05:35.593 +09:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Guid), @p4='?' (Size = 7), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ApprovalSteps" ("StepId", "ActionDate", "ActionStatus", "ApprovalId", "ApproverEmployeeNumber", "Comment", "IsFinalApprover", "Sequence")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-05-28 09:05:35.594 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Guid), @p4='?' (Size = 7), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ApprovalSteps" ("StepId", "ActionDate", "ActionStatus", "ApprovalId", "ApproverEmployeeNumber", "Comment", "IsFinalApprover", "Sequence")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-05-28 09:05:35.594 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 09:05:35.595 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 0ms reading results.
2025-05-28 09:05:35.595 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-28 09:05:35.595 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-28 09:05:35.595 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-28 09:05:35.595 +09:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Guid), @p4='?' (Size = 7), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ApprovalSteps" ("StepId", "ActionDate", "ActionStatus", "ApprovalId", "ApproverEmployeeNumber", "Comment", "IsFinalApprover", "Sequence")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-05-28 09:05:35.595 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Guid), @p4='?' (Size = 7), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ApprovalSteps" ("StepId", "ActionDate", "ActionStatus", "ApprovalId", "ApproverEmployeeNumber", "Comment", "IsFinalApprover", "Sequence")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-05-28 09:05:35.596 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 09:05:35.596 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 0ms reading results.
2025-05-28 09:05:35.597 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-28 09:05:35.597 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-28 09:05:35.597 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-28 09:05:35.597 +09:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 5), @p3='?' (Size = 16), @p4='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ApprovalTemplates" ("TemplateId", "CreatedAt", "CreatedByEmployeeNumber", "TemplateContent", "TemplateName")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-05-28 09:05:35.597 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 5), @p3='?' (Size = 16), @p4='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ApprovalTemplates" ("TemplateId", "CreatedAt", "CreatedByEmployeeNumber", "TemplateContent", "TemplateName")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-05-28 09:05:35.597 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 09:05:35.598 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 0ms reading results.
2025-05-28 09:05:35.601 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-28 09:05:35.602 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-28 09:05:35.604 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-05-28 09:05:35.604 +09:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (Size = 7), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p6='?' (Size = 2), @p7='?' (Size = 4), @p8='?' (Size = 10), @p9='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Approvals" ("Id", "Comments", "RequestId", "RequestedAt", "RespondedAt", "Status", "ApproverDepartment", "ApproverEmployeeNumber", "ApproverName", "ApproverPosition")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-05-28 09:05:35.604 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (Size = 7), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p6='?' (Size = 2), @p7='?' (Size = 4), @p8='?' (Size = 10), @p9='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Approvals" ("Id", "Comments", "RequestId", "RequestedAt", "RespondedAt", "Status", "ApproverDepartment", "ApproverEmployeeNumber", "ApproverName", "ApproverPosition")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-05-28 09:05:35.605 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 09:05:35.605 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 0ms reading results.
2025-05-28 09:05:35.606 +09:00 [DBG] Committing transaction.
2025-05-28 09:05:35.607 +09:00 [DBG] Committed transaction.
2025-05-28 09:05:35.609 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 09:05:35.609 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 09:05:35.610 +09:00 [DBG] Disposing transaction.
2025-05-28 09:05:35.616 +09:00 [DBG] An entity of type 'Approval' tracked by 'ApprovalDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 09:05:35.617 +09:00 [DBG] An entity of type 'Approver' tracked by 'ApprovalDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 09:05:35.617 +09:00 [DBG] An entity of type 'ApprovalRequest' tracked by 'ApprovalDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 09:05:35.617 +09:00 [DBG] An entity of type 'ApprovalStep' tracked by 'ApprovalDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 09:05:35.617 +09:00 [DBG] An entity of type 'ApprovalRequest' tracked by 'ApprovalDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 09:05:35.617 +09:00 [DBG] An entity of type 'ApprovalStep' tracked by 'ApprovalDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 09:05:35.617 +09:00 [DBG] An entity of type 'ApprovalTemplate' tracked by 'ApprovalDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 09:05:35.618 +09:00 [DBG] SaveChanges completed for 'ApprovalDbContext' with 6 entities written to the database.
2025-05-28 09:05:35.620 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-28 09:05:35.620 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 09:05:35.621 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 09:05:35.624 +09:00 [DBG] Hosting starting
2025-05-28 09:05:35.648 +09:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-05-28 09:05:35.649 +09:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-05-28 09:05:36.086 +09:00 [INF] Now listening on: https://localhost:5001
2025-05-28 09:05:36.086 +09:00 [INF] Now listening on: http://localhost:5229
2025-05-28 09:05:36.086 +09:00 [DBG] Loaded hosting startup assembly ApprovalService.API
2025-05-28 09:05:36.086 +09:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-28 09:05:36.087 +09:00 [INF] Hosting environment: Development
2025-05-28 09:05:36.087 +09:00 [INF] Content root path: /Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API
2025-05-28 09:05:36.087 +09:00 [DBG] Hosting started
2025-05-28 09:05:38.732 +09:00 [DBG] Connection id "0HNCTFDGD1QPB" accepted.
2025-05-28 09:05:38.733 +09:00 [DBG] Connection id "0HNCTFDGD1QPB" started.
2025-05-28 09:05:38.760 +09:00 [INF] Request starting HTTP/1.1 GET http://localhost:5229/api/ApprovalRequest/my-requests/EC20505 - null null
2025-05-28 09:05:38.776 +09:00 [DBG] 1 candidate(s) found for the request path '/api/ApprovalRequest/my-requests/EC20505'
2025-05-28 09:05:38.779 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)' with route pattern 'api/ApprovalRequest/my-requests/{userId}' is valid for the request path '/api/ApprovalRequest/my-requests/EC20505'
2025-05-28 09:05:38.780 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-05-28 09:05:38.795 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-28 09:05:38.795 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-05-28 09:05:38.807 +09:00 [INF] Route matched with {action = "GetMyRequests", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyRequests(System.String) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-05-28 09:05:38.809 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-28 09:05:38.810 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-28 09:05:38.810 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-28 09:05:38.810 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-28 09:05:38.810 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-28 09:05:38.811 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-05-28 09:05:38.812 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-05-28 09:05:38.816 +09:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-05-28 09:05:38.817 +09:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-05-28 09:05:38.817 +09:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-05-28 09:05:38.817 +09:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-05-28 09:05:38.817 +09:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-05-28 09:05:38.819 +09:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-05-28 09:05:38.832 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-28 09:05:38.838 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .Where(request => EF.Property<string>(request, "ApplicantEmployeeNumber") == __userId_0)'
2025-05-28 09:05:38.869 +09:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<ApprovalRequest>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApprovalRequest.ApprovalId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApprovalRequest.ApplicantDepartment (string), 1], [Property: ApprovalRequest.ApplicantEmployeeNumber (string) Required, 2], [Property: ApprovalRequest.ApplicantName (string) Required, 3], [Property: ApprovalRequest.ApplicantPosition (string), 4], [Property: ApprovalRequest.ApprovalType (string), 5], [Property: ApprovalRequest.ApproverComment (string), 6], [Property: ApprovalRequest.MisKey (string), 7], [Property: ApprovalRequest.RequestContent (string), 8], [Property: ApprovalRequest.RequestTitle (string) Required, 9], [Property: ApprovalRequest.RequestedAt (DateTime) Required, 10], [Property: ApprovalRequest.RespondedAt (DateTime?), 11], [Property: ApprovalRequest.Status (string) Required, 12] }
        SELECT a.ApprovalId, a.ApplicantDepartment, a.ApplicantEmployeeNumber, a.ApplicantName, a.ApplicantPosition, a.ApprovalType, a.ApproverComment, a.MisKey, a.RequestContent, a.RequestTitle, a.RequestedAt, a.RespondedAt, a.Status
        FROM ApprovalRequests AS a
        WHERE a.ApplicantEmployeeNumber == @__userId_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApprovalRequest.ApprovalId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApprovalRequest.ApplicantDepartment (string), 1], [Property: ApprovalRequest.ApplicantEmployeeNumber (string) Required, 2], [Property: ApprovalRequest.ApplicantName (string) Required, 3], [Property: ApprovalRequest.ApplicantPosition (string), 4], [Property: ApprovalRequest.ApprovalType (string), 5], [Property: ApprovalRequest.ApproverComment (string), 6], [Property: ApprovalRequest.MisKey (string), 7], [Property: ApprovalRequest.RequestContent (string), 8], [Property: ApprovalRequest.RequestTitle (string) Required, 9], [Property: ApprovalRequest.RequestedAt (DateTime) Required, 10], [Property: ApprovalRequest.RespondedAt (DateTime?), 11], [Property: ApprovalRequest.Status (string) Required, 12] }
        SELECT a.ApprovalId, a.ApplicantDepartment, a.ApplicantEmployeeNumber, a.ApplicantName, a.ApplicantPosition, a.ApprovalType, a.ApproverComment, a.MisKey, a.RequestContent, a.RequestTitle, a.RequestedAt, a.RespondedAt, a.Status
        FROM ApprovalRequests AS a
        WHERE a.ApplicantEmployeeNumber == @__userId_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        ApprovalRequest entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            ApprovalRequest instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(ApprovalRequest);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: ApprovalRequest.ApprovalId PK | Resolver: c => c.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (ApprovalRequest)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")]: 
                        {
                            return 
                            {
                                ApprovalRequest instance;
                                instance = new ApprovalRequest();
                                instance.<ApprovalId>k__BackingField = dataReader.GetGuid(0);
                                instance.<ApplicantDepartment>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                instance.<ApplicantEmployeeNumber>k__BackingField = dataReader.GetString(2);
                                instance.<ApplicantName>k__BackingField = dataReader.GetString(3);
                                instance.<ApplicantPosition>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                instance.<ApprovalType>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                instance.<ApproverComment>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                instance.<MisKey>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                instance.<RequestContent>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                instance.<RequestTitle>k__BackingField = dataReader.GetString(9);
                                instance.<RequestedAt>k__BackingField = dataReader.GetDateTime(10);
                                instance.<RespondedAt>k__BackingField = dataReader.IsDBNull(11) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(11);
                                instance.<Status>k__BackingField = dataReader.GetString(12);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(ApprovalRequest)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-05-28 09:05:38.876 +09:00 [DBG] Creating DbConnection.
2025-05-28 09:05:38.876 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-28 09:05:38.876 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 09:05:38.877 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 09:05:38.877 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-28 09:05:38.877 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-28 09:05:38.877 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-28 09:05:38.877 +09:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApplicantEmployeeNumber" = @__userId_0
2025-05-28 09:05:38.877 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApplicantEmployeeNumber" = @__userId_0
2025-05-28 09:05:38.880 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 09:05:38.880 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 09:05:38.881 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 09:05:38.881 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 3ms reading results.
2025-05-28 09:05:38.881 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 09:05:38.881 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 09:05:38.883 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-28 09:05:38.884 +09:00 [DBG] No information found on request to perform content negotiation.
2025-05-28 09:05:38.884 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-28 09:05:38.884 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-28 09:05:38.884 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-28 09:05:38.884 +09:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ApprovalService.Domain.Entities.ApprovalRequest, ApprovalService.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 09:05:38.919 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API) in 107.9774ms
2025-05-28 09:05:38.921 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-05-28 09:05:38.922 +09:00 [DBG] Connection id "0HNCTFDGD1QPB" completed keep alive response.
2025-05-28 09:05:38.922 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-28 09:05:38.923 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 09:05:38.923 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 09:05:38.924 +09:00 [INF] Request finished HTTP/1.1 GET http://localhost:5229/api/ApprovalRequest/my-requests/EC20505 - 200 null application/json; charset=utf-8 165.5327ms
2025-05-28 09:05:42.775 +09:00 [DBG] Connection id "0HNCTFDGD1QPB" received FIN.
2025-05-28 09:05:42.776 +09:00 [DBG] Connection id "0HNCTFDGD1QPB" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-28 09:05:42.785 +09:00 [DBG] Connection id "0HNCTFDGD1QPB" disconnecting.
2025-05-28 09:05:42.787 +09:00 [DBG] Connection id "0HNCTFDGD1QPB" stopped.
2025-05-28 09:10:33.996 +09:00 [INF] Application is shutting down...
2025-05-28 09:10:34.000 +09:00 [DBG] Hosting stopping
2025-05-28 09:10:34.013 +09:00 [DBG] Hosting stopped
2025-05-28 09:10:39.236 +09:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-05-28 09:10:39.669 +09:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-05-28 09:10:40.125 +09:00 [DBG] The property 'Approver.ApprovalId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-05-28 09:10:40.262 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-28 09:10:40.269 +09:00 [DBG] Creating DbConnection.
2025-05-28 09:10:40.275 +09:00 [DBG] Created DbConnection. (6ms).
2025-05-28 09:10:40.279 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 09:10:40.285 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 09:10:40.288 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 09:10:40.290 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 09:10:40.293 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-28 09:10:40.293 +09:00 [DBG] Creating DbConnection.
2025-05-28 09:10:40.293 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-28 09:10:40.296 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2025-05-28 09:10:40.296 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (3ms).
2025-05-28 09:10:40.296 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 09:10:40.297 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 09:10:40.303 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-28 09:10:40.326 +09:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-28 09:10:40.327 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 09:10:40.328 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (1ms).
2025-05-28 09:10:40.331 +09:00 [DBG] Creating DbConnection.
2025-05-28 09:10:40.331 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-28 09:10:40.331 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 09:10:40.332 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 09:10:40.332 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 09:10:40.332 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 09:10:40.332 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-05-28 09:10:40.332 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-05-28 09:10:40.332 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-05-28 09:10:40.333 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 09:10:40.333 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 09:10:40.333 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-28 09:10:40.333 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-05-28 09:10:40.333 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 09:10:40.333 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 09:10:40.357 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .Any()'
2025-05-28 09:10:40.459 +09:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-05-28 09:10:40.472 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 09:10:40.472 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 09:10:40.473 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-28 09:10:40.473 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-28 09:10:40.473 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-28 09:10:40.473 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-05-28 09:10:40.474 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-05-28 09:10:40.476 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 09:10:40.476 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 1ms reading results.
2025-05-28 09:10:40.477 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 09:10:40.477 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 09:10:40.478 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-28 09:10:40.478 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 09:10:40.478 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 09:10:40.480 +09:00 [DBG] Hosting starting
2025-05-28 09:10:40.492 +09:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-05-28 09:10:40.492 +09:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-05-28 09:10:40.790 +09:00 [INF] Now listening on: https://localhost:5001
2025-05-28 09:10:40.791 +09:00 [INF] Now listening on: http://localhost:5229
2025-05-28 09:10:40.791 +09:00 [DBG] Loaded hosting startup assembly ApprovalService.API
2025-05-28 09:10:40.791 +09:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-28 09:10:40.791 +09:00 [INF] Hosting environment: Development
2025-05-28 09:10:40.791 +09:00 [INF] Content root path: /Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API
2025-05-28 09:10:40.792 +09:00 [DBG] Hosting started
2025-05-28 09:10:46.196 +09:00 [DBG] Connection id "0HNCTFGC18AOT" accepted.
2025-05-28 09:10:46.197 +09:00 [DBG] Connection id "0HNCTFGC18AOT" started.
2025-05-28 09:10:46.229 +09:00 [DBG] Connection 0HNCTFGC18AOT established using the following protocol: "Tls12"
2025-05-28 09:10:46.244 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approval/my-requests/EC20505 - null null
2025-05-28 09:10:46.251 +09:00 [DBG] No candidates found for the request path '/api/approval/my-requests/EC20505'
2025-05-28 09:10:46.252 +09:00 [DBG] Request did not match any endpoints
2025-05-28 09:10:46.262 +09:00 [DBG] The request path  does not match the path filter
2025-05-28 09:10:46.264 +09:00 [DBG] Connection id "0HNCTFGC18AOT" completed keep alive response.
2025-05-28 09:10:46.264 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approval/my-requests/EC20505 - 404 0 null 21.7152ms
2025-05-28 09:10:46.267 +09:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5001/api/approval/my-requests/EC20505, Response status code: 404
2025-05-28 09:10:47.984 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approval/my-requests/EC20505 - null null
2025-05-28 09:10:47.988 +09:00 [DBG] No candidates found for the request path '/api/approval/my-requests/EC20505'
2025-05-28 09:10:47.988 +09:00 [DBG] Request did not match any endpoints
2025-05-28 09:10:47.992 +09:00 [DBG] The request path  does not match the path filter
2025-05-28 09:10:47.992 +09:00 [DBG] Connection id "0HNCTFGC18AOT" completed keep alive response.
2025-05-28 09:10:47.993 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approval/my-requests/EC20505 - 404 0 null 8.7238ms
2025-05-28 09:10:47.994 +09:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5001/api/approval/my-requests/EC20505, Response status code: 404
2025-05-28 09:10:48.572 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approval/my-requests/EC20505 - null null
2025-05-28 09:10:48.572 +09:00 [DBG] No candidates found for the request path '/api/approval/my-requests/EC20505'
2025-05-28 09:10:48.573 +09:00 [DBG] Request did not match any endpoints
2025-05-28 09:10:48.574 +09:00 [DBG] The request path  does not match the path filter
2025-05-28 09:10:48.574 +09:00 [DBG] Connection id "0HNCTFGC18AOT" completed keep alive response.
2025-05-28 09:10:48.574 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approval/my-requests/EC20505 - 404 0 null 2.1612ms
2025-05-28 09:10:48.575 +09:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5001/api/approval/my-requests/EC20505, Response status code: 404
2025-05-28 09:12:01.269 +09:00 [DBG] Connection id "0HNCTFGC18AOT" received FIN.
2025-05-28 09:12:01.272 +09:00 [DBG] Connection id "0HNCTFGC18AOT" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-28 09:12:01.277 +09:00 [DBG] Connection id "0HNCTFGC18AOT" disconnecting.
2025-05-28 09:12:01.281 +09:00 [DBG] Connection id "0HNCTFGC18AOT" stopped.
2025-05-28 09:12:18.073 +09:00 [DBG] Connection id "0HNCTFGC18AOU" accepted.
2025-05-28 09:12:18.075 +09:00 [DBG] Connection id "0HNCTFGC18AOU" started.
2025-05-28 09:12:18.128 +09:00 [DBG] Connection 0HNCTFGC18AOU established using the following protocol: "Tls12"
2025-05-28 09:12:18.144 +09:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/approval/my-requests/EC20505 - null null
2025-05-28 09:12:18.144 +09:00 [DBG] No candidates found for the request path '/api/approval/my-requests/EC20505'
2025-05-28 09:12:18.144 +09:00 [DBG] Request did not match any endpoints
2025-05-28 09:12:18.147 +09:00 [DBG] The request path  does not match the path filter
2025-05-28 09:12:18.149 +09:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/approval/my-requests/EC20505 - 404 0 null 4.961ms
2025-05-28 09:12:18.149 +09:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:5001/api/approval/my-requests/EC20505, Response status code: 404
2025-05-28 09:12:22.893 +09:00 [DBG] Connection id "0HNCTFGC18AOU" received FIN.
2025-05-28 09:12:22.895 +09:00 [DBG] Connection id "0HNCTFGC18AOU" is closed. The last processed stream ID was 1.
2025-05-28 09:12:22.895 +09:00 [DBG] Connection id "0HNCTFGC18AOU" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-28 09:12:22.896 +09:00 [DBG] The connection queue processing loop for 0HNCTFGC18AOU completed.
2025-05-28 09:12:22.896 +09:00 [DBG] Connection id "0HNCTFGC18AOU" stopped.
2025-05-28 09:12:25.765 +09:00 [DBG] Connection id "0HNCTFGC18AOV" accepted.
2025-05-28 09:12:25.765 +09:00 [DBG] Connection id "0HNCTFGC18AOV" started.
2025-05-28 09:12:25.789 +09:00 [DBG] Connection 0HNCTFGC18AOV established using the following protocol: "Tls12"
2025-05-28 09:12:25.790 +09:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/approvalrequest/my-requests/EC20505 - null null
2025-05-28 09:12:25.792 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/my-requests/EC20505'
2025-05-28 09:12:25.795 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)' with route pattern 'api/ApprovalRequest/my-requests/{userId}' is valid for the request path '/api/approvalrequest/my-requests/EC20505'
2025-05-28 09:12:25.795 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-05-28 09:12:25.796 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-28 09:12:25.797 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-05-28 09:12:25.812 +09:00 [INF] Route matched with {action = "GetMyRequests", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyRequests(System.String) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-05-28 09:12:25.812 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-28 09:12:25.813 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-28 09:12:25.813 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-28 09:12:25.819 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-28 09:12:25.820 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-28 09:12:25.821 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-05-28 09:12:25.822 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-05-28 09:12:25.824 +09:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-05-28 09:12:25.824 +09:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-05-28 09:12:25.825 +09:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-05-28 09:12:25.825 +09:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-05-28 09:12:25.825 +09:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-05-28 09:12:25.828 +09:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-05-28 09:12:25.839 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-28 09:12:25.845 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .Where(request => EF.Property<string>(request, "ApplicantEmployeeNumber") == __userId_0)'
2025-05-28 09:12:25.887 +09:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<ApprovalRequest>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApprovalRequest.ApprovalId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApprovalRequest.ApplicantDepartment (string), 1], [Property: ApprovalRequest.ApplicantEmployeeNumber (string) Required, 2], [Property: ApprovalRequest.ApplicantName (string) Required, 3], [Property: ApprovalRequest.ApplicantPosition (string), 4], [Property: ApprovalRequest.ApprovalType (string), 5], [Property: ApprovalRequest.ApproverComment (string), 6], [Property: ApprovalRequest.MisKey (string), 7], [Property: ApprovalRequest.RequestContent (string), 8], [Property: ApprovalRequest.RequestTitle (string) Required, 9], [Property: ApprovalRequest.RequestedAt (DateTime) Required, 10], [Property: ApprovalRequest.RespondedAt (DateTime?), 11], [Property: ApprovalRequest.Status (string) Required, 12] }
        SELECT a.ApprovalId, a.ApplicantDepartment, a.ApplicantEmployeeNumber, a.ApplicantName, a.ApplicantPosition, a.ApprovalType, a.ApproverComment, a.MisKey, a.RequestContent, a.RequestTitle, a.RequestedAt, a.RespondedAt, a.Status
        FROM ApprovalRequests AS a
        WHERE a.ApplicantEmployeeNumber == @__userId_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApprovalRequest.ApprovalId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApprovalRequest.ApplicantDepartment (string), 1], [Property: ApprovalRequest.ApplicantEmployeeNumber (string) Required, 2], [Property: ApprovalRequest.ApplicantName (string) Required, 3], [Property: ApprovalRequest.ApplicantPosition (string), 4], [Property: ApprovalRequest.ApprovalType (string), 5], [Property: ApprovalRequest.ApproverComment (string), 6], [Property: ApprovalRequest.MisKey (string), 7], [Property: ApprovalRequest.RequestContent (string), 8], [Property: ApprovalRequest.RequestTitle (string) Required, 9], [Property: ApprovalRequest.RequestedAt (DateTime) Required, 10], [Property: ApprovalRequest.RespondedAt (DateTime?), 11], [Property: ApprovalRequest.Status (string) Required, 12] }
        SELECT a.ApprovalId, a.ApplicantDepartment, a.ApplicantEmployeeNumber, a.ApplicantName, a.ApplicantPosition, a.ApprovalType, a.ApproverComment, a.MisKey, a.RequestContent, a.RequestTitle, a.RequestedAt, a.RespondedAt, a.Status
        FROM ApprovalRequests AS a
        WHERE a.ApplicantEmployeeNumber == @__userId_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        ApprovalRequest entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            ApprovalRequest instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(ApprovalRequest);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: ApprovalRequest.ApprovalId PK | Resolver: c => c.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (ApprovalRequest)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")]: 
                        {
                            return 
                            {
                                ApprovalRequest instance;
                                instance = new ApprovalRequest();
                                instance.<ApprovalId>k__BackingField = dataReader.GetGuid(0);
                                instance.<ApplicantDepartment>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                instance.<ApplicantEmployeeNumber>k__BackingField = dataReader.GetString(2);
                                instance.<ApplicantName>k__BackingField = dataReader.GetString(3);
                                instance.<ApplicantPosition>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                instance.<ApprovalType>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                instance.<ApproverComment>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                instance.<MisKey>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                instance.<RequestContent>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                instance.<RequestTitle>k__BackingField = dataReader.GetString(9);
                                instance.<RequestedAt>k__BackingField = dataReader.GetDateTime(10);
                                instance.<RespondedAt>k__BackingField = dataReader.IsDBNull(11) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(11);
                                instance.<Status>k__BackingField = dataReader.GetString(12);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(ApprovalRequest)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-05-28 09:12:25.893 +09:00 [DBG] Creating DbConnection.
2025-05-28 09:12:25.893 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-28 09:12:25.893 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 09:12:25.893 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 09:12:25.893 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-28 09:12:25.894 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-28 09:12:25.894 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-28 09:12:25.895 +09:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApplicantEmployeeNumber" = @__userId_0
2025-05-28 09:12:25.897 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApplicantEmployeeNumber" = @__userId_0
2025-05-28 09:12:25.910 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 09:12:25.925 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 09:12:25.925 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 09:12:25.925 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 27ms reading results.
2025-05-28 09:12:25.925 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 09:12:25.925 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 09:12:25.926 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-28 09:12:25.929 +09:00 [DBG] No information found on request to perform content negotiation.
2025-05-28 09:12:25.929 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-28 09:12:25.929 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-28 09:12:25.930 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-28 09:12:25.930 +09:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ApprovalService.Domain.Entities.ApprovalRequest, ApprovalService.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 09:12:25.964 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API) in 142.9228ms
2025-05-28 09:12:25.965 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-05-28 09:12:25.965 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-28 09:12:25.967 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 09:12:25.967 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 09:12:25.968 +09:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/approvalrequest/my-requests/EC20505 - 200 null application/json; charset=utf-8 177.9847ms
2025-05-28 09:12:27.924 +09:00 [DBG] Connection id "0HNCTFGC18AOV" received FIN.
2025-05-28 09:12:27.961 +09:00 [DBG] Connection id "0HNCTFGC18AOV" is closed. The last processed stream ID was 1.
2025-05-28 09:12:27.965 +09:00 [DBG] The connection queue processing loop for 0HNCTFGC18AOV completed.
2025-05-28 09:12:27.969 +09:00 [DBG] Connection id "0HNCTFGC18AOV" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-28 09:12:27.972 +09:00 [DBG] Connection id "0HNCTFGC18AOV" stopped.
2025-05-28 09:12:58.953 +09:00 [DBG] Connection id "0HNCTFGC18AP0" accepted.
2025-05-28 09:12:58.955 +09:00 [DBG] Connection id "0HNCTFGC18AP0" started.
2025-05-28 09:12:58.978 +09:00 [DBG] Connection 0HNCTFGC18AP0 established using the following protocol: "Tls12"
2025-05-28 09:12:58.983 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approvalrequest/my-requests/EC20505 - null null
2025-05-28 09:12:58.986 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/my-requests/EC20505'
2025-05-28 09:12:58.987 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)' with route pattern 'api/ApprovalRequest/my-requests/{userId}' is valid for the request path '/api/approvalrequest/my-requests/EC20505'
2025-05-28 09:12:58.987 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-05-28 09:12:58.988 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-28 09:12:58.988 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-05-28 09:12:58.989 +09:00 [INF] Route matched with {action = "GetMyRequests", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyRequests(System.String) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-05-28 09:12:58.989 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-28 09:12:58.990 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-28 09:12:58.990 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-28 09:12:58.990 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-28 09:12:58.990 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-28 09:12:58.990 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-05-28 09:12:58.993 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-05-28 09:12:58.993 +09:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-05-28 09:12:58.994 +09:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-05-28 09:12:58.994 +09:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-05-28 09:12:58.994 +09:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-05-28 09:12:58.994 +09:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-05-28 09:12:58.994 +09:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-05-28 09:12:59.019 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-28 09:12:59.022 +09:00 [DBG] Creating DbConnection.
2025-05-28 09:12:59.022 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-28 09:12:59.022 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 09:12:59.023 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 09:12:59.023 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-28 09:12:59.023 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-28 09:12:59.023 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-28 09:12:59.023 +09:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApplicantEmployeeNumber" = @__userId_0
2025-05-28 09:12:59.023 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApplicantEmployeeNumber" = @__userId_0
2025-05-28 09:12:59.024 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 09:12:59.024 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 09:12:59.025 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 09:12:59.025 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 1ms reading results.
2025-05-28 09:12:59.025 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 09:12:59.025 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 09:12:59.025 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-28 09:12:59.026 +09:00 [DBG] No information found on request to perform content negotiation.
2025-05-28 09:12:59.026 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-28 09:12:59.026 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-28 09:12:59.026 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-28 09:12:59.026 +09:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ApprovalService.Domain.Entities.ApprovalRequest, ApprovalService.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 09:12:59.028 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API) in 38.1757ms
2025-05-28 09:12:59.028 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-05-28 09:12:59.028 +09:00 [DBG] Connection id "0HNCTFGC18AP0" completed keep alive response.
2025-05-28 09:12:59.028 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-28 09:12:59.028 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 09:12:59.028 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 09:12:59.028 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approvalrequest/my-requests/EC20505 - 200 null application/json; charset=utf-8 45.4007ms
2025-05-28 09:14:13.963 +09:00 [DBG] Connection id "0HNCTFGC18AP0" received FIN.
2025-05-28 09:14:13.971 +09:00 [DBG] Connection id "0HNCTFGC18AP0" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-28 09:14:13.979 +09:00 [DBG] Connection id "0HNCTFGC18AP0" disconnecting.
2025-05-28 09:14:13.987 +09:00 [DBG] Connection id "0HNCTFGC18AP0" stopped.
2025-05-28 09:14:37.344 +09:00 [DBG] Connection id "0HNCTFGC18AP1" accepted.
2025-05-28 09:14:37.344 +09:00 [DBG] Connection id "0HNCTFGC18AP1" started.
2025-05-28 09:14:37.368 +09:00 [DBG] Connection 0HNCTFGC18AP1 established using the following protocol: "Tls12"
2025-05-28 09:14:37.373 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approvalrequest/my-requests/EC20505 - null null
2025-05-28 09:14:37.374 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/my-requests/EC20505'
2025-05-28 09:14:37.374 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)' with route pattern 'api/ApprovalRequest/my-requests/{userId}' is valid for the request path '/api/approvalrequest/my-requests/EC20505'
2025-05-28 09:14:37.374 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-05-28 09:14:37.375 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-28 09:14:37.375 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-05-28 09:14:37.375 +09:00 [INF] Route matched with {action = "GetMyRequests", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyRequests(System.String) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-05-28 09:14:37.375 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-28 09:14:37.375 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-28 09:14:37.375 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-28 09:14:37.375 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-28 09:14:37.376 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-28 09:14:37.376 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-05-28 09:14:37.378 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-05-28 09:14:37.378 +09:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-05-28 09:14:37.378 +09:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-05-28 09:14:37.378 +09:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-05-28 09:14:37.378 +09:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-05-28 09:14:37.378 +09:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-05-28 09:14:37.379 +09:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-05-28 09:14:37.380 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-05-28 09:14:37.381 +09:00 [DBG] Creating DbConnection.
2025-05-28 09:14:37.381 +09:00 [DBG] Created DbConnection. (0ms).
2025-05-28 09:14:37.381 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 09:14:37.382 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 09:14:37.382 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-28 09:14:37.382 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-05-28 09:14:37.382 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-05-28 09:14:37.383 +09:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApplicantEmployeeNumber" = @__userId_0
2025-05-28 09:14:37.384 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApplicantEmployeeNumber" = @__userId_0
2025-05-28 09:14:37.384 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 09:14:37.384 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-28 09:14:37.385 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 09:14:37.385 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 0ms reading results.
2025-05-28 09:14:37.385 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-05-28 09:14:37.385 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 09:14:37.385 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-28 09:14:37.385 +09:00 [DBG] No information found on request to perform content negotiation.
2025-05-28 09:14:37.385 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-28 09:14:37.385 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-28 09:14:37.385 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-28 09:14:37.385 +09:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ApprovalService.Domain.Entities.ApprovalRequest, ApprovalService.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 09:14:37.386 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API) in 10.0226ms
2025-05-28 09:14:37.386 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-05-28 09:14:37.386 +09:00 [DBG] Connection id "0HNCTFGC18AP1" completed keep alive response.
2025-05-28 09:14:37.386 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-05-28 09:14:37.386 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-05-28 09:14:37.386 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-05-28 09:14:37.386 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approvalrequest/my-requests/EC20505 - 200 null application/json; charset=utf-8 12.7697ms
2025-05-28 09:15:52.348 +09:00 [DBG] Connection id "0HNCTFGC18AP1" received FIN.
2025-05-28 09:15:52.352 +09:00 [DBG] Connection id "0HNCTFGC18AP1" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-28 09:15:52.361 +09:00 [DBG] Connection id "0HNCTFGC18AP1" disconnecting.
2025-05-28 09:15:52.371 +09:00 [DBG] Connection id "0HNCTFGC18AP1" stopped.
