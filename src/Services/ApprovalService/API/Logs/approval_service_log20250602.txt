2025-06-02 05:59:50.922 +09:00 [DBG] Connection id "0HND101BMO5RE" received FIN.
2025-06-02 05:59:51.079 +09:00 [DBG] Connection id "0HND101BMO5RE" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-02 05:59:51.083 +09:00 [DBG] Connection id "0HND101BMO5RE" disconnecting.
2025-06-02 05:59:51.137 +09:00 [DBG] Connection id "0HND101BMO5RE" stopped.
2025-06-02 06:00:36.675 +09:00 [DBG] Connection id "0HND101BMO5RF" accepted.
2025-06-02 06:00:36.676 +09:00 [DBG] Connection id "0HND101BMO5RF" started.
2025-06-02 06:00:36.742 +09:00 [DBG] Connection 0HND101BMO5RF established using the following protocol: "Tls12"
2025-06-02 06:00:36.753 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approvalrequest/my-requests/EMP0005 - null null
2025-06-02 06:00:36.757 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/my-requests/EMP0005'
2025-06-02 06:00:36.758 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)' with route pattern 'api/ApprovalRequest/my-requests/{userId}' is valid for the request path '/api/approvalrequest/my-requests/EMP0005'
2025-06-02 06:00:36.758 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-06-02 06:00:36.763 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 06:00:36.763 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-06-02 06:00:36.771 +09:00 [INF] Route matched with {action = "GetMyRequests", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyRequests(System.String) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 06:00:36.771 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 06:00:36.771 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 06:00:36.772 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 06:00:36.772 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 06:00:36.772 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 06:00:36.772 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 06:00:38.790 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 06:00:38.794 +09:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-06-02 06:00:38.795 +09:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-06-02 06:00:38.796 +09:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-06-02 06:00:38.796 +09:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-06-02 06:00:38.796 +09:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-06-02 06:00:38.797 +09:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-06-02 06:00:38.806 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 06:00:38.820 +09:00 [DBG] Creating DbConnection.
2025-06-02 06:00:38.823 +09:00 [DBG] Created DbConnection. (3ms).
2025-06-02 06:00:38.823 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 06:00:38.830 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 06:00:38.831 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 06:00:38.832 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-06-02 06:00:38.833 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-06-02 06:00:38.833 +09:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApplicantEmployeeNumber" = @__userId_0
2025-06-02 06:00:38.839 +09:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApplicantEmployeeNumber" = @__userId_0
2025-06-02 06:00:38.842 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:00:38.842 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:00:38.842 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:00:38.843 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:00:38.843 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 06:00:38.843 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 3ms reading results.
2025-06-02 06:00:38.843 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 06:00:38.843 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 06:00:38.844 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-02 06:00:38.844 +09:00 [DBG] No information found on request to perform content negotiation.
2025-06-02 06:00:38.844 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-02 06:00:38.844 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-02 06:00:38.845 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-02 06:00:38.845 +09:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ApprovalService.Domain.Entities.ApprovalRequest, ApprovalService.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-02 06:00:38.847 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API) in 2075.0715ms
2025-06-02 06:00:38.847 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-06-02 06:00:38.848 +09:00 [DBG] Connection id "0HND101BMO5RF" completed keep alive response.
2025-06-02 06:00:38.848 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 06:00:38.848 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 06:00:38.848 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 06:00:38.848 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approvalrequest/my-requests/EMP0005 - 200 null application/json; charset=utf-8 2095.1912ms
2025-06-02 06:03:04.231 +09:00 [DBG] Connection id "0HND101BMO5RF" received FIN.
2025-06-02 06:03:04.262 +09:00 [DBG] Connection id "0HND101BMO5RF" disconnecting.
2025-06-02 06:03:04.264 +09:00 [DBG] Connection id "0HND101BMO5RF" stopped.
2025-06-02 06:03:04.264 +09:00 [DBG] Connection id "0HND101BMO5RF" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-02 06:03:04.338 +09:00 [DBG] Connection id "0HND101BMO5RG" accepted.
2025-06-02 06:03:04.338 +09:00 [DBG] Connection id "0HND101BMO5RG" started.
2025-06-02 06:03:04.361 +09:00 [DBG] Connection 0HND101BMO5RG established using the following protocol: "Tls12"
2025-06-02 06:03:04.443 +09:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/approvalrequest/create - application/json; charset=utf-8 null
2025-06-02 06:03:04.444 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/create'
2025-06-02 06:03:04.444 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.CreateApprovalRequest (ApprovalService.API)' with route pattern 'api/ApprovalRequest/create' is valid for the request path '/api/approvalrequest/create'
2025-06-02 06:03:04.444 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.CreateApprovalRequest (ApprovalService.API)'
2025-06-02 06:03:04.445 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 06:03:04.445 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.CreateApprovalRequest (ApprovalService.API)'
2025-06-02 06:03:04.445 +09:00 [INF] Route matched with {action = "CreateApprovalRequest", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateApprovalRequest(ApprovalService.Domain.Entities.ApprovalRequest) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 06:03:04.445 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 06:03:04.445 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 06:03:04.446 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 06:03:04.446 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 06:03:04.446 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 06:03:04.446 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 06:03:05.683 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 06:03:05.683 +09:00 [DBG] Attempting to bind parameter 'approvalRequest' of type 'ApprovalService.Domain.Entities.ApprovalRequest' ...
2025-06-02 06:03:05.684 +09:00 [DBG] Attempting to bind parameter 'approvalRequest' of type 'ApprovalService.Domain.Entities.ApprovalRequest' using the name '' in request data ...
2025-06-02 06:03:05.685 +09:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2025-06-02 06:03:05.686 +09:00 [DBG] Connection id "0HND101BMO5RG", Request id "0HND101BMO5RG:00000001": started reading request body.
2025-06-02 06:03:05.687 +09:00 [DBG] Connection id "0HND101BMO5RG", Request id "0HND101BMO5RG:00000001": done reading request body.
2025-06-02 06:03:05.690 +09:00 [DBG] JSON input formatter succeeded, deserializing to type 'ApprovalService.Domain.Entities.ApprovalRequest'
2025-06-02 06:03:05.690 +09:00 [DBG] Done attempting to bind parameter 'approvalRequest' of type 'ApprovalService.Domain.Entities.ApprovalRequest'.
2025-06-02 06:03:05.690 +09:00 [DBG] Done attempting to bind parameter 'approvalRequest' of type 'ApprovalService.Domain.Entities.ApprovalRequest'.
2025-06-02 06:03:05.690 +09:00 [DBG] Attempting to validate the bound parameter 'approvalRequest' of type 'ApprovalService.Domain.Entities.ApprovalRequest' ...
2025-06-02 06:03:05.691 +09:00 [DBG] Done attempting to validate the bound parameter 'approvalRequest' of type 'ApprovalService.Domain.Entities.ApprovalRequest'.
2025-06-02 06:03:06.899 +09:00 [INF] Creating a new approval request.
2025-06-02 06:03:06.901 +09:00 [DBG] Approval Request Details: {"ApprovalId":"a441da14-f8c8-4e1d-b202-8d8dfc144ab6","RequestTitle":"Regarding participation for the meeting","RequestContent":"test","ApplicantEmployeeNumber":"EMP0005","ApplicantName":"User 5","ApplicantPosition":null,"ApplicantDepartment":null,"Status":"Pending","RequestedAt":"2025-06-01T21:01:27.1314650Z","RespondedAt":null,"ApproverComment":null,"ApprovalType":null,"MisKey":null,"$type":"ApprovalRequest"}
2025-06-02 06:03:06.902 +09:00 [INF] Approval Request Created at: "2025-06-01T21:03:06.9023090Z"
2025-06-02 06:03:07.871 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 06:03:07.876 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:03:07.876 +09:00 [DBG] SaveChanges starting for 'ApprovalDbContext'.
2025-06-02 06:03:07.876 +09:00 [DBG] DetectChanges starting for 'ApprovalDbContext'.
2025-06-02 06:03:07.879 +09:00 [DBG] DetectChanges completed for 'ApprovalDbContext'.
2025-06-02 06:03:07.884 +09:00 [DBG] Creating DbConnection.
2025-06-02 06:03:07.884 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 06:03:07.884 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 06:03:07.884 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 06:03:07.885 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 06:03:07.885 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 06:03:07.885 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 06:03:07.885 +09:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (Size = 7), @p3='?' (Size = 6), @p4='?', @p5='?', @p6='?', @p7='?', @p8='?' (Size = 4), @p9='?' (Size = 39), @p10='?' (DbType = DateTime), @p11='?' (DbType = DateTime), @p12='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ApprovalRequests" ("ApprovalId", "ApplicantDepartment", "ApplicantEmployeeNumber", "ApplicantName", "ApplicantPosition", "ApprovalType", "ApproverComment", "MisKey", "RequestContent", "RequestTitle", "RequestedAt", "RespondedAt", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2025-06-02 06:03:07.888 +09:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (Size = 7), @p3='?' (Size = 6), @p4='?', @p5='?', @p6='?', @p7='?', @p8='?' (Size = 4), @p9='?' (Size = 39), @p10='?' (DbType = DateTime), @p11='?' (DbType = DateTime), @p12='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ApprovalRequests" ("ApprovalId", "ApplicantDepartment", "ApplicantEmployeeNumber", "ApplicantName", "ApplicantPosition", "ApprovalType", "ApproverComment", "MisKey", "RequestContent", "RequestTitle", "RequestedAt", "RespondedAt", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2025-06-02 06:03:07.888 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 06:03:07.888 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 0ms reading results.
2025-06-02 06:03:07.888 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 06:03:07.889 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 06:03:07.890 +09:00 [DBG] An entity of type 'ApprovalRequest' tracked by 'ApprovalDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:03:07.890 +09:00 [DBG] SaveChanges completed for 'ApprovalDbContext' with 1 entities written to the database.
2025-06-02 06:03:07.891 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-02 06:03:07.891 +09:00 [DBG] No information found on request to perform content negotiation.
2025-06-02 06:03:07.891 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-02 06:03:07.891 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-02 06:03:07.891 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-02 06:03:07.891 +09:00 [INF] Executing CreatedAtActionResult, writing value of type 'ApprovalService.Domain.Entities.ApprovalRequest'.
2025-06-02 06:03:07.895 +09:00 [DBG] Found the endpoints ["ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)"] for address (id=[a441da14-f8c8-4e1d-b202-8d8dfc144ab6],action=[GetRequestById],controller=[ApprovalRequest])
2025-06-02 06:03:07.895 +09:00 [DBG] Failed to process the template api/ApprovalRequest/{requestid} for ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API). A required route value is missing, or has a different value from the required default values. Supplied ambient values { "action": "CreateApprovalRequest", "controller": "ApprovalRequest" } and { "action": "GetRequestById", "controller": "ApprovalRequest", "id": "a441da14-f8c8-4e1d-b202-8d8dfc144ab6" } with default values { "action": "GetRequestById", "controller": "ApprovalRequest" }
2025-06-02 06:03:07.895 +09:00 [DBG] Link generation failed for endpoints ["ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)"]
2025-06-02 06:03:07.896 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.CreateApprovalRequest (ApprovalService.API) in 3450.7132ms
2025-06-02 06:03:07.897 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.CreateApprovalRequest (ApprovalService.API)'
2025-06-02 06:03:07.898 +09:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No route matches the supplied values.
   at Microsoft.AspNetCore.Mvc.CreatedAtActionResult.OnFormatting(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-06-02 06:03:07.902 +09:00 [DBG] Connection id "0HND101BMO5RG" completed keep alive response.
2025-06-02 06:03:07.902 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 06:03:07.902 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 06:03:07.903 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 06:03:07.903 +09:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/approvalrequest/create - 500 null text/plain; charset=utf-8 3459.9493ms
2025-06-02 06:03:45.208 +09:00 [DBG] Connection id "0HND101BMO5RH" accepted.
2025-06-02 06:03:45.209 +09:00 [DBG] Connection id "0HND101BMO5RH" started.
2025-06-02 06:03:45.210 +09:00 [DBG] Connection id "0HND101BMO5RI" accepted.
2025-06-02 06:03:45.233 +09:00 [DBG] Connection id "0HND101BMO5RI" started.
2025-06-02 06:03:45.288 +09:00 [DBG] Connection 0HND101BMO5RH established using the following protocol: "Tls12"
2025-06-02 06:03:45.291 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approvalrequest/my-requests/EMP0005 - null null
2025-06-02 06:03:45.291 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/my-requests/EMP0005'
2025-06-02 06:03:45.291 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)' with route pattern 'api/ApprovalRequest/my-requests/{userId}' is valid for the request path '/api/approvalrequest/my-requests/EMP0005'
2025-06-02 06:03:45.291 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-06-02 06:03:45.292 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 06:03:45.292 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-06-02 06:03:45.292 +09:00 [INF] Route matched with {action = "GetMyRequests", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyRequests(System.String) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 06:03:45.292 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 06:03:45.292 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 06:03:45.292 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 06:03:45.293 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 06:03:45.293 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 06:03:45.293 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 06:03:49.496 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 06:03:49.505 +09:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-06-02 06:03:49.505 +09:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-06-02 06:03:49.505 +09:00 [DBG] Connection 0HND101BMO5RI established using the following protocol: "Tls12"
2025-06-02 06:03:49.505 +09:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-06-02 06:03:49.505 +09:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-06-02 06:03:49.506 +09:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-06-02 06:03:49.506 +09:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-06-02 06:03:49.517 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 06:03:49.527 +09:00 [DBG] Creating DbConnection.
2025-06-02 06:03:49.528 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 06:03:49.528 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 06:03:49.528 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 06:03:49.528 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 06:03:49.528 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 06:03:49.528 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 06:03:49.529 +09:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApplicantEmployeeNumber" = @__userId_0
2025-06-02 06:03:49.542 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApplicantEmployeeNumber" = @__userId_0
2025-06-02 06:03:49.548 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:03:49.549 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approvalrequest/my-requests/EMP0005 - null null
2025-06-02 06:03:49.549 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:03:49.549 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/my-requests/EMP0005'
2025-06-02 06:03:49.549 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:03:49.549 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)' with route pattern 'api/ApprovalRequest/my-requests/{userId}' is valid for the request path '/api/approvalrequest/my-requests/EMP0005'
2025-06-02 06:03:49.549 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:03:49.549 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-06-02 06:03:49.549 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:03:49.549 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 06:03:49.549 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 6ms reading results.
2025-06-02 06:03:49.549 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 06:03:49.550 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 06:03:49.550 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-02 06:03:49.550 +09:00 [DBG] No information found on request to perform content negotiation.
2025-06-02 06:03:49.550 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-02 06:03:49.550 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-02 06:03:49.551 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-02 06:03:49.551 +09:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ApprovalService.Domain.Entities.ApprovalRequest, ApprovalService.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-02 06:03:49.552 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 06:03:49.553 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-06-02 06:03:49.553 +09:00 [INF] Route matched with {action = "GetMyRequests", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyRequests(System.String) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 06:03:49.553 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 06:03:49.553 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 06:03:49.554 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 06:03:49.554 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 06:03:49.554 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 06:03:49.554 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 06:03:49.555 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API) in 4262.3795ms
2025-06-02 06:03:49.555 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-06-02 06:03:49.555 +09:00 [DBG] Connection id "0HND101BMO5RH" completed keep alive response.
2025-06-02 06:03:49.555 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 06:03:49.555 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 06:03:49.556 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 06:03:49.556 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approvalrequest/my-requests/EMP0005 - 200 null application/json; charset=utf-8 4265.1606ms
2025-06-02 06:03:51.587 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 06:03:51.589 +09:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-06-02 06:03:51.591 +09:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-06-02 06:03:51.591 +09:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-06-02 06:03:51.591 +09:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-06-02 06:03:51.592 +09:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-06-02 06:03:51.592 +09:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-06-02 06:03:51.604 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 06:03:51.608 +09:00 [DBG] Creating DbConnection.
2025-06-02 06:03:51.608 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 06:03:51.608 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 06:03:51.608 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 06:03:51.608 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 06:03:51.609 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 06:03:51.609 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 06:03:51.609 +09:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApplicantEmployeeNumber" = @__userId_0
2025-06-02 06:03:51.610 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApplicantEmployeeNumber" = @__userId_0
2025-06-02 06:03:51.610 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:03:51.611 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:03:51.611 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:03:51.611 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:03:51.611 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:03:51.612 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 06:03:51.612 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 1ms reading results.
2025-06-02 06:03:51.612 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 06:03:51.612 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 06:03:51.612 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-02 06:03:51.612 +09:00 [DBG] No information found on request to perform content negotiation.
2025-06-02 06:03:51.612 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-02 06:03:51.612 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-02 06:03:51.612 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-02 06:03:51.613 +09:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ApprovalService.Domain.Entities.ApprovalRequest, ApprovalService.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-02 06:03:51.619 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API) in 2064.6223ms
2025-06-02 06:03:51.619 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-06-02 06:03:51.619 +09:00 [DBG] Connection id "0HND101BMO5RI" completed keep alive response.
2025-06-02 06:03:51.619 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 06:03:51.619 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 06:03:51.619 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 06:03:51.620 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approvalrequest/my-requests/EMP0005 - 200 null application/json; charset=utf-8 2070.7991ms
2025-06-02 06:04:13.449 +09:00 [DBG] Connection id "0HND101BMO5RG" received FIN.
2025-06-02 06:04:13.486 +09:00 [DBG] Connection id "0HND101BMO5RG" disconnecting.
2025-06-02 06:04:13.486 +09:00 [DBG] Connection id "0HND101BMO5RG" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-02 06:04:13.491 +09:00 [DBG] Connection id "0HND101BMO5RG" stopped.
2025-06-02 06:05:05.726 +09:00 [DBG] Connection id "0HND101BMO5RI" received FIN.
2025-06-02 06:05:05.732 +09:00 [DBG] Connection id "0HND101BMO5RI" disconnecting.
2025-06-02 06:05:05.732 +09:00 [DBG] Connection id "0HND101BMO5RI" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-02 06:05:05.737 +09:00 [DBG] Connection id "0HND101BMO5RI" stopped.
2025-06-02 06:05:06.473 +09:00 [DBG] Connection id "0HND101BMO5RH" received FIN.
2025-06-02 06:05:06.473 +09:00 [DBG] Connection id "0HND101BMO5RH" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-02 06:05:06.473 +09:00 [DBG] Connection id "0HND101BMO5RH" disconnecting.
2025-06-02 06:05:06.474 +09:00 [DBG] Connection id "0HND101BMO5RH" stopped.
2025-06-02 06:05:10.802 +09:00 [DBG] Connection id "0HND101BMO5RJ" accepted.
2025-06-02 06:05:10.802 +09:00 [DBG] Connection id "0HND101BMO5RJ" started.
2025-06-02 06:05:10.829 +09:00 [DBG] Connection 0HND101BMO5RJ established using the following protocol: "Tls12"
2025-06-02 06:05:10.839 +09:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/approvalrequest/create - application/json; charset=utf-8 null
2025-06-02 06:05:10.839 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/create'
2025-06-02 06:05:10.840 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.CreateApprovalRequest (ApprovalService.API)' with route pattern 'api/ApprovalRequest/create' is valid for the request path '/api/approvalrequest/create'
2025-06-02 06:05:10.840 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.CreateApprovalRequest (ApprovalService.API)'
2025-06-02 06:05:10.840 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 06:05:10.840 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.CreateApprovalRequest (ApprovalService.API)'
2025-06-02 06:05:10.841 +09:00 [INF] Route matched with {action = "CreateApprovalRequest", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateApprovalRequest(ApprovalService.Domain.Entities.ApprovalRequest) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 06:05:10.841 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 06:05:10.841 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 06:05:10.841 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 06:05:10.841 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 06:05:10.842 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 06:05:10.842 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 06:05:23.550 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 06:05:23.560 +09:00 [DBG] Attempting to bind parameter 'approvalRequest' of type 'ApprovalService.Domain.Entities.ApprovalRequest' ...
2025-06-02 06:05:23.562 +09:00 [DBG] Attempting to bind parameter 'approvalRequest' of type 'ApprovalService.Domain.Entities.ApprovalRequest' using the name '' in request data ...
2025-06-02 06:05:23.562 +09:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2025-06-02 06:05:23.562 +09:00 [DBG] Connection id "0HND101BMO5RJ", Request id "0HND101BMO5RJ:00000001": started reading request body.
2025-06-02 06:05:23.563 +09:00 [DBG] Connection id "0HND101BMO5RJ", Request id "0HND101BMO5RJ:00000001": done reading request body.
2025-06-02 06:05:23.566 +09:00 [DBG] JSON input formatter succeeded, deserializing to type 'ApprovalService.Domain.Entities.ApprovalRequest'
2025-06-02 06:05:23.566 +09:00 [DBG] Done attempting to bind parameter 'approvalRequest' of type 'ApprovalService.Domain.Entities.ApprovalRequest'.
2025-06-02 06:05:23.566 +09:00 [DBG] Done attempting to bind parameter 'approvalRequest' of type 'ApprovalService.Domain.Entities.ApprovalRequest'.
2025-06-02 06:05:23.566 +09:00 [DBG] Attempting to validate the bound parameter 'approvalRequest' of type 'ApprovalService.Domain.Entities.ApprovalRequest' ...
2025-06-02 06:05:23.566 +09:00 [DBG] Done attempting to validate the bound parameter 'approvalRequest' of type 'ApprovalService.Domain.Entities.ApprovalRequest'.
2025-06-02 06:05:25.196 +09:00 [INF] Creating a new approval request.
2025-06-02 06:05:25.196 +09:00 [DBG] Approval Request Details: {"ApprovalId":"65a44c2d-1a71-431b-9b8f-93517087ec46","RequestTitle":"Regarding approval of the purchasing mouse","RequestContent":"test","ApplicantEmployeeNumber":"EMP0005","ApplicantName":"User 5","ApplicantPosition":null,"ApplicantDepartment":null,"Status":"Pending","RequestedAt":"2025-06-01T21:04:46.1259780Z","RespondedAt":null,"ApproverComment":null,"ApprovalType":null,"MisKey":null,"$type":"ApprovalRequest"}
2025-06-02 06:05:25.197 +09:00 [INF] Approval Request Created at: "2025-06-01T21:05:25.1973270Z"
2025-06-02 06:05:25.881 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 06:05:25.885 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:05:25.885 +09:00 [DBG] SaveChanges starting for 'ApprovalDbContext'.
2025-06-02 06:05:25.886 +09:00 [DBG] DetectChanges starting for 'ApprovalDbContext'.
2025-06-02 06:05:25.886 +09:00 [DBG] DetectChanges completed for 'ApprovalDbContext'.
2025-06-02 06:05:25.887 +09:00 [DBG] Creating DbConnection.
2025-06-02 06:05:25.888 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 06:05:25.888 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 06:05:25.890 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 06:05:25.890 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 06:05:25.890 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 06:05:25.890 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 06:05:25.896 +09:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (Size = 7), @p3='?' (Size = 6), @p4='?', @p5='?', @p6='?', @p7='?', @p8='?' (Size = 4), @p9='?' (Size = 42), @p10='?' (DbType = DateTime), @p11='?' (DbType = DateTime), @p12='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ApprovalRequests" ("ApprovalId", "ApplicantDepartment", "ApplicantEmployeeNumber", "ApplicantName", "ApplicantPosition", "ApprovalType", "ApproverComment", "MisKey", "RequestContent", "RequestTitle", "RequestedAt", "RespondedAt", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2025-06-02 06:05:25.897 +09:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (Size = 7), @p3='?' (Size = 6), @p4='?', @p5='?', @p6='?', @p7='?', @p8='?' (Size = 4), @p9='?' (Size = 42), @p10='?' (DbType = DateTime), @p11='?' (DbType = DateTime), @p12='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ApprovalRequests" ("ApprovalId", "ApplicantDepartment", "ApplicantEmployeeNumber", "ApplicantName", "ApplicantPosition", "ApprovalType", "ApproverComment", "MisKey", "RequestContent", "RequestTitle", "RequestedAt", "RespondedAt", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2025-06-02 06:05:25.898 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 06:05:25.898 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 0ms reading results.
2025-06-02 06:05:25.898 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 06:05:25.898 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 06:05:25.898 +09:00 [DBG] An entity of type 'ApprovalRequest' tracked by 'ApprovalDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:05:25.898 +09:00 [DBG] SaveChanges completed for 'ApprovalDbContext' with 1 entities written to the database.
2025-06-02 06:05:25.899 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-02 06:05:25.899 +09:00 [DBG] No information found on request to perform content negotiation.
2025-06-02 06:05:25.899 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-02 06:05:25.899 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-02 06:05:25.899 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-02 06:05:25.899 +09:00 [INF] Executing CreatedAtActionResult, writing value of type 'ApprovalService.Domain.Entities.ApprovalRequest'.
2025-06-02 06:05:25.900 +09:00 [DBG] Found the endpoints ["ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)"] for address (id=[65a44c2d-1a71-431b-9b8f-93517087ec46],action=[GetRequestById],controller=[ApprovalRequest])
2025-06-02 06:05:25.900 +09:00 [DBG] Failed to process the template api/ApprovalRequest/{requestid} for ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API). A required route value is missing, or has a different value from the required default values. Supplied ambient values { "action": "CreateApprovalRequest", "controller": "ApprovalRequest" } and { "action": "GetRequestById", "controller": "ApprovalRequest", "id": "65a44c2d-1a71-431b-9b8f-93517087ec46" } with default values { "action": "GetRequestById", "controller": "ApprovalRequest" }
2025-06-02 06:05:25.900 +09:00 [DBG] Link generation failed for endpoints ["ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)"]
2025-06-02 06:05:25.902 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.CreateApprovalRequest (ApprovalService.API) in 15060.7167ms
2025-06-02 06:05:25.902 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.CreateApprovalRequest (ApprovalService.API)'
2025-06-02 06:05:25.903 +09:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No route matches the supplied values.
   at Microsoft.AspNetCore.Mvc.CreatedAtActionResult.OnFormatting(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-06-02 06:05:25.906 +09:00 [DBG] Connection id "0HND101BMO5RJ" completed keep alive response.
2025-06-02 06:05:25.906 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 06:05:25.906 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 06:05:25.906 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 06:05:25.906 +09:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/approvalrequest/create - 500 null text/plain; charset=utf-8 15067.6507ms
2025-06-02 06:05:29.340 +09:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/approvalrequest/create - application/json; charset=utf-8 null
2025-06-02 06:05:29.341 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/create'
2025-06-02 06:05:29.341 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.CreateApprovalRequest (ApprovalService.API)' with route pattern 'api/ApprovalRequest/create' is valid for the request path '/api/approvalrequest/create'
2025-06-02 06:05:29.342 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.CreateApprovalRequest (ApprovalService.API)'
2025-06-02 06:05:29.342 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 06:05:29.342 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.CreateApprovalRequest (ApprovalService.API)'
2025-06-02 06:05:29.343 +09:00 [INF] Route matched with {action = "CreateApprovalRequest", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateApprovalRequest(ApprovalService.Domain.Entities.ApprovalRequest) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 06:05:29.344 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 06:05:29.344 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 06:05:29.344 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 06:05:29.345 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 06:05:29.345 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 06:05:29.345 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 06:05:31.151 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 06:05:31.152 +09:00 [DBG] Attempting to bind parameter 'approvalRequest' of type 'ApprovalService.Domain.Entities.ApprovalRequest' ...
2025-06-02 06:05:31.153 +09:00 [DBG] Attempting to bind parameter 'approvalRequest' of type 'ApprovalService.Domain.Entities.ApprovalRequest' using the name '' in request data ...
2025-06-02 06:05:31.153 +09:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2025-06-02 06:05:31.153 +09:00 [DBG] Connection id "0HND101BMO5RJ", Request id "0HND101BMO5RJ:00000002": started reading request body.
2025-06-02 06:05:31.154 +09:00 [DBG] Connection id "0HND101BMO5RJ", Request id "0HND101BMO5RJ:00000002": done reading request body.
2025-06-02 06:05:31.154 +09:00 [DBG] JSON input formatter succeeded, deserializing to type 'ApprovalService.Domain.Entities.ApprovalRequest'
2025-06-02 06:05:31.154 +09:00 [DBG] Done attempting to bind parameter 'approvalRequest' of type 'ApprovalService.Domain.Entities.ApprovalRequest'.
2025-06-02 06:05:31.154 +09:00 [DBG] Done attempting to bind parameter 'approvalRequest' of type 'ApprovalService.Domain.Entities.ApprovalRequest'.
2025-06-02 06:05:31.154 +09:00 [DBG] Attempting to validate the bound parameter 'approvalRequest' of type 'ApprovalService.Domain.Entities.ApprovalRequest' ...
2025-06-02 06:05:31.155 +09:00 [DBG] Done attempting to validate the bound parameter 'approvalRequest' of type 'ApprovalService.Domain.Entities.ApprovalRequest'.
2025-06-02 06:05:32.167 +09:00 [INF] Creating a new approval request.
2025-06-02 06:05:32.167 +09:00 [DBG] Approval Request Details: {"ApprovalId":"6118d268-0137-4a68-81fe-e722e617f409","RequestTitle":"Regarding approval of the purchasing mouse","RequestContent":"test","ApplicantEmployeeNumber":"EMP0005","ApplicantName":"User 5","ApplicantPosition":null,"ApplicantDepartment":null,"Status":"Pending","RequestedAt":"2025-06-01T21:05:21.0092710Z","RespondedAt":null,"ApproverComment":null,"ApprovalType":null,"MisKey":null,"$type":"ApprovalRequest"}
2025-06-02 06:05:32.167 +09:00 [INF] Approval Request Created at: "2025-06-01T21:05:32.1676590Z"
2025-06-02 06:05:32.867 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 06:05:32.867 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:05:32.867 +09:00 [DBG] SaveChanges starting for 'ApprovalDbContext'.
2025-06-02 06:05:32.867 +09:00 [DBG] DetectChanges starting for 'ApprovalDbContext'.
2025-06-02 06:05:32.868 +09:00 [DBG] DetectChanges completed for 'ApprovalDbContext'.
2025-06-02 06:05:32.868 +09:00 [DBG] Creating DbConnection.
2025-06-02 06:05:32.868 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 06:05:32.868 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 06:05:32.869 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 06:05:32.869 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 06:05:32.869 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 06:05:32.869 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 06:05:32.869 +09:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (Size = 7), @p3='?' (Size = 6), @p4='?', @p5='?', @p6='?', @p7='?', @p8='?' (Size = 4), @p9='?' (Size = 42), @p10='?' (DbType = DateTime), @p11='?' (DbType = DateTime), @p12='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ApprovalRequests" ("ApprovalId", "ApplicantDepartment", "ApplicantEmployeeNumber", "ApplicantName", "ApplicantPosition", "ApprovalType", "ApproverComment", "MisKey", "RequestContent", "RequestTitle", "RequestedAt", "RespondedAt", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2025-06-02 06:05:32.870 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (Size = 7), @p3='?' (Size = 6), @p4='?', @p5='?', @p6='?', @p7='?', @p8='?' (Size = 4), @p9='?' (Size = 42), @p10='?' (DbType = DateTime), @p11='?' (DbType = DateTime), @p12='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ApprovalRequests" ("ApprovalId", "ApplicantDepartment", "ApplicantEmployeeNumber", "ApplicantName", "ApplicantPosition", "ApprovalType", "ApproverComment", "MisKey", "RequestContent", "RequestTitle", "RequestedAt", "RespondedAt", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2025-06-02 06:05:32.870 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 06:05:32.870 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 0ms reading results.
2025-06-02 06:05:32.870 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 06:05:32.871 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 06:05:32.871 +09:00 [DBG] An entity of type 'ApprovalRequest' tracked by 'ApprovalDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:05:32.871 +09:00 [DBG] SaveChanges completed for 'ApprovalDbContext' with 1 entities written to the database.
2025-06-02 06:05:32.871 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-02 06:05:32.871 +09:00 [DBG] No information found on request to perform content negotiation.
2025-06-02 06:05:32.871 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-02 06:05:32.871 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-02 06:05:32.871 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-02 06:05:32.872 +09:00 [INF] Executing CreatedAtActionResult, writing value of type 'ApprovalService.Domain.Entities.ApprovalRequest'.
2025-06-02 06:05:32.872 +09:00 [DBG] Found the endpoints ["ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)"] for address (id=[6118d268-0137-4a68-81fe-e722e617f409],action=[GetRequestById],controller=[ApprovalRequest])
2025-06-02 06:05:32.872 +09:00 [DBG] Failed to process the template api/ApprovalRequest/{requestid} for ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API). A required route value is missing, or has a different value from the required default values. Supplied ambient values { "action": "CreateApprovalRequest", "controller": "ApprovalRequest" } and { "action": "GetRequestById", "controller": "ApprovalRequest", "id": "6118d268-0137-4a68-81fe-e722e617f409" } with default values { "action": "GetRequestById", "controller": "ApprovalRequest" }
2025-06-02 06:05:32.872 +09:00 [DBG] Link generation failed for endpoints ["ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)"]
2025-06-02 06:05:32.873 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.CreateApprovalRequest (ApprovalService.API) in 3527.6752ms
2025-06-02 06:05:32.873 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.CreateApprovalRequest (ApprovalService.API)'
2025-06-02 06:05:32.873 +09:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No route matches the supplied values.
   at Microsoft.AspNetCore.Mvc.CreatedAtActionResult.OnFormatting(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-06-02 06:05:32.877 +09:00 [DBG] Connection id "0HND101BMO5RJ" completed keep alive response.
2025-06-02 06:05:32.877 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 06:05:32.877 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 06:05:32.877 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 06:05:32.877 +09:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/approvalrequest/create - 500 null text/plain; charset=utf-8 3536.8355ms
2025-06-02 06:06:36.279 +09:00 [DBG] Connection id "0HND101BMO5RJ" received FIN.
2025-06-02 06:06:36.304 +09:00 [DBG] Connection id "0HND101BMO5RJ" disconnecting.
2025-06-02 06:06:36.307 +09:00 [DBG] Connection id "0HND101BMO5RJ" stopped.
2025-06-02 06:06:36.307 +09:00 [DBG] Connection id "0HND101BMO5RJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-02 06:11:44.850 +09:00 [DBG] Connection id "0HND101BMO5RK" accepted.
2025-06-02 06:11:44.873 +09:00 [DBG] Connection id "0HND101BMO5RK" started.
2025-06-02 06:11:44.900 +09:00 [DBG] Connection 0HND101BMO5RK established using the following protocol: "Tls12"
2025-06-02 06:11:44.912 +09:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/approvalrequest/create - application/json; charset=utf-8 null
2025-06-02 06:11:44.912 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/create'
2025-06-02 06:11:44.912 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.CreateApprovalRequest (ApprovalService.API)' with route pattern 'api/ApprovalRequest/create' is valid for the request path '/api/approvalrequest/create'
2025-06-02 06:11:44.912 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.CreateApprovalRequest (ApprovalService.API)'
2025-06-02 06:11:44.913 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 06:11:44.913 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.CreateApprovalRequest (ApprovalService.API)'
2025-06-02 06:11:44.913 +09:00 [INF] Route matched with {action = "CreateApprovalRequest", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateApprovalRequest(ApprovalService.Domain.Entities.ApprovalRequest) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 06:11:44.913 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 06:11:44.913 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 06:11:44.914 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 06:11:44.914 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 06:11:44.914 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 06:11:44.914 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 06:11:47.078 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 06:11:47.079 +09:00 [DBG] Attempting to bind parameter 'approvalRequest' of type 'ApprovalService.Domain.Entities.ApprovalRequest' ...
2025-06-02 06:11:47.080 +09:00 [DBG] Attempting to bind parameter 'approvalRequest' of type 'ApprovalService.Domain.Entities.ApprovalRequest' using the name '' in request data ...
2025-06-02 06:11:47.080 +09:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2025-06-02 06:11:47.080 +09:00 [DBG] Connection id "0HND101BMO5RK", Request id "0HND101BMO5RK:00000001": started reading request body.
2025-06-02 06:11:47.080 +09:00 [DBG] Connection id "0HND101BMO5RK", Request id "0HND101BMO5RK:00000001": done reading request body.
2025-06-02 06:11:47.080 +09:00 [DBG] JSON input formatter succeeded, deserializing to type 'ApprovalService.Domain.Entities.ApprovalRequest'
2025-06-02 06:11:47.081 +09:00 [DBG] Done attempting to bind parameter 'approvalRequest' of type 'ApprovalService.Domain.Entities.ApprovalRequest'.
2025-06-02 06:11:47.081 +09:00 [DBG] Done attempting to bind parameter 'approvalRequest' of type 'ApprovalService.Domain.Entities.ApprovalRequest'.
2025-06-02 06:11:47.081 +09:00 [DBG] Attempting to validate the bound parameter 'approvalRequest' of type 'ApprovalService.Domain.Entities.ApprovalRequest' ...
2025-06-02 06:11:47.081 +09:00 [DBG] Done attempting to validate the bound parameter 'approvalRequest' of type 'ApprovalService.Domain.Entities.ApprovalRequest'.
2025-06-02 06:11:47.896 +09:00 [INF] Creating a new approval request.
2025-06-02 06:11:47.896 +09:00 [DBG] Approval Request Details: {"ApprovalId":"759b6bc5-d8bd-4c37-82cb-0a51e8c0430b","RequestTitle":"Regarding approval of the purchasing mouse","RequestContent":"test","ApplicantEmployeeNumber":"EMP0005","ApplicantName":"User 5","ApplicantPosition":null,"ApplicantDepartment":null,"Status":"Pending","RequestedAt":"2025-06-01T21:11:40.5613790Z","RespondedAt":null,"ApproverComment":null,"ApprovalType":null,"MisKey":null,"$type":"ApprovalRequest"}
2025-06-02 06:11:47.896 +09:00 [INF] Approval Request Created at: "2025-06-01T21:11:47.8969510Z"
2025-06-02 06:11:48.532 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 06:11:48.533 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:11:48.533 +09:00 [DBG] SaveChanges starting for 'ApprovalDbContext'.
2025-06-02 06:11:48.534 +09:00 [DBG] DetectChanges starting for 'ApprovalDbContext'.
2025-06-02 06:11:48.534 +09:00 [DBG] DetectChanges completed for 'ApprovalDbContext'.
2025-06-02 06:11:48.535 +09:00 [DBG] Creating DbConnection.
2025-06-02 06:11:48.535 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 06:11:48.535 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 06:11:48.537 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 06:11:48.537 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 06:11:48.537 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 06:11:48.538 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 06:11:48.538 +09:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (Size = 7), @p3='?' (Size = 6), @p4='?', @p5='?', @p6='?', @p7='?', @p8='?' (Size = 4), @p9='?' (Size = 42), @p10='?' (DbType = DateTime), @p11='?' (DbType = DateTime), @p12='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ApprovalRequests" ("ApprovalId", "ApplicantDepartment", "ApplicantEmployeeNumber", "ApplicantName", "ApplicantPosition", "ApprovalType", "ApproverComment", "MisKey", "RequestContent", "RequestTitle", "RequestedAt", "RespondedAt", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2025-06-02 06:11:48.539 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (Size = 7), @p3='?' (Size = 6), @p4='?', @p5='?', @p6='?', @p7='?', @p8='?' (Size = 4), @p9='?' (Size = 42), @p10='?' (DbType = DateTime), @p11='?' (DbType = DateTime), @p12='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ApprovalRequests" ("ApprovalId", "ApplicantDepartment", "ApplicantEmployeeNumber", "ApplicantName", "ApplicantPosition", "ApprovalType", "ApproverComment", "MisKey", "RequestContent", "RequestTitle", "RequestedAt", "RespondedAt", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2025-06-02 06:11:48.540 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 06:11:48.540 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 0ms reading results.
2025-06-02 06:11:48.540 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 06:11:48.540 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 06:11:48.540 +09:00 [DBG] An entity of type 'ApprovalRequest' tracked by 'ApprovalDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:11:48.540 +09:00 [DBG] SaveChanges completed for 'ApprovalDbContext' with 1 entities written to the database.
2025-06-02 06:11:48.541 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-02 06:11:48.541 +09:00 [DBG] No information found on request to perform content negotiation.
2025-06-02 06:11:48.541 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-02 06:11:48.541 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-02 06:11:48.541 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-02 06:11:48.541 +09:00 [INF] Executing CreatedAtActionResult, writing value of type 'ApprovalService.Domain.Entities.ApprovalRequest'.
2025-06-02 06:11:48.542 +09:00 [DBG] Found the endpoints ["ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)"] for address (id=[759b6bc5-d8bd-4c37-82cb-0a51e8c0430b],action=[GetRequestById],controller=[ApprovalRequest])
2025-06-02 06:11:48.542 +09:00 [DBG] Failed to process the template api/ApprovalRequest/{requestid} for ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API). A required route value is missing, or has a different value from the required default values. Supplied ambient values { "action": "CreateApprovalRequest", "controller": "ApprovalRequest" } and { "action": "GetRequestById", "controller": "ApprovalRequest", "id": "759b6bc5-d8bd-4c37-82cb-0a51e8c0430b" } with default values { "action": "GetRequestById", "controller": "ApprovalRequest" }
2025-06-02 06:11:48.542 +09:00 [DBG] Link generation failed for endpoints ["ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)"]
2025-06-02 06:11:48.542 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.CreateApprovalRequest (ApprovalService.API) in 3628.8138ms
2025-06-02 06:11:48.542 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.CreateApprovalRequest (ApprovalService.API)'
2025-06-02 06:11:48.543 +09:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No route matches the supplied values.
   at Microsoft.AspNetCore.Mvc.CreatedAtActionResult.OnFormatting(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-06-02 06:11:48.547 +09:00 [DBG] Connection id "0HND101BMO5RK" completed keep alive response.
2025-06-02 06:11:48.547 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 06:11:48.547 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 06:11:48.547 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 06:11:48.547 +09:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/approvalrequest/create - 500 null text/plain; charset=utf-8 3635.3132ms
2025-06-02 06:12:13.284 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approvalrequest/my-requests/EMP0005 - null null
2025-06-02 06:12:13.285 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/my-requests/EMP0005'
2025-06-02 06:12:13.285 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)' with route pattern 'api/ApprovalRequest/my-requests/{userId}' is valid for the request path '/api/approvalrequest/my-requests/EMP0005'
2025-06-02 06:12:13.285 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-06-02 06:12:13.286 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 06:12:13.286 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-06-02 06:12:13.287 +09:00 [INF] Route matched with {action = "GetMyRequests", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyRequests(System.String) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 06:12:13.287 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 06:12:13.287 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 06:12:13.287 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 06:12:13.287 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 06:12:13.287 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 06:12:13.287 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 06:12:16.113 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 06:12:16.113 +09:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-06-02 06:12:16.114 +09:00 [DBG] Connection id "0HND101BMO5RL" accepted.
2025-06-02 06:12:16.114 +09:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-06-02 06:12:16.114 +09:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-06-02 06:12:16.114 +09:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-06-02 06:12:16.114 +09:00 [DBG] Connection id "0HND101BMO5RL" started.
2025-06-02 06:12:16.114 +09:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-06-02 06:12:16.114 +09:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-06-02 06:12:16.162 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 06:12:16.164 +09:00 [DBG] Creating DbConnection.
2025-06-02 06:12:16.164 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 06:12:16.164 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 06:12:16.164 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 06:12:16.165 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 06:12:16.165 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 06:12:16.165 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 06:12:16.165 +09:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApplicantEmployeeNumber" = @__userId_0
2025-06-02 06:12:16.165 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApplicantEmployeeNumber" = @__userId_0
2025-06-02 06:12:16.167 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:12:16.167 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:12:16.167 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:12:16.167 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:12:16.167 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:12:16.167 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:12:16.167 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:12:16.167 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:12:16.168 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 06:12:16.168 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 3ms reading results.
2025-06-02 06:12:16.168 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 06:12:16.168 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 06:12:16.169 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-02 06:12:16.170 +09:00 [DBG] No information found on request to perform content negotiation.
2025-06-02 06:12:16.170 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-02 06:12:16.170 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-02 06:12:16.170 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-02 06:12:16.170 +09:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ApprovalService.Domain.Entities.ApprovalRequest, ApprovalService.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-02 06:12:16.170 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API) in 2883.2473ms
2025-06-02 06:12:16.170 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-06-02 06:12:16.171 +09:00 [DBG] Connection id "0HND101BMO5RK" completed keep alive response.
2025-06-02 06:12:16.171 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 06:12:16.171 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 06:12:16.171 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 06:12:16.171 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approvalrequest/my-requests/EMP0005 - 200 null application/json; charset=utf-8 2887.335ms
2025-06-02 06:12:16.174 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approvalrequest/my-requests/EMP0005 - null null
2025-06-02 06:12:16.174 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/my-requests/EMP0005'
2025-06-02 06:12:16.174 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)' with route pattern 'api/ApprovalRequest/my-requests/{userId}' is valid for the request path '/api/approvalrequest/my-requests/EMP0005'
2025-06-02 06:12:16.174 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-06-02 06:12:16.174 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 06:12:16.174 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-06-02 06:12:16.174 +09:00 [INF] Route matched with {action = "GetMyRequests", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyRequests(System.String) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 06:12:16.175 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 06:12:16.175 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 06:12:16.175 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 06:12:16.175 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 06:12:16.175 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 06:12:16.175 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 06:12:16.962 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 06:12:16.962 +09:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-06-02 06:12:16.962 +09:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-06-02 06:12:16.962 +09:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-06-02 06:12:16.962 +09:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-06-02 06:12:16.962 +09:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-06-02 06:12:16.962 +09:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-06-02 06:12:16.963 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 06:12:16.963 +09:00 [DBG] Creating DbConnection.
2025-06-02 06:12:16.963 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 06:12:16.964 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 06:12:16.964 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 06:12:16.964 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 06:12:16.964 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 06:12:16.964 +09:00 [DBG] Connection 0HND101BMO5RL established using the following protocol: "Tls12"
2025-06-02 06:12:16.964 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 06:12:16.965 +09:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApplicantEmployeeNumber" = @__userId_0
2025-06-02 06:12:16.965 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApplicantEmployeeNumber" = @__userId_0
2025-06-02 06:12:16.966 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:12:16.966 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:12:16.966 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:12:16.966 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:12:16.966 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:12:16.966 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:12:16.966 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:12:16.966 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:12:16.966 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 06:12:16.966 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 0ms reading results.
2025-06-02 06:12:16.966 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 06:12:16.966 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 06:12:16.966 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-02 06:12:16.966 +09:00 [DBG] No information found on request to perform content negotiation.
2025-06-02 06:12:16.966 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-02 06:12:16.966 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-02 06:12:16.966 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-02 06:12:16.967 +09:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ApprovalService.Domain.Entities.ApprovalRequest, ApprovalService.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-02 06:12:16.967 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API) in 791.8975ms
2025-06-02 06:12:16.967 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-06-02 06:12:16.967 +09:00 [DBG] Connection id "0HND101BMO5RK" completed keep alive response.
2025-06-02 06:12:16.967 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 06:12:16.967 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 06:12:16.967 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 06:12:16.967 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approvalrequest/my-requests/EMP0005 - 200 null application/json; charset=utf-8 793.2144ms
2025-06-02 06:13:27.412 +09:00 [DBG] Connection id "0HND101BMO5RL" received FIN.
2025-06-02 06:13:27.418 +09:00 [DBG] Connection id "0HND101BMO5RK" received FIN.
2025-06-02 06:13:27.446 +09:00 [DBG] Connection id "0HND101BMO5RL" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-02 06:13:27.472 +09:00 [DBG] Connection id "0HND101BMO5RL" disconnecting.
2025-06-02 06:13:27.472 +09:00 [DBG] Connection id "0HND101BMO5RK" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-02 06:13:27.473 +09:00 [DBG] Connection id "0HND101BMO5RK" disconnecting.
2025-06-02 06:13:27.525 +09:00 [DBG] Connection id "0HND101BMO5RL" stopped.
2025-06-02 06:13:27.525 +09:00 [DBG] Connection id "0HND101BMO5RK" stopped.
2025-06-02 06:17:42.783 +09:00 [DBG] Connection id "0HND101BMO5RM" accepted.
2025-06-02 06:17:42.788 +09:00 [DBG] Connection id "0HND101BMO5RM" started.
2025-06-02 06:17:42.973 +09:00 [DBG] Connection 0HND101BMO5RM established using the following protocol: "Tls12"
2025-06-02 06:17:42.994 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approvalrequest/my-requests/EMP0005 - null null
2025-06-02 06:17:42.999 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/my-requests/EMP0005'
2025-06-02 06:17:43.001 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)' with route pattern 'api/ApprovalRequest/my-requests/{userId}' is valid for the request path '/api/approvalrequest/my-requests/EMP0005'
2025-06-02 06:17:43.002 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-06-02 06:17:43.006 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 06:17:43.006 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-06-02 06:17:43.010 +09:00 [INF] Route matched with {action = "GetMyRequests", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyRequests(System.String) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 06:17:43.010 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 06:17:43.010 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 06:17:43.010 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 06:17:43.010 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 06:17:43.010 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 06:17:43.010 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 06:17:43.015 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 06:17:43.016 +09:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-06-02 06:17:43.022 +09:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-06-02 06:17:43.024 +09:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-06-02 06:17:43.024 +09:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-06-02 06:17:43.024 +09:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-06-02 06:17:43.025 +09:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-06-02 06:17:43.058 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 06:17:43.102 +09:00 [DBG] Creating DbConnection.
2025-06-02 06:17:43.103 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 06:17:43.103 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 06:17:43.118 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 06:17:43.118 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 06:17:43.118 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 06:17:43.119 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 06:17:43.119 +09:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApplicantEmployeeNumber" = @__userId_0
2025-06-02 06:17:43.188 +09:00 [INF] Executed DbCommand (69ms) [Parameters=[@__userId_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApplicantEmployeeNumber" = @__userId_0
2025-06-02 06:17:43.191 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:17:43.191 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:17:43.191 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:17:43.191 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:17:43.191 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:17:43.191 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:17:43.192 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:17:43.192 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:17:43.197 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 06:17:43.197 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 9ms reading results.
2025-06-02 06:17:43.197 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 06:17:43.197 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 06:17:43.197 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-02 06:17:43.198 +09:00 [DBG] No information found on request to perform content negotiation.
2025-06-02 06:17:43.198 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-02 06:17:43.198 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-02 06:17:43.198 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-02 06:17:43.198 +09:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ApprovalService.Domain.Entities.ApprovalRequest, ApprovalService.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-02 06:17:43.203 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API) in 192.5349ms
2025-06-02 06:17:43.203 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-06-02 06:17:43.203 +09:00 [DBG] Connection id "0HND101BMO5RM" completed keep alive response.
2025-06-02 06:17:43.203 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 06:17:43.203 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 06:17:43.203 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 06:17:43.203 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approvalrequest/my-requests/EMP0005 - 200 null application/json; charset=utf-8 210.5282ms
2025-06-02 06:18:57.688 +09:00 [DBG] Connection id "0HND101BMO5RM" received FIN.
2025-06-02 06:18:57.742 +09:00 [DBG] Connection id "0HND101BMO5RM" disconnecting.
2025-06-02 06:18:57.742 +09:00 [DBG] Connection id "0HND101BMO5RM" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-02 06:18:57.771 +09:00 [DBG] Connection id "0HND101BMO5RM" stopped.
2025-06-02 06:25:14.755 +09:00 [DBG] Connection id "0HND101BMO5RN" accepted.
2025-06-02 06:25:14.757 +09:00 [DBG] Connection id "0HND101BMO5RN" started.
2025-06-02 06:25:14.799 +09:00 [DBG] Connection 0HND101BMO5RN established using the following protocol: "Tls12"
2025-06-02 06:25:14.862 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approvalrequest/my-requests/EMP0005 - null null
2025-06-02 06:25:14.863 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/my-requests/EMP0005'
2025-06-02 06:25:14.863 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)' with route pattern 'api/ApprovalRequest/my-requests/{userId}' is valid for the request path '/api/approvalrequest/my-requests/EMP0005'
2025-06-02 06:25:14.864 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-06-02 06:25:14.866 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 06:25:14.866 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-06-02 06:25:14.867 +09:00 [INF] Route matched with {action = "GetMyRequests", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyRequests(System.String) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 06:25:14.867 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 06:25:14.867 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 06:25:14.867 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 06:25:14.867 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 06:25:14.867 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 06:25:14.867 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 06:25:14.868 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 06:25:14.868 +09:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-06-02 06:25:14.870 +09:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-06-02 06:25:14.870 +09:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-06-02 06:25:14.870 +09:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-06-02 06:25:14.870 +09:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-06-02 06:25:14.870 +09:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-06-02 06:25:14.877 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 06:25:14.881 +09:00 [DBG] Creating DbConnection.
2025-06-02 06:25:14.884 +09:00 [DBG] Created DbConnection. (2ms).
2025-06-02 06:25:14.884 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 06:25:14.887 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 06:25:14.887 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 06:25:14.887 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 06:25:14.887 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 06:25:14.887 +09:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApplicantEmployeeNumber" = @__userId_0
2025-06-02 06:25:14.891 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApplicantEmployeeNumber" = @__userId_0
2025-06-02 06:25:14.893 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:25:14.894 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:25:14.894 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:25:14.895 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:25:14.895 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:25:14.895 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:25:14.895 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:25:14.895 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:25:14.896 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 06:25:14.896 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 3ms reading results.
2025-06-02 06:25:14.896 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 06:25:14.896 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 06:25:14.896 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-02 06:25:14.896 +09:00 [DBG] No information found on request to perform content negotiation.
2025-06-02 06:25:14.896 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-02 06:25:14.896 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-02 06:25:14.896 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-02 06:25:14.896 +09:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ApprovalService.Domain.Entities.ApprovalRequest, ApprovalService.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-02 06:25:14.897 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API) in 30.0373ms
2025-06-02 06:25:14.897 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-06-02 06:25:14.897 +09:00 [DBG] Connection id "0HND101BMO5RN" completed keep alive response.
2025-06-02 06:25:14.898 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 06:25:14.898 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 06:25:14.898 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 06:25:14.898 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approvalrequest/my-requests/EMP0005 - 200 null application/json; charset=utf-8 36.2805ms
2025-06-02 06:26:08.118 +09:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/approvalrequest/create - application/json; charset=utf-8 null
2025-06-02 06:26:08.118 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/create'
2025-06-02 06:26:08.119 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.CreateApprovalRequest (ApprovalService.API)' with route pattern 'api/ApprovalRequest/create' is valid for the request path '/api/approvalrequest/create'
2025-06-02 06:26:08.119 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.CreateApprovalRequest (ApprovalService.API)'
2025-06-02 06:26:08.120 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 06:26:08.120 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.CreateApprovalRequest (ApprovalService.API)'
2025-06-02 06:26:08.124 +09:00 [INF] Route matched with {action = "CreateApprovalRequest", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateApprovalRequest(ApprovalService.Domain.Entities.ApprovalRequest) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 06:26:08.125 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 06:26:08.125 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 06:26:08.125 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 06:26:08.125 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 06:26:08.126 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 06:26:08.126 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 06:26:08.127 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 06:26:08.128 +09:00 [DBG] Attempting to bind parameter 'approvalRequest' of type 'ApprovalService.Domain.Entities.ApprovalRequest' ...
2025-06-02 06:26:08.128 +09:00 [DBG] Attempting to bind parameter 'approvalRequest' of type 'ApprovalService.Domain.Entities.ApprovalRequest' using the name '' in request data ...
2025-06-02 06:26:08.129 +09:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2025-06-02 06:26:08.130 +09:00 [DBG] Connection id "0HND101BMO5RN", Request id "0HND101BMO5RN:00000002": started reading request body.
2025-06-02 06:26:08.131 +09:00 [DBG] Connection id "0HND101BMO5RN", Request id "0HND101BMO5RN:00000002": done reading request body.
2025-06-02 06:26:08.133 +09:00 [DBG] JSON input formatter succeeded, deserializing to type 'ApprovalService.Domain.Entities.ApprovalRequest'
2025-06-02 06:26:08.133 +09:00 [DBG] Done attempting to bind parameter 'approvalRequest' of type 'ApprovalService.Domain.Entities.ApprovalRequest'.
2025-06-02 06:26:08.133 +09:00 [DBG] Done attempting to bind parameter 'approvalRequest' of type 'ApprovalService.Domain.Entities.ApprovalRequest'.
2025-06-02 06:26:08.133 +09:00 [DBG] Attempting to validate the bound parameter 'approvalRequest' of type 'ApprovalService.Domain.Entities.ApprovalRequest' ...
2025-06-02 06:26:08.134 +09:00 [DBG] Done attempting to validate the bound parameter 'approvalRequest' of type 'ApprovalService.Domain.Entities.ApprovalRequest'.
2025-06-02 06:26:10.393 +09:00 [INF] Creating a new approval request.
2025-06-02 06:30:53.987 +09:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-02 06:30:54.102 +09:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-06-02 06:30:54.361 +09:00 [DBG] The property 'ApprovalStep.ApprovalRequestApprovalId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-06-02 06:30:54.362 +09:00 [DBG] The property 'Approver.ApprovalId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-06-02 06:30:54.407 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 06:30:54.412 +09:00 [DBG] Creating DbConnection.
2025-06-02 06:30:54.418 +09:00 [DBG] Created DbConnection. (5ms).
2025-06-02 06:30:54.420 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 06:30:54.426 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 06:30:54.428 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 06:30:54.430 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 06:30:54.432 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-02 06:30:54.432 +09:00 [DBG] Creating DbConnection.
2025-06-02 06:30:54.432 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 06:30:54.434 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2025-06-02 06:30:54.435 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (3ms).
2025-06-02 06:30:54.435 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 06:30:54.436 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 06:30:54.439 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 06:30:54.452 +09:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 06:30:54.454 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 06:30:54.455 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (1ms).
2025-06-02 06:30:54.457 +09:00 [DBG] Creating DbConnection.
2025-06-02 06:30:54.457 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 06:30:54.457 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 06:30:54.457 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 06:30:54.458 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 06:30:54.458 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 06:30:54.458 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-02 06:30:54.458 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-02 06:30:54.458 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-06-02 06:30:54.458 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 06:30:54.458 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 06:30:54.458 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 06:30:54.458 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 06:30:54.458 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 06:30:54.458 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 06:30:54.483 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .Any()'
2025-06-02 06:30:54.591 +09:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-06-02 06:30:54.605 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 06:30:54.605 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 06:30:54.605 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 06:30:54.605 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 06:30:54.605 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 06:30:54.606 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-06-02 06:30:54.607 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-06-02 06:30:54.609 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 06:30:54.609 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 2ms reading results.
2025-06-02 06:30:54.610 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 06:30:54.610 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 06:30:54.611 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 06:30:54.611 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 06:30:54.611 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 06:30:54.613 +09:00 [DBG] Hosting starting
2025-06-02 06:30:54.642 +09:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-06-02 06:30:54.643 +09:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-06-02 06:30:54.905 +09:00 [INF] Now listening on: https://localhost:5001
2025-06-02 06:30:54.905 +09:00 [INF] Now listening on: http://localhost:5229
2025-06-02 06:30:54.905 +09:00 [DBG] Loaded hosting startup assembly ApprovalService.API
2025-06-02 06:30:54.906 +09:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-02 06:30:54.906 +09:00 [INF] Hosting environment: Development
2025-06-02 06:30:54.906 +09:00 [INF] Content root path: /Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API
2025-06-02 06:30:54.906 +09:00 [DBG] Hosting started
2025-06-02 06:31:10.017 +09:00 [DBG] Connection id "0HND1AEG4NUVN" accepted.
2025-06-02 06:31:10.018 +09:00 [DBG] Connection id "0HND1AEG4NUVN" started.
2025-06-02 06:31:10.054 +09:00 [DBG] Connection 0HND1AEG4NUVN established using the following protocol: "Tls12"
2025-06-02 06:31:10.076 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approvalrequest/my-requests/EMP0005 - null null
2025-06-02 06:31:10.090 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/my-requests/EMP0005'
2025-06-02 06:31:10.092 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)' with route pattern 'api/ApprovalRequest/my-requests/{userId}' is valid for the request path '/api/approvalrequest/my-requests/EMP0005'
2025-06-02 06:31:10.093 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-06-02 06:31:10.109 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 06:31:10.110 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-06-02 06:31:10.123 +09:00 [INF] Route matched with {action = "GetMyRequests", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyRequests(System.String) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 06:31:10.124 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 06:31:10.124 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 06:31:10.125 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 06:31:10.125 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 06:31:10.125 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 06:31:10.126 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 06:31:10.127 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 06:31:10.133 +09:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-06-02 06:31:10.135 +09:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-06-02 06:31:10.136 +09:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-06-02 06:31:10.136 +09:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-06-02 06:31:10.136 +09:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-06-02 06:31:10.138 +09:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-06-02 06:31:10.170 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 06:31:10.176 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .Where(request => EF.Property<string>(request, "ApplicantEmployeeNumber") == __userId_0)'
2025-06-02 06:31:10.215 +09:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<ApprovalRequest>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApprovalRequest.ApprovalId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApprovalRequest.ApplicantDepartment (string), 1], [Property: ApprovalRequest.ApplicantEmployeeNumber (string) Required, 2], [Property: ApprovalRequest.ApplicantName (string) Required, 3], [Property: ApprovalRequest.ApplicantPosition (string), 4], [Property: ApprovalRequest.ApprovalType (string), 5], [Property: ApprovalRequest.ApproverComment (string), 6], [Property: ApprovalRequest.MisKey (string), 7], [Property: ApprovalRequest.RequestContent (string), 8], [Property: ApprovalRequest.RequestTitle (string) Required, 9], [Property: ApprovalRequest.RequestedAt (DateTime) Required, 10], [Property: ApprovalRequest.RespondedAt (DateTime?), 11], [Property: ApprovalRequest.Status (string) Required, 12] }
        SELECT a.ApprovalId, a.ApplicantDepartment, a.ApplicantEmployeeNumber, a.ApplicantName, a.ApplicantPosition, a.ApprovalType, a.ApproverComment, a.MisKey, a.RequestContent, a.RequestTitle, a.RequestedAt, a.RespondedAt, a.Status
        FROM ApprovalRequests AS a
        WHERE a.ApplicantEmployeeNumber == @__userId_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApprovalRequest.ApprovalId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApprovalRequest.ApplicantDepartment (string), 1], [Property: ApprovalRequest.ApplicantEmployeeNumber (string) Required, 2], [Property: ApprovalRequest.ApplicantName (string) Required, 3], [Property: ApprovalRequest.ApplicantPosition (string), 4], [Property: ApprovalRequest.ApprovalType (string), 5], [Property: ApprovalRequest.ApproverComment (string), 6], [Property: ApprovalRequest.MisKey (string), 7], [Property: ApprovalRequest.RequestContent (string), 8], [Property: ApprovalRequest.RequestTitle (string) Required, 9], [Property: ApprovalRequest.RequestedAt (DateTime) Required, 10], [Property: ApprovalRequest.RespondedAt (DateTime?), 11], [Property: ApprovalRequest.Status (string) Required, 12] }
        SELECT a.ApprovalId, a.ApplicantDepartment, a.ApplicantEmployeeNumber, a.ApplicantName, a.ApplicantPosition, a.ApprovalType, a.ApproverComment, a.MisKey, a.RequestContent, a.RequestTitle, a.RequestedAt, a.RespondedAt, a.Status
        FROM ApprovalRequests AS a
        WHERE a.ApplicantEmployeeNumber == @__userId_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        ApprovalRequest entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            ApprovalRequest instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(ApprovalRequest);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: ApprovalRequest.ApprovalId PK | Resolver: c => c.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (ApprovalRequest)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")]: 
                        {
                            return 
                            {
                                ApprovalRequest instance;
                                instance = new ApprovalRequest();
                                instance.<ApprovalId>k__BackingField = dataReader.GetGuid(0);
                                instance.<ApplicantDepartment>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                instance.<ApplicantEmployeeNumber>k__BackingField = dataReader.GetString(2);
                                instance.<ApplicantName>k__BackingField = dataReader.GetString(3);
                                instance.<ApplicantPosition>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                instance.<ApprovalType>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                instance.<ApproverComment>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                instance.<MisKey>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                instance.<RequestContent>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                instance.<RequestTitle>k__BackingField = dataReader.GetString(9);
                                instance.<RequestedAt>k__BackingField = dataReader.GetDateTime(10);
                                instance.<RespondedAt>k__BackingField = dataReader.IsDBNull(11) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(11);
                                instance.<Status>k__BackingField = dataReader.GetString(12);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(ApprovalRequest)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-06-02 06:31:10.231 +09:00 [DBG] Creating DbConnection.
2025-06-02 06:31:10.232 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 06:31:10.232 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 06:31:10.232 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 06:31:10.232 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 06:31:10.233 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 06:31:10.234 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-06-02 06:31:10.235 +09:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApplicantEmployeeNumber" = @__userId_0
2025-06-02 06:31:10.238 +09:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApplicantEmployeeNumber" = @__userId_0
2025-06-02 06:31:10.261 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:31:10.280 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:31:10.280 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:31:10.280 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:31:10.280 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:31:10.280 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:31:10.280 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:31:10.281 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:31:10.281 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 06:31:10.281 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 42ms reading results.
2025-06-02 06:31:10.281 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 06:31:10.281 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 06:31:10.283 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-02 06:31:10.284 +09:00 [DBG] No information found on request to perform content negotiation.
2025-06-02 06:31:10.284 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-02 06:31:10.284 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-02 06:31:10.285 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-02 06:31:10.285 +09:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ApprovalService.Domain.Entities.ApprovalRequest, ApprovalService.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-02 06:31:10.333 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API) in 206.6587ms
2025-06-02 06:31:10.336 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-06-02 06:31:10.337 +09:00 [DBG] Connection id "0HND1AEG4NUVN" completed keep alive response.
2025-06-02 06:31:10.338 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 06:31:10.339 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 06:31:10.339 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 06:31:10.340 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approvalrequest/my-requests/EMP0005 - 200 null application/json; charset=utf-8 265.2545ms
2025-06-02 06:31:32.615 +09:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/approvalrequest/create - application/json; charset=utf-8 null
2025-06-02 06:31:32.617 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/create'
2025-06-02 06:31:32.617 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.CreateApprovalRequest (ApprovalService.API)' with route pattern 'api/ApprovalRequest/create' is valid for the request path '/api/approvalrequest/create'
2025-06-02 06:31:32.617 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.CreateApprovalRequest (ApprovalService.API)'
2025-06-02 06:31:32.619 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 06:31:32.644 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.CreateApprovalRequest (ApprovalService.API)'
2025-06-02 06:31:32.649 +09:00 [INF] Route matched with {action = "CreateApprovalRequest", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateApprovalRequest(ApprovalService.Domain.Entities.ApprovalRequest) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 06:31:32.649 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 06:31:32.649 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 06:31:32.649 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 06:31:32.649 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 06:31:32.649 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 06:31:32.650 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 06:31:32.652 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 06:31:32.654 +09:00 [DBG] Attempting to bind parameter 'approvalRequest' of type 'ApprovalService.Domain.Entities.ApprovalRequest' ...
2025-06-02 06:31:32.655 +09:00 [DBG] Attempting to bind parameter 'approvalRequest' of type 'ApprovalService.Domain.Entities.ApprovalRequest' using the name '' in request data ...
2025-06-02 06:31:32.655 +09:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2025-06-02 06:31:32.666 +09:00 [DBG] Connection id "0HND1AEG4NUVN", Request id "0HND1AEG4NUVN:00000002": started reading request body.
2025-06-02 06:31:32.670 +09:00 [DBG] Connection id "0HND1AEG4NUVN", Request id "0HND1AEG4NUVN:00000002": done reading request body.
2025-06-02 06:31:32.685 +09:00 [DBG] JSON input formatter succeeded, deserializing to type 'ApprovalService.Domain.Entities.ApprovalRequest'
2025-06-02 06:31:32.685 +09:00 [DBG] Done attempting to bind parameter 'approvalRequest' of type 'ApprovalService.Domain.Entities.ApprovalRequest'.
2025-06-02 06:31:32.685 +09:00 [DBG] Done attempting to bind parameter 'approvalRequest' of type 'ApprovalService.Domain.Entities.ApprovalRequest'.
2025-06-02 06:31:32.685 +09:00 [DBG] Attempting to validate the bound parameter 'approvalRequest' of type 'ApprovalService.Domain.Entities.ApprovalRequest' ...
2025-06-02 06:31:32.693 +09:00 [DBG] Done attempting to validate the bound parameter 'approvalRequest' of type 'ApprovalService.Domain.Entities.ApprovalRequest'.
2025-06-02 06:31:32.693 +09:00 [DBG] The request has model state errors, returning an error response.
2025-06-02 06:31:32.694 +09:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-06-02 06:31:32.695 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-02 06:31:32.695 +09:00 [DBG] No information found on request to perform content negotiation.
2025-06-02 06:31:32.695 +09:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-06-02 06:31:32.695 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-06-02 06:31:32.696 +09:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-06-02 06:31:32.713 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.CreateApprovalRequest (ApprovalService.API) in 63.2758ms
2025-06-02 06:31:32.713 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.CreateApprovalRequest (ApprovalService.API)'
2025-06-02 06:31:32.713 +09:00 [DBG] Connection id "0HND1AEG4NUVN" completed keep alive response.
2025-06-02 06:31:32.713 +09:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/approvalrequest/create - 400 null application/problem+json; charset=utf-8 98.7605ms
2025-06-02 06:41:14.787 +09:00 [DBG] Connection id "0HND1AEG4NUVN" received FIN.
2025-06-02 06:41:14.883 +09:00 [DBG] Connection id "0HND1AEG4NUVN" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-02 06:41:14.950 +09:00 [DBG] Connection id "0HND1AEG4NUVN" disconnecting.
2025-06-02 06:41:14.966 +09:00 [DBG] Connection id "0HND1AEG4NUVN" stopped.
2025-06-02 06:41:34.842 +09:00 [DBG] Connection id "0HND1AEG4NUVO" accepted.
2025-06-02 06:41:34.842 +09:00 [DBG] Connection id "0HND1AEG4NUVO" started.
2025-06-02 06:41:34.884 +09:00 [DBG] Connection 0HND1AEG4NUVO established using the following protocol: "Tls12"
2025-06-02 06:41:34.893 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approvalrequest/my-requests/EMP0005 - null null
2025-06-02 06:41:34.896 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/my-requests/EMP0005'
2025-06-02 06:41:34.897 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)' with route pattern 'api/ApprovalRequest/my-requests/{userId}' is valid for the request path '/api/approvalrequest/my-requests/EMP0005'
2025-06-02 06:41:34.898 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-06-02 06:41:34.908 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 06:41:34.908 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-06-02 06:41:34.910 +09:00 [INF] Route matched with {action = "GetMyRequests", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyRequests(System.String) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 06:41:34.911 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 06:41:34.911 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 06:41:34.911 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 06:41:34.911 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 06:41:34.911 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 06:41:34.911 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 06:41:34.914 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 06:41:34.915 +09:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-06-02 06:41:34.915 +09:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-06-02 06:41:34.915 +09:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-06-02 06:41:34.915 +09:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-06-02 06:41:34.915 +09:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-06-02 06:41:34.916 +09:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-06-02 06:41:34.957 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 06:41:34.964 +09:00 [DBG] Creating DbConnection.
2025-06-02 06:41:34.965 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 06:41:34.965 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 06:41:34.965 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 06:41:34.966 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 06:41:34.966 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 06:41:34.966 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 06:41:34.966 +09:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApplicantEmployeeNumber" = @__userId_0
2025-06-02 06:41:34.968 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApplicantEmployeeNumber" = @__userId_0
2025-06-02 06:41:34.970 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:41:34.970 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:41:34.970 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:41:34.970 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:41:34.971 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:41:34.971 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:41:34.971 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:41:34.971 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 06:41:34.971 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 06:41:34.971 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 2ms reading results.
2025-06-02 06:41:34.971 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 06:41:34.971 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 06:41:34.971 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-02 06:41:34.971 +09:00 [DBG] No information found on request to perform content negotiation.
2025-06-02 06:41:34.971 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-02 06:41:34.971 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-02 06:41:34.971 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-02 06:41:34.971 +09:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ApprovalService.Domain.Entities.ApprovalRequest, ApprovalService.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-02 06:41:34.974 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API) in 62.3927ms
2025-06-02 06:41:34.974 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-06-02 06:41:34.974 +09:00 [DBG] Connection id "0HND1AEG4NUVO" completed keep alive response.
2025-06-02 06:41:34.975 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 06:41:34.975 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 06:41:34.975 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 06:41:34.975 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approvalrequest/my-requests/EMP0005 - 200 null application/json; charset=utf-8 82.7184ms
2025-06-02 06:42:49.904 +09:00 [DBG] Connection id "0HND1AEG4NUVO" received FIN.
2025-06-02 06:42:49.957 +09:00 [DBG] Connection id "0HND1AEG4NUVO" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-02 06:42:49.958 +09:00 [DBG] Connection id "0HND1AEG4NUVO" disconnecting.
2025-06-02 06:42:49.985 +09:00 [DBG] Connection id "0HND1AEG4NUVO" stopped.
2025-06-02 06:47:56.646 +09:00 [DBG] Connection id "0HND1AEG4NUVP" accepted.
2025-06-02 06:47:56.647 +09:00 [DBG] Connection id "0HND1AEG4NUVP" started.
2025-06-02 06:47:56.671 +09:00 [DBG] Connection 0HND1AEG4NUVP established using the following protocol: "Tls12"
2025-06-02 06:47:56.728 +09:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/approvalrequest/create - application/json; charset=utf-8 null
2025-06-02 06:47:56.730 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/create'
2025-06-02 06:47:56.730 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.CreateApprovalRequest (ApprovalService.API)' with route pattern 'api/ApprovalRequest/create' is valid for the request path '/api/approvalrequest/create'
2025-06-02 06:47:56.730 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.CreateApprovalRequest (ApprovalService.API)'
2025-06-02 06:47:56.732 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 06:47:56.733 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.CreateApprovalRequest (ApprovalService.API)'
2025-06-02 06:47:56.735 +09:00 [INF] Route matched with {action = "CreateApprovalRequest", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateApprovalRequest(ApprovalService.Domain.Entities.ApprovalRequest) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 06:47:56.735 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 06:47:56.735 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 06:47:56.735 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 06:47:56.735 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 06:47:56.735 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 06:47:56.735 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 06:47:56.737 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 06:47:56.737 +09:00 [DBG] Attempting to bind parameter 'approvalRequest' of type 'ApprovalService.Domain.Entities.ApprovalRequest' ...
2025-06-02 06:47:56.738 +09:00 [DBG] Attempting to bind parameter 'approvalRequest' of type 'ApprovalService.Domain.Entities.ApprovalRequest' using the name '' in request data ...
2025-06-02 06:47:56.738 +09:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2025-06-02 06:47:56.738 +09:00 [DBG] Connection id "0HND1AEG4NUVP", Request id "0HND1AEG4NUVP:00000001": started reading request body.
2025-06-02 06:47:56.739 +09:00 [DBG] Connection id "0HND1AEG4NUVP", Request id "0HND1AEG4NUVP:00000001": done reading request body.
2025-06-02 06:47:56.740 +09:00 [DBG] JSON input formatter succeeded, deserializing to type 'ApprovalService.Domain.Entities.ApprovalRequest'
2025-06-02 06:47:56.740 +09:00 [DBG] Done attempting to bind parameter 'approvalRequest' of type 'ApprovalService.Domain.Entities.ApprovalRequest'.
2025-06-02 06:47:56.740 +09:00 [DBG] Done attempting to bind parameter 'approvalRequest' of type 'ApprovalService.Domain.Entities.ApprovalRequest'.
2025-06-02 06:47:56.740 +09:00 [DBG] Attempting to validate the bound parameter 'approvalRequest' of type 'ApprovalService.Domain.Entities.ApprovalRequest' ...
2025-06-02 06:47:56.742 +09:00 [DBG] Done attempting to validate the bound parameter 'approvalRequest' of type 'ApprovalService.Domain.Entities.ApprovalRequest'.
2025-06-02 06:47:58.549 +09:00 [INF] Creating a new approval request.
2025-06-02 06:47:59.727 +09:00 [DBG] Approval Request Details: {"ApprovalId":"2d815eda-ad51-4949-a9f3-5c40af6b050c","RequestTitle":"test","RequestContent":"test","ApplicantEmployeeNumber":"EMP0005","ApplicantName":"User 5","ApplicantPosition":null,"ApplicantDepartment":null,"Status":"Pending","RequestedAt":"2025-06-01T21:47:45.7785160Z","RespondedAt":null,"ApproverComment":null,"ApprovalType":null,"MisKey":null,"Steps":[{"StepId":"00000000-0000-0000-0000-000000000000","ApprovalId":"00000000-0000-0000-0000-000000000000","ApproverEmployeeNumber":"1001","Sequence":1,"IsFinalApprover":true,"ActionStatus":null,"ActionDate":null,"Comment":null,"$type":"ApprovalStep"},{"StepId":"00000000-0000-0000-0000-000000000000","ApprovalId":"00000000-0000-0000-0000-000000000000","ApproverEmployeeNumber":"EMP0002","Sequence":1,"IsFinalApprover":true,"ActionStatus":null,"ActionDate":null,"Comment":null,"$type":"ApprovalStep"}],"$type":"ApprovalRequest"}
2025-06-02 06:48:00.593 +09:00 [INF] Approval Request Created at: "2025-06-01T21:48:00.5867960Z"
2025-06-02 07:15:22.733 +09:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-02 07:15:22.852 +09:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-06-02 07:15:23.099 +09:00 [DBG] The property 'Approver.ApprovalId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-06-02 07:15:23.141 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 07:15:23.145 +09:00 [DBG] Creating DbConnection.
2025-06-02 07:15:23.152 +09:00 [DBG] Created DbConnection. (6ms).
2025-06-02 07:15:23.154 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:15:23.159 +09:00 [DBG] An error occurred using the connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:15:23.160 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:15:23.162 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 07:15:23.163 +09:00 [DBG] Creating DbConnection.
2025-06-02 07:15:23.163 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 07:15:23.163 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:15:23.167 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:15:23.169 +09:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-02 07:15:23.171 +09:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2025-06-02 07:15:23.172 +09:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (3ms).
2025-06-02 07:15:23.175 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2025-06-02 07:15:23.193 +09:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2025-06-02 07:15:23.195 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:15:23.196 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (1ms).
2025-06-02 07:15:23.253 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:15:23.254 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:15:23.254 +09:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-06-02 07:15:23.256 +09:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-06-02 07:15:23.256 +09:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-02 07:15:23.256 +09:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-02 07:15:23.257 +09:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-02 07:15:23.257 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ApprovalRequests" (
    "ApprovalId" TEXT NOT NULL CONSTRAINT "PK_ApprovalRequests" PRIMARY KEY,
    "RequestTitle" TEXT NOT NULL,
    "RequestContent" TEXT NULL,
    "ApplicantEmployeeNumber" TEXT NOT NULL,
    "ApplicantName" TEXT NOT NULL,
    "ApplicantPosition" TEXT NULL,
    "ApplicantDepartment" TEXT NULL,
    "Status" TEXT NOT NULL,
    "RequestedAt" TEXT NOT NULL,
    "RespondedAt" TEXT NULL,
    "ApproverComment" TEXT NULL,
    "ApprovalType" TEXT NULL,
    "MisKey" TEXT NULL
);
2025-06-02 07:15:23.260 +09:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ApprovalRequests" (
    "ApprovalId" TEXT NOT NULL CONSTRAINT "PK_ApprovalRequests" PRIMARY KEY,
    "RequestTitle" TEXT NOT NULL,
    "RequestContent" TEXT NULL,
    "ApplicantEmployeeNumber" TEXT NOT NULL,
    "ApplicantName" TEXT NOT NULL,
    "ApplicantPosition" TEXT NULL,
    "ApplicantDepartment" TEXT NULL,
    "Status" TEXT NOT NULL,
    "RequestedAt" TEXT NOT NULL,
    "RespondedAt" TEXT NULL,
    "ApproverComment" TEXT NULL,
    "ApprovalType" TEXT NULL,
    "MisKey" TEXT NULL
);
2025-06-02 07:15:23.260 +09:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-02 07:15:23.260 +09:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-02 07:15:23.260 +09:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-02 07:15:23.260 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Approvals" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Approvals" PRIMARY KEY,
    "RequestId" TEXT NOT NULL,
    "Status" INTEGER NOT NULL,
    "ApproverEmployeeNumber" TEXT NOT NULL,
    "ApproverName" TEXT NOT NULL,
    "ApproverPosition" TEXT NOT NULL,
    "ApproverDepartment" TEXT NOT NULL,
    "Comments" TEXT NULL,
    "RequestedAt" TEXT NOT NULL,
    "RespondedAt" TEXT NULL
);
2025-06-02 07:15:23.261 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Approvals" (
    "Id" TEXT NOT NULL CONSTRAINT "PK_Approvals" PRIMARY KEY,
    "RequestId" TEXT NOT NULL,
    "Status" INTEGER NOT NULL,
    "ApproverEmployeeNumber" TEXT NOT NULL,
    "ApproverName" TEXT NOT NULL,
    "ApproverPosition" TEXT NOT NULL,
    "ApproverDepartment" TEXT NOT NULL,
    "Comments" TEXT NULL,
    "RequestedAt" TEXT NOT NULL,
    "RespondedAt" TEXT NULL
);
2025-06-02 07:15:23.261 +09:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-02 07:15:23.261 +09:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-02 07:15:23.261 +09:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-02 07:15:23.261 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ApprovalTemplates" (
    "TemplateId" TEXT NOT NULL CONSTRAINT "PK_ApprovalTemplates" PRIMARY KEY,
    "TemplateName" TEXT NOT NULL,
    "TemplateContent" TEXT NULL,
    "CreatedByEmployeeNumber" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL
);
2025-06-02 07:15:23.261 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ApprovalTemplates" (
    "TemplateId" TEXT NOT NULL CONSTRAINT "PK_ApprovalTemplates" PRIMARY KEY,
    "TemplateName" TEXT NOT NULL,
    "TemplateContent" TEXT NULL,
    "CreatedByEmployeeNumber" TEXT NOT NULL,
    "CreatedAt" TEXT NOT NULL
);
2025-06-02 07:15:23.261 +09:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-02 07:15:23.261 +09:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-02 07:15:23.261 +09:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-02 07:15:23.261 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ApprovalSteps" (
    "StepId" TEXT NOT NULL CONSTRAINT "PK_ApprovalSteps" PRIMARY KEY,
    "ApprovalId" TEXT NOT NULL,
    "ApproverEmployeeNumber" TEXT NOT NULL,
    "Sequence" INTEGER NOT NULL,
    "IsFinalApprover" INTEGER NOT NULL,
    "ActionStatus" TEXT NULL,
    "ActionDate" TEXT NULL,
    "Comment" TEXT NULL,
    CONSTRAINT "FK_ApprovalSteps_ApprovalRequests_ApprovalId" FOREIGN KEY ("ApprovalId") REFERENCES "ApprovalRequests" ("ApprovalId") ON DELETE CASCADE
);
2025-06-02 07:15:23.261 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ApprovalSteps" (
    "StepId" TEXT NOT NULL CONSTRAINT "PK_ApprovalSteps" PRIMARY KEY,
    "ApprovalId" TEXT NOT NULL,
    "ApproverEmployeeNumber" TEXT NOT NULL,
    "Sequence" INTEGER NOT NULL,
    "IsFinalApprover" INTEGER NOT NULL,
    "ActionStatus" TEXT NULL,
    "ActionDate" TEXT NULL,
    "Comment" TEXT NULL,
    CONSTRAINT "FK_ApprovalSteps_ApprovalRequests_ApprovalId" FOREIGN KEY ("ApprovalId") REFERENCES "ApprovalRequests" ("ApprovalId") ON DELETE CASCADE
);
2025-06-02 07:15:23.261 +09:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-06-02 07:15:23.261 +09:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-02 07:15:23.261 +09:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-06-02 07:15:23.261 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ApprovalSteps_ApprovalId" ON "ApprovalSteps" ("ApprovalId");
2025-06-02 07:15:23.262 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ApprovalSteps_ApprovalId" ON "ApprovalSteps" ("ApprovalId");
2025-06-02 07:15:23.262 +09:00 [DBG] Committing transaction.
2025-06-02 07:15:23.263 +09:00 [DBG] Committed transaction.
2025-06-02 07:15:23.264 +09:00 [DBG] Disposing transaction.
2025-06-02 07:15:23.264 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:15:23.264 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 07:15:23.268 +09:00 [DBG] Creating DbConnection.
2025-06-02 07:15:23.268 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 07:15:23.268 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:15:23.268 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:15:23.269 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:15:23.269 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 07:15:23.270 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-02 07:15:23.270 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-02 07:15:23.270 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-06-02 07:15:23.270 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:15:23.270 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:15:23.271 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 07:15:23.277 +09:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 07:15:23.277 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:15:23.278 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 07:15:23.304 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .Any()'
2025-06-02 07:15:23.381 +09:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-06-02 07:15:23.395 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:15:23.396 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:15:23.396 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 07:15:23.396 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 07:15:23.396 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 07:15:23.396 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-06-02 07:15:23.397 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-06-02 07:15:23.399 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:15:23.400 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 2ms reading results.
2025-06-02 07:15:23.401 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:15:23.401 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 07:15:23.440 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'Approval' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 07:15:23.448 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'Approver' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 07:15:23.468 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 07:15:23.516 +09:00 [DBG] The navigation 'ApprovalStep.ApprovalRequest' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 07:15:23.521 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalStep' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 07:15:23.522 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 07:15:23.522 +09:00 [DBG] The navigation 'ApprovalStep.ApprovalRequest' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 07:15:23.522 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalStep' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 07:15:23.527 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalTemplate' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 07:15:23.529 +09:00 [DBG] SaveChanges starting for 'ApprovalDbContext'.
2025-06-02 07:15:23.529 +09:00 [DBG] DetectChanges starting for 'ApprovalDbContext'.
2025-06-02 07:15:23.542 +09:00 [DBG] DetectChanges completed for 'ApprovalDbContext'.
2025-06-02 07:15:23.574 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:15:23.574 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:15:23.575 +09:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-06-02 07:15:23.575 +09:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-06-02 07:15:23.576 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 07:15:23.576 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 07:15:23.576 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 07:15:23.577 +09:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 9), @p2='?' (Size = 7), @p3='?' (Size = 12), @p4='?' (Size = 12), @p5='?' (Size = 2), @p6='?', @p7='?', @p8='?' (Size = 14), @p9='?' (Size = 8), @p10='?' (DbType = DateTime), @p11='?' (DbType = DateTime), @p12='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ApprovalRequests" ("ApprovalId", "ApplicantDepartment", "ApplicantEmployeeNumber", "ApplicantName", "ApplicantPosition", "ApprovalType", "ApproverComment", "MisKey", "RequestContent", "RequestTitle", "RequestedAt", "RespondedAt", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2025-06-02 07:15:23.579 +09:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 9), @p2='?' (Size = 7), @p3='?' (Size = 12), @p4='?' (Size = 12), @p5='?' (Size = 2), @p6='?', @p7='?', @p8='?' (Size = 14), @p9='?' (Size = 8), @p10='?' (DbType = DateTime), @p11='?' (DbType = DateTime), @p12='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ApprovalRequests" ("ApprovalId", "ApplicantDepartment", "ApplicantEmployeeNumber", "ApplicantName", "ApplicantPosition", "ApprovalType", "ApproverComment", "MisKey", "RequestContent", "RequestTitle", "RequestedAt", "RespondedAt", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2025-06-02 07:15:23.581 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:15:23.581 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 1ms reading results.
2025-06-02 07:15:23.582 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 07:15:23.582 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 07:15:23.582 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 07:15:23.582 +09:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 5), @p2='?' (Size = 7), @p3='?' (Size = 11), @p4='?' (Size = 5), @p5='?' (Size = 2), @p6='?', @p7='?', @p8='?' (Size = 9), @p9='?' (Size = 5), @p10='?' (DbType = DateTime), @p11='?' (DbType = DateTime), @p12='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ApprovalRequests" ("ApprovalId", "ApplicantDepartment", "ApplicantEmployeeNumber", "ApplicantName", "ApplicantPosition", "ApprovalType", "ApproverComment", "MisKey", "RequestContent", "RequestTitle", "RequestedAt", "RespondedAt", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2025-06-02 07:15:23.582 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 5), @p2='?' (Size = 7), @p3='?' (Size = 11), @p4='?' (Size = 5), @p5='?' (Size = 2), @p6='?', @p7='?', @p8='?' (Size = 9), @p9='?' (Size = 5), @p10='?' (DbType = DateTime), @p11='?' (DbType = DateTime), @p12='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ApprovalRequests" ("ApprovalId", "ApplicantDepartment", "ApplicantEmployeeNumber", "ApplicantName", "ApplicantPosition", "ApprovalType", "ApproverComment", "MisKey", "RequestContent", "RequestTitle", "RequestedAt", "RespondedAt", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2025-06-02 07:15:23.582 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:15:23.582 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 0ms reading results.
2025-06-02 07:15:23.582 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 07:15:23.582 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 07:15:23.582 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 07:15:23.582 +09:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 5), @p3='?' (Size = 16), @p4='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ApprovalTemplates" ("TemplateId", "CreatedAt", "CreatedByEmployeeNumber", "TemplateContent", "TemplateName")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-06-02 07:15:23.582 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 5), @p3='?' (Size = 16), @p4='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ApprovalTemplates" ("TemplateId", "CreatedAt", "CreatedByEmployeeNumber", "TemplateContent", "TemplateName")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-06-02 07:15:23.582 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:15:23.582 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 0ms reading results.
2025-06-02 07:15:23.584 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 07:15:23.584 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 07:15:23.585 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 07:15:23.585 +09:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (Size = 7), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p6='?' (Size = 2), @p7='?' (Size = 4), @p8='?' (Size = 10), @p9='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Approvals" ("Id", "Comments", "RequestId", "RequestedAt", "RespondedAt", "Status", "ApproverDepartment", "ApproverEmployeeNumber", "ApproverName", "ApproverPosition")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-06-02 07:15:23.586 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (Size = 7), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p6='?' (Size = 2), @p7='?' (Size = 4), @p8='?' (Size = 10), @p9='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Approvals" ("Id", "Comments", "RequestId", "RequestedAt", "RespondedAt", "Status", "ApproverDepartment", "ApproverEmployeeNumber", "ApproverName", "ApproverPosition")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-06-02 07:15:23.586 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:15:23.586 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 0ms reading results.
2025-06-02 07:15:23.586 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 07:15:23.586 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 07:15:23.587 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 07:15:23.587 +09:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Guid), @p4='?' (Size = 7), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ApprovalSteps" ("StepId", "ActionDate", "ActionStatus", "ApprovalId", "ApproverEmployeeNumber", "Comment", "IsFinalApprover", "Sequence")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-02 07:15:23.587 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Guid), @p4='?' (Size = 7), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ApprovalSteps" ("StepId", "ActionDate", "ActionStatus", "ApprovalId", "ApproverEmployeeNumber", "Comment", "IsFinalApprover", "Sequence")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-02 07:15:23.587 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:15:23.587 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 0ms reading results.
2025-06-02 07:15:23.587 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 07:15:23.587 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 07:15:23.587 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 07:15:23.587 +09:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Guid), @p4='?' (Size = 7), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ApprovalSteps" ("StepId", "ActionDate", "ActionStatus", "ApprovalId", "ApproverEmployeeNumber", "Comment", "IsFinalApprover", "Sequence")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-02 07:15:23.587 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Guid), @p4='?' (Size = 7), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ApprovalSteps" ("StepId", "ActionDate", "ActionStatus", "ApprovalId", "ApproverEmployeeNumber", "Comment", "IsFinalApprover", "Sequence")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-02 07:15:23.587 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:15:23.587 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 0ms reading results.
2025-06-02 07:15:23.588 +09:00 [DBG] Committing transaction.
2025-06-02 07:15:23.589 +09:00 [DBG] Committed transaction.
2025-06-02 07:15:23.590 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:15:23.590 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 07:15:23.590 +09:00 [DBG] Disposing transaction.
2025-06-02 07:15:23.596 +09:00 [DBG] An entity of type 'Approval' tracked by 'ApprovalDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 07:15:23.597 +09:00 [DBG] An entity of type 'Approver' tracked by 'ApprovalDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 07:15:23.597 +09:00 [DBG] An entity of type 'ApprovalRequest' tracked by 'ApprovalDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 07:15:23.597 +09:00 [DBG] An entity of type 'ApprovalStep' tracked by 'ApprovalDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 07:15:23.597 +09:00 [DBG] An entity of type 'ApprovalRequest' tracked by 'ApprovalDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 07:15:23.597 +09:00 [DBG] An entity of type 'ApprovalStep' tracked by 'ApprovalDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 07:15:23.597 +09:00 [DBG] An entity of type 'ApprovalTemplate' tracked by 'ApprovalDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 07:15:23.598 +09:00 [DBG] SaveChanges completed for 'ApprovalDbContext' with 6 entities written to the database.
2025-06-02 07:15:23.598 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 07:15:23.599 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:15:23.599 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 07:15:23.601 +09:00 [DBG] Hosting starting
2025-06-02 07:15:23.618 +09:00 [DBG] Middleware loaded
2025-06-02 07:15:23.619 +09:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16091 B).
2025-06-02 07:15:23.620 +09:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (776 B).
2025-06-02 07:15:23.626 +09:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-06-02 07:15:23.626 +09:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-06-02 07:15:23.626 +09:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-06-02 07:15:23.630 +09:00 [DBG] No listening endpoints were configured. Binding to http://localhost:5000 by default.
2025-06-02 07:15:23.631 +09:00 [INF] Now listening on: http://localhost:5000
2025-06-02 07:15:23.631 +09:00 [DBG] Loaded hosting startup assembly ApprovalService.API
2025-06-02 07:15:23.631 +09:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-06-02 07:15:23.631 +09:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-02 07:15:23.631 +09:00 [INF] Hosting environment: Production
2025-06-02 07:15:23.631 +09:00 [INF] Content root path: /Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API
2025-06-02 07:15:23.631 +09:00 [DBG] Hosting started
2025-06-02 07:20:46.848 +09:00 [INF] Application is shutting down...
2025-06-02 07:20:46.852 +09:00 [DBG] Hosting stopping
2025-06-02 07:20:46.877 +09:00 [DBG] Hosting stopped
2025-06-02 07:21:04.117 +09:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-02 07:21:04.243 +09:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-06-02 07:21:04.516 +09:00 [DBG] The property 'Approver.ApprovalId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-06-02 07:21:04.559 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 07:21:04.564 +09:00 [DBG] Creating DbConnection.
2025-06-02 07:21:04.570 +09:00 [DBG] Created DbConnection. (4ms).
2025-06-02 07:21:04.571 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:21:04.577 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:21:04.578 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:21:04.580 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 07:21:04.582 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-02 07:21:04.582 +09:00 [DBG] Creating DbConnection.
2025-06-02 07:21:04.582 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 07:21:04.584 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2025-06-02 07:21:04.585 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (3ms).
2025-06-02 07:21:04.585 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:21:04.586 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:21:04.588 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 07:21:04.601 +09:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 07:21:04.602 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:21:04.603 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (1ms).
2025-06-02 07:21:04.605 +09:00 [DBG] Creating DbConnection.
2025-06-02 07:21:04.605 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 07:21:04.605 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:21:04.606 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:21:04.606 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:21:04.606 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 07:21:04.606 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-02 07:21:04.606 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-02 07:21:04.606 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-06-02 07:21:04.606 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:21:04.606 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:21:04.606 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 07:21:04.607 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 07:21:04.607 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:21:04.607 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 07:21:04.628 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .Any()'
2025-06-02 07:21:04.721 +09:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-06-02 07:21:04.734 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:21:04.735 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:21:04.735 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 07:21:04.735 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 07:21:04.735 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 07:21:04.735 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-06-02 07:21:04.736 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-06-02 07:21:04.739 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:21:04.739 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 2ms reading results.
2025-06-02 07:21:04.740 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:21:04.740 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 07:21:04.741 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 07:21:04.741 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:21:04.741 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 07:21:04.743 +09:00 [DBG] Hosting starting
2025-06-02 07:21:04.807 +09:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-06-02 07:21:04.807 +09:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-06-02 07:21:05.171 +09:00 [INF] Now listening on: https://localhost:5001
2025-06-02 07:21:05.171 +09:00 [INF] Now listening on: http://localhost:5229
2025-06-02 07:21:05.171 +09:00 [DBG] Loaded hosting startup assembly ApprovalService.API
2025-06-02 07:21:05.171 +09:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-02 07:21:05.172 +09:00 [INF] Hosting environment: Development
2025-06-02 07:21:05.172 +09:00 [INF] Content root path: /Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API
2025-06-02 07:21:05.172 +09:00 [DBG] Hosting started
2025-06-02 07:21:31.872 +09:00 [DBG] Connection id "0HND1BAKNCM19" accepted.
2025-06-02 07:21:31.874 +09:00 [DBG] Connection id "0HND1BAKNCM19" started.
2025-06-02 07:21:31.922 +09:00 [DBG] Connection 0HND1BAKNCM19 established using the following protocol: "Tls12"
2025-06-02 07:21:31.963 +09:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/approvalrequest/create - application/json; charset=utf-8 null
2025-06-02 07:21:31.975 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/create'
2025-06-02 07:21:31.977 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.CreateApprovalRequest (ApprovalService.API)' with route pattern 'api/ApprovalRequest/create' is valid for the request path '/api/approvalrequest/create'
2025-06-02 07:21:31.978 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.CreateApprovalRequest (ApprovalService.API)'
2025-06-02 07:21:31.993 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 07:21:31.994 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.CreateApprovalRequest (ApprovalService.API)'
2025-06-02 07:21:32.007 +09:00 [INF] Route matched with {action = "CreateApprovalRequest", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateApprovalRequest(ApprovalService.Domain.Entities.ApprovalRequest) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 07:21:32.008 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 07:21:32.008 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 07:21:32.009 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 07:21:32.009 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 07:21:32.009 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 07:21:32.010 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 07:21:32.011 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 07:21:32.016 +09:00 [DBG] Attempting to bind parameter 'approvalRequest' of type 'ApprovalService.Domain.Entities.ApprovalRequest' ...
2025-06-02 07:21:32.017 +09:00 [DBG] Attempting to bind parameter 'approvalRequest' of type 'ApprovalService.Domain.Entities.ApprovalRequest' using the name '' in request data ...
2025-06-02 07:21:32.018 +09:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2025-06-02 07:21:32.055 +09:00 [DBG] Connection id "0HND1BAKNCM19", Request id "0HND1BAKNCM19:00000001": started reading request body.
2025-06-02 07:21:32.057 +09:00 [DBG] Connection id "0HND1BAKNCM19", Request id "0HND1BAKNCM19:00000001": done reading request body.
2025-06-02 07:21:32.069 +09:00 [DBG] JSON input formatter succeeded, deserializing to type 'ApprovalService.Domain.Entities.ApprovalRequest'
2025-06-02 07:21:32.070 +09:00 [DBG] Done attempting to bind parameter 'approvalRequest' of type 'ApprovalService.Domain.Entities.ApprovalRequest'.
2025-06-02 07:21:32.070 +09:00 [DBG] Done attempting to bind parameter 'approvalRequest' of type 'ApprovalService.Domain.Entities.ApprovalRequest'.
2025-06-02 07:21:32.070 +09:00 [DBG] Attempting to validate the bound parameter 'approvalRequest' of type 'ApprovalService.Domain.Entities.ApprovalRequest' ...
2025-06-02 07:21:32.076 +09:00 [DBG] Done attempting to validate the bound parameter 'approvalRequest' of type 'ApprovalService.Domain.Entities.ApprovalRequest'.
2025-06-02 07:21:32.077 +09:00 [DBG] The request has model state errors, returning an error response.
2025-06-02 07:21:32.078 +09:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-06-02 07:21:32.081 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-02 07:21:32.083 +09:00 [DBG] No information found on request to perform content negotiation.
2025-06-02 07:21:32.084 +09:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-06-02 07:21:32.084 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-06-02 07:21:32.085 +09:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-06-02 07:21:32.109 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.CreateApprovalRequest (ApprovalService.API) in 98.6452ms
2025-06-02 07:21:32.111 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.CreateApprovalRequest (ApprovalService.API)'
2025-06-02 07:21:32.112 +09:00 [DBG] Connection id "0HND1BAKNCM19" completed keep alive response.
2025-06-02 07:21:32.113 +09:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/approvalrequest/create - 400 null application/problem+json; charset=utf-8 152.2075ms
2025-06-02 07:22:15.201 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approvalrequest/my-requests/EMP0005 - null null
2025-06-02 07:22:15.373 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/my-requests/EMP0005'
2025-06-02 07:22:15.374 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)' with route pattern 'api/ApprovalRequest/my-requests/{userId}' is valid for the request path '/api/approvalrequest/my-requests/EMP0005'
2025-06-02 07:22:15.376 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-06-02 07:22:15.413 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 07:22:15.413 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-06-02 07:22:15.425 +09:00 [INF] Route matched with {action = "GetMyRequests", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyRequests(System.String) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 07:22:15.425 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 07:22:15.425 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 07:22:15.425 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 07:22:15.425 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 07:22:15.425 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 07:22:15.425 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 07:22:15.426 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 07:22:15.427 +09:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-06-02 07:22:15.427 +09:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-06-02 07:22:15.428 +09:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-06-02 07:22:15.428 +09:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-06-02 07:22:15.428 +09:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-06-02 07:22:15.428 +09:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-06-02 07:22:15.437 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 07:22:15.453 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .Where(request => EF.Property<string>(request, "ApplicantEmployeeNumber") == __userId_0)'
2025-06-02 07:22:15.494 +09:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<ApprovalRequest>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApprovalRequest.ApprovalId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApprovalRequest.ApplicantDepartment (string), 1], [Property: ApprovalRequest.ApplicantEmployeeNumber (string) Required, 2], [Property: ApprovalRequest.ApplicantName (string) Required, 3], [Property: ApprovalRequest.ApplicantPosition (string), 4], [Property: ApprovalRequest.ApprovalType (string), 5], [Property: ApprovalRequest.ApproverComment (string), 6], [Property: ApprovalRequest.MisKey (string), 7], [Property: ApprovalRequest.RequestContent (string), 8], [Property: ApprovalRequest.RequestTitle (string) Required, 9], [Property: ApprovalRequest.RequestedAt (DateTime) Required, 10], [Property: ApprovalRequest.RespondedAt (DateTime?), 11], [Property: ApprovalRequest.Status (string) Required, 12] }
        SELECT a.ApprovalId, a.ApplicantDepartment, a.ApplicantEmployeeNumber, a.ApplicantName, a.ApplicantPosition, a.ApprovalType, a.ApproverComment, a.MisKey, a.RequestContent, a.RequestTitle, a.RequestedAt, a.RespondedAt, a.Status
        FROM ApprovalRequests AS a
        WHERE a.ApplicantEmployeeNumber == @__userId_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApprovalRequest.ApprovalId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApprovalRequest.ApplicantDepartment (string), 1], [Property: ApprovalRequest.ApplicantEmployeeNumber (string) Required, 2], [Property: ApprovalRequest.ApplicantName (string) Required, 3], [Property: ApprovalRequest.ApplicantPosition (string), 4], [Property: ApprovalRequest.ApprovalType (string), 5], [Property: ApprovalRequest.ApproverComment (string), 6], [Property: ApprovalRequest.MisKey (string), 7], [Property: ApprovalRequest.RequestContent (string), 8], [Property: ApprovalRequest.RequestTitle (string) Required, 9], [Property: ApprovalRequest.RequestedAt (DateTime) Required, 10], [Property: ApprovalRequest.RespondedAt (DateTime?), 11], [Property: ApprovalRequest.Status (string) Required, 12] }
        SELECT a.ApprovalId, a.ApplicantDepartment, a.ApplicantEmployeeNumber, a.ApplicantName, a.ApplicantPosition, a.ApprovalType, a.ApproverComment, a.MisKey, a.RequestContent, a.RequestTitle, a.RequestedAt, a.RespondedAt, a.Status
        FROM ApprovalRequests AS a
        WHERE a.ApplicantEmployeeNumber == @__userId_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        ApprovalRequest entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            ApprovalRequest instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(ApprovalRequest);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: ApprovalRequest.ApprovalId PK | Resolver: c => c.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (ApprovalRequest)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")]: 
                        {
                            return 
                            {
                                ApprovalRequest instance;
                                instance = new ApprovalRequest();
                                instance.<ApprovalId>k__BackingField = dataReader.GetGuid(0);
                                instance.<ApplicantDepartment>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                instance.<ApplicantEmployeeNumber>k__BackingField = dataReader.GetString(2);
                                instance.<ApplicantName>k__BackingField = dataReader.GetString(3);
                                instance.<ApplicantPosition>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                instance.<ApprovalType>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                instance.<ApproverComment>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                instance.<MisKey>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                instance.<RequestContent>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                instance.<RequestTitle>k__BackingField = dataReader.GetString(9);
                                instance.<RequestedAt>k__BackingField = dataReader.GetDateTime(10);
                                instance.<RespondedAt>k__BackingField = dataReader.IsDBNull(11) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(11);
                                instance.<Status>k__BackingField = dataReader.GetString(12);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(ApprovalRequest)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-06-02 07:22:15.504 +09:00 [DBG] Creating DbConnection.
2025-06-02 07:22:15.504 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 07:22:15.504 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:22:15.505 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:22:15.505 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 07:22:15.505 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 07:22:15.506 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-06-02 07:22:15.507 +09:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApplicantEmployeeNumber" = @__userId_0
2025-06-02 07:22:15.509 +09:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApplicantEmployeeNumber" = @__userId_0
2025-06-02 07:22:15.510 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:22:15.510 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 0ms reading results.
2025-06-02 07:22:15.510 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:22:15.510 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 07:22:15.511 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-02 07:22:15.511 +09:00 [DBG] No information found on request to perform content negotiation.
2025-06-02 07:22:15.511 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-02 07:22:15.511 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-02 07:22:15.511 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-02 07:22:15.511 +09:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ApprovalService.Domain.Entities.ApprovalRequest, ApprovalService.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-02 07:22:15.517 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API) in 91.6383ms
2025-06-02 07:22:15.517 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-06-02 07:22:15.517 +09:00 [DBG] Connection id "0HND1BAKNCM19" completed keep alive response.
2025-06-02 07:22:15.517 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 07:22:15.519 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:22:15.519 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 07:22:15.519 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approvalrequest/my-requests/EMP0005 - 200 null application/json; charset=utf-8 318.8297ms
2025-06-02 07:22:38.438 +09:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/approvalrequest/create - application/json; charset=utf-8 null
2025-06-02 07:22:38.439 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/create'
2025-06-02 07:22:38.439 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.CreateApprovalRequest (ApprovalService.API)' with route pattern 'api/ApprovalRequest/create' is valid for the request path '/api/approvalrequest/create'
2025-06-02 07:22:38.440 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.CreateApprovalRequest (ApprovalService.API)'
2025-06-02 07:22:38.441 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 07:22:38.441 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.CreateApprovalRequest (ApprovalService.API)'
2025-06-02 07:22:38.442 +09:00 [INF] Route matched with {action = "CreateApprovalRequest", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateApprovalRequest(ApprovalService.Domain.Entities.ApprovalRequest) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 07:22:38.442 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 07:22:38.443 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 07:22:38.443 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 07:22:38.443 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 07:22:38.443 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 07:22:38.443 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 07:22:38.445 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 07:22:38.446 +09:00 [DBG] Attempting to bind parameter 'approvalRequest' of type 'ApprovalService.Domain.Entities.ApprovalRequest' ...
2025-06-02 07:22:38.446 +09:00 [DBG] Attempting to bind parameter 'approvalRequest' of type 'ApprovalService.Domain.Entities.ApprovalRequest' using the name '' in request data ...
2025-06-02 07:22:38.446 +09:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2025-06-02 07:22:38.446 +09:00 [DBG] Connection id "0HND1BAKNCM19", Request id "0HND1BAKNCM19:00000003": started reading request body.
2025-06-02 07:22:38.447 +09:00 [DBG] Connection id "0HND1BAKNCM19", Request id "0HND1BAKNCM19:00000003": done reading request body.
2025-06-02 07:22:38.448 +09:00 [DBG] JSON input formatter succeeded, deserializing to type 'ApprovalService.Domain.Entities.ApprovalRequest'
2025-06-02 07:22:38.448 +09:00 [DBG] Done attempting to bind parameter 'approvalRequest' of type 'ApprovalService.Domain.Entities.ApprovalRequest'.
2025-06-02 07:22:38.448 +09:00 [DBG] Done attempting to bind parameter 'approvalRequest' of type 'ApprovalService.Domain.Entities.ApprovalRequest'.
2025-06-02 07:22:38.448 +09:00 [DBG] Attempting to validate the bound parameter 'approvalRequest' of type 'ApprovalService.Domain.Entities.ApprovalRequest' ...
2025-06-02 07:22:38.454 +09:00 [DBG] Done attempting to validate the bound parameter 'approvalRequest' of type 'ApprovalService.Domain.Entities.ApprovalRequest'.
2025-06-02 07:22:38.455 +09:00 [DBG] The request has model state errors, returning an error response.
2025-06-02 07:22:38.455 +09:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-06-02 07:22:38.455 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-02 07:22:38.455 +09:00 [DBG] No information found on request to perform content negotiation.
2025-06-02 07:22:38.455 +09:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-06-02 07:22:38.456 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-06-02 07:22:38.456 +09:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-06-02 07:22:38.458 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.CreateApprovalRequest (ApprovalService.API) in 14.8457ms
2025-06-02 07:22:38.458 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.CreateApprovalRequest (ApprovalService.API)'
2025-06-02 07:22:38.459 +09:00 [DBG] Connection id "0HND1BAKNCM19" completed keep alive response.
2025-06-02 07:22:38.460 +09:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/approvalrequest/create - 400 null application/problem+json; charset=utf-8 21.6135ms
2025-06-02 07:32:10.465 +09:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-02 07:32:10.584 +09:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-06-02 07:32:10.849 +09:00 [DBG] The property 'Approver.ApprovalId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-06-02 07:32:10.893 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 07:32:10.899 +09:00 [DBG] Creating DbConnection.
2025-06-02 07:32:10.905 +09:00 [DBG] Created DbConnection. (6ms).
2025-06-02 07:32:10.907 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:32:10.916 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:32:10.918 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:32:10.920 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 07:32:10.921 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-02 07:32:10.922 +09:00 [DBG] Creating DbConnection.
2025-06-02 07:32:10.922 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 07:32:10.924 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2025-06-02 07:32:10.924 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (3ms).
2025-06-02 07:32:10.924 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:32:10.925 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:32:10.927 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 07:32:10.940 +09:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 07:32:10.941 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:32:10.942 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (1ms).
2025-06-02 07:32:10.945 +09:00 [DBG] Creating DbConnection.
2025-06-02 07:32:10.945 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 07:32:10.945 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:32:10.945 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:32:10.945 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:32:10.945 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 07:32:10.945 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-02 07:32:10.945 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-02 07:32:10.946 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-06-02 07:32:10.946 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:32:10.946 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:32:10.946 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 07:32:10.946 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 07:32:10.946 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:32:10.946 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 07:32:10.975 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .Any()'
2025-06-02 07:32:11.071 +09:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-06-02 07:32:11.086 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:32:11.087 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:32:11.087 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 07:32:11.087 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 07:32:11.087 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 07:32:11.087 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-06-02 07:32:11.088 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-06-02 07:32:11.091 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:32:11.091 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 2ms reading results.
2025-06-02 07:32:11.092 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:32:11.092 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 07:32:11.093 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 07:32:11.093 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:32:11.093 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 07:32:11.095 +09:00 [DBG] Hosting starting
2025-06-02 07:32:11.127 +09:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-06-02 07:32:11.128 +09:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-06-02 07:32:11.454 +09:00 [INF] Now listening on: https://localhost:5001
2025-06-02 07:32:11.455 +09:00 [INF] Now listening on: http://localhost:5229
2025-06-02 07:32:11.455 +09:00 [DBG] Loaded hosting startup assembly ApprovalService.API
2025-06-02 07:32:11.457 +09:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-02 07:32:11.457 +09:00 [INF] Hosting environment: Development
2025-06-02 07:32:11.457 +09:00 [INF] Content root path: /Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API
2025-06-02 07:32:11.457 +09:00 [DBG] Hosting started
2025-06-02 07:32:49.844 +09:00 [DBG] Connection id "0HND1BGUP1G0H" accepted.
2025-06-02 07:32:49.846 +09:00 [DBG] Connection id "0HND1BGUP1G0H" started.
2025-06-02 07:32:49.911 +09:00 [DBG] Connection 0HND1BGUP1G0H established using the following protocol: "Tls12"
2025-06-02 07:32:49.937 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approvalrequest/my-requests/EMP0005 - null null
2025-06-02 07:32:49.959 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/my-requests/EMP0005'
2025-06-02 07:32:49.961 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)' with route pattern 'api/ApprovalRequest/my-requests/{userId}' is valid for the request path '/api/approvalrequest/my-requests/EMP0005'
2025-06-02 07:32:49.962 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-06-02 07:32:49.978 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 07:32:49.978 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-06-02 07:32:49.991 +09:00 [INF] Route matched with {action = "GetMyRequests", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyRequests(System.String) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 07:32:49.992 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 07:32:49.992 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 07:32:49.993 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 07:32:49.993 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 07:32:49.993 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 07:32:49.994 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 07:32:49.996 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 07:32:50.002 +09:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-06-02 07:32:50.004 +09:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-06-02 07:32:50.005 +09:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-06-02 07:32:50.005 +09:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-06-02 07:32:50.005 +09:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-06-02 07:32:50.008 +09:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-06-02 07:32:50.013 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 07:32:50.020 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .Where(request => EF.Property<string>(request, "ApplicantEmployeeNumber") == __userId_0)'
2025-06-02 07:32:50.055 +09:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<ApprovalRequest>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApprovalRequest.ApprovalId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApprovalRequest.ApplicantDepartment (string), 1], [Property: ApprovalRequest.ApplicantEmployeeNumber (string) Required, 2], [Property: ApprovalRequest.ApplicantName (string) Required, 3], [Property: ApprovalRequest.ApplicantPosition (string), 4], [Property: ApprovalRequest.ApprovalType (string), 5], [Property: ApprovalRequest.ApproverComment (string), 6], [Property: ApprovalRequest.MisKey (string), 7], [Property: ApprovalRequest.RequestContent (string), 8], [Property: ApprovalRequest.RequestTitle (string) Required, 9], [Property: ApprovalRequest.RequestedAt (DateTime) Required, 10], [Property: ApprovalRequest.RespondedAt (DateTime?), 11], [Property: ApprovalRequest.Status (string) Required, 12] }
        SELECT a.ApprovalId, a.ApplicantDepartment, a.ApplicantEmployeeNumber, a.ApplicantName, a.ApplicantPosition, a.ApprovalType, a.ApproverComment, a.MisKey, a.RequestContent, a.RequestTitle, a.RequestedAt, a.RespondedAt, a.Status
        FROM ApprovalRequests AS a
        WHERE a.ApplicantEmployeeNumber == @__userId_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApprovalRequest.ApprovalId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApprovalRequest.ApplicantDepartment (string), 1], [Property: ApprovalRequest.ApplicantEmployeeNumber (string) Required, 2], [Property: ApprovalRequest.ApplicantName (string) Required, 3], [Property: ApprovalRequest.ApplicantPosition (string), 4], [Property: ApprovalRequest.ApprovalType (string), 5], [Property: ApprovalRequest.ApproverComment (string), 6], [Property: ApprovalRequest.MisKey (string), 7], [Property: ApprovalRequest.RequestContent (string), 8], [Property: ApprovalRequest.RequestTitle (string) Required, 9], [Property: ApprovalRequest.RequestedAt (DateTime) Required, 10], [Property: ApprovalRequest.RespondedAt (DateTime?), 11], [Property: ApprovalRequest.Status (string) Required, 12] }
        SELECT a.ApprovalId, a.ApplicantDepartment, a.ApplicantEmployeeNumber, a.ApplicantName, a.ApplicantPosition, a.ApprovalType, a.ApproverComment, a.MisKey, a.RequestContent, a.RequestTitle, a.RequestedAt, a.RespondedAt, a.Status
        FROM ApprovalRequests AS a
        WHERE a.ApplicantEmployeeNumber == @__userId_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        ApprovalRequest entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            ApprovalRequest instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(ApprovalRequest);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: ApprovalRequest.ApprovalId PK | Resolver: c => c.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (ApprovalRequest)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")]: 
                        {
                            return 
                            {
                                ApprovalRequest instance;
                                instance = new ApprovalRequest();
                                instance.<ApprovalId>k__BackingField = dataReader.GetGuid(0);
                                instance.<ApplicantDepartment>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                instance.<ApplicantEmployeeNumber>k__BackingField = dataReader.GetString(2);
                                instance.<ApplicantName>k__BackingField = dataReader.GetString(3);
                                instance.<ApplicantPosition>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                instance.<ApprovalType>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                instance.<ApproverComment>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                instance.<MisKey>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                instance.<RequestContent>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                instance.<RequestTitle>k__BackingField = dataReader.GetString(9);
                                instance.<RequestedAt>k__BackingField = dataReader.GetDateTime(10);
                                instance.<RespondedAt>k__BackingField = dataReader.IsDBNull(11) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(11);
                                instance.<Status>k__BackingField = dataReader.GetString(12);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(ApprovalRequest)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-06-02 07:32:50.065 +09:00 [DBG] Creating DbConnection.
2025-06-02 07:32:50.065 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 07:32:50.065 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:32:50.065 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:32:50.065 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 07:32:50.065 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 07:32:50.066 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-06-02 07:32:50.067 +09:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApplicantEmployeeNumber" = @__userId_0
2025-06-02 07:32:50.069 +09:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApplicantEmployeeNumber" = @__userId_0
2025-06-02 07:32:50.070 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:32:50.070 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 0ms reading results.
2025-06-02 07:32:50.070 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:32:50.070 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 07:32:50.072 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-02 07:32:50.073 +09:00 [DBG] No information found on request to perform content negotiation.
2025-06-02 07:32:50.073 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-02 07:32:50.073 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-02 07:32:50.073 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-02 07:32:50.073 +09:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ApprovalService.Domain.Entities.ApprovalRequest, ApprovalService.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-02 07:32:50.112 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API) in 117.7505ms
2025-06-02 07:32:50.115 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-06-02 07:32:50.115 +09:00 [DBG] Connection id "0HND1BGUP1G0H" completed keep alive response.
2025-06-02 07:32:50.116 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 07:32:50.119 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:32:50.119 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 07:32:50.121 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approvalrequest/my-requests/EMP0005 - 200 null application/json; charset=utf-8 185.5409ms
2025-06-02 07:34:04.886 +09:00 [DBG] Connection id "0HND1BGUP1G0H" received FIN.
2025-06-02 07:34:04.941 +09:00 [DBG] Connection id "0HND1BGUP1G0H" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-02 07:34:04.945 +09:00 [DBG] Connection id "0HND1BGUP1G0H" disconnecting.
2025-06-02 07:34:04.949 +09:00 [DBG] Connection id "0HND1BGUP1G0H" stopped.
2025-06-02 07:34:28.906 +09:00 [INF] Application is shutting down...
2025-06-02 07:34:28.910 +09:00 [DBG] Hosting stopping
2025-06-02 07:34:28.932 +09:00 [DBG] Hosting stopped
icrosoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-02 07:34:03.189 +09:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-06-02 07:34:03.442 +09:00 [DBG] The property 'Approver.ApprovalId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-06-02 07:34:03.486 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 07:34:03.491 +09:00 [DBG] Creating DbConnection.
2025-06-02 07:34:03.497 +09:00 [DBG] Created DbConnection. (4ms).
2025-06-02 07:34:03.498 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:34:03.502 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:34:03.504 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:34:03.506 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 07:34:03.507 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-02 07:34:03.508 +09:00 [DBG] Creating DbConnection.
2025-06-02 07:34:03.508 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 07:34:03.510 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2025-06-02 07:34:03.510 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (3ms).
2025-06-02 07:34:03.510 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:34:03.511 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:34:03.514 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 07:34:03.525 +09:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 07:34:03.526 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:34:03.527 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (1ms).
2025-06-02 07:34:03.529 +09:00 [DBG] Creating DbConnection.
2025-06-02 07:34:03.529 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 07:34:03.529 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:34:03.530 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:34:03.530 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:34:03.530 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 07:34:03.530 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-02 07:34:03.530 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-02 07:34:03.530 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-06-02 07:34:03.530 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:34:03.530 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:34:03.531 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 07:34:03.531 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 07:34:03.531 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:34:03.531 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 07:34:03.553 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .Any()'
2025-06-02 07:34:03.648 +09:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-06-02 07:34:03.660 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:34:03.661 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:34:03.661 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 07:34:03.661 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 07:34:03.661 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 07:34:03.661 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-06-02 07:34:03.662 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-06-02 07:34:03.665 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:34:03.665 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 2ms reading results.
2025-06-02 07:34:03.666 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:34:03.666 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 07:34:03.667 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 07:34:03.667 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:34:03.667 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 07:34:03.669 +09:00 [DBG] Hosting starting
2025-06-02 07:34:03.805 +09:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-06-02 07:34:03.805 +09:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-06-02 07:34:04.043 +09:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address https://127.0.0.1:5001: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (48): Address already in use
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-06-02 07:34:45.829 +09:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-02 07:34:45.938 +09:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-06-02 07:34:46.203 +09:00 [DBG] The property 'Approver.ApprovalId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-06-02 07:34:46.247 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 07:34:46.251 +09:00 [DBG] Creating DbConnection.
2025-06-02 07:34:46.257 +09:00 [DBG] Created DbConnection. (4ms).
2025-06-02 07:34:46.258 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:34:46.265 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:34:46.267 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:34:46.269 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 07:34:46.271 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-02 07:34:46.271 +09:00 [DBG] Creating DbConnection.
2025-06-02 07:34:46.271 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 07:34:46.273 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2025-06-02 07:34:46.274 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (3ms).
2025-06-02 07:34:46.274 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:34:46.275 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:34:46.277 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 07:34:46.292 +09:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 07:34:46.293 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:34:46.294 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (1ms).
2025-06-02 07:34:46.297 +09:00 [DBG] Creating DbConnection.
2025-06-02 07:34:46.297 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 07:34:46.297 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:34:46.297 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:34:46.297 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:34:46.297 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 07:34:46.297 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-02 07:34:46.297 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-02 07:34:46.297 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-06-02 07:34:46.297 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:34:46.297 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:34:46.297 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 07:34:46.298 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 07:34:46.298 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:34:46.298 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 07:34:46.318 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .Any()'
2025-06-02 07:34:46.411 +09:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-06-02 07:34:46.425 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:34:46.426 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:34:46.426 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 07:34:46.426 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 07:34:46.426 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 07:34:46.426 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-06-02 07:34:46.427 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-06-02 07:34:46.430 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:34:46.431 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 2ms reading results.
2025-06-02 07:34:46.432 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:34:46.432 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 07:34:46.433 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 07:34:46.433 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:34:46.433 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 07:34:46.435 +09:00 [DBG] Hosting starting
2025-06-02 07:34:46.464 +09:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-06-02 07:34:46.464 +09:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-06-02 07:34:46.707 +09:00 [INF] Now listening on: https://localhost:5001
2025-06-02 07:34:46.707 +09:00 [INF] Now listening on: http://localhost:5229
2025-06-02 07:34:46.707 +09:00 [DBG] Loaded hosting startup assembly ApprovalService.API
2025-06-02 07:34:46.708 +09:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-02 07:34:46.708 +09:00 [INF] Hosting environment: Development
2025-06-02 07:34:46.708 +09:00 [INF] Content root path: /Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API
2025-06-02 07:34:46.708 +09:00 [DBG] Hosting started
2025-06-02 07:34:52.955 +09:00 [DBG] Connection id "0HND1BI3F3QI1" accepted.
2025-06-02 07:34:52.956 +09:00 [DBG] Connection id "0HND1BI3F3QI1" started.
2025-06-02 07:34:53.002 +09:00 [DBG] Connection 0HND1BI3F3QI1 established using the following protocol: "Tls12"
2025-06-02 07:34:53.030 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approvalrequest/my-requests/EMP0005 - null null
2025-06-02 07:34:53.043 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/my-requests/EMP0005'
2025-06-02 07:34:53.047 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)' with route pattern 'api/ApprovalRequest/my-requests/{userId}' is valid for the request path '/api/approvalrequest/my-requests/EMP0005'
2025-06-02 07:34:53.048 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-06-02 07:34:53.063 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 07:34:53.063 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-06-02 07:34:53.074 +09:00 [INF] Route matched with {action = "GetMyRequests", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyRequests(System.String) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 07:34:53.075 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 07:34:53.075 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 07:34:53.076 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 07:34:53.076 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 07:34:53.076 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 07:34:53.077 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 07:34:53.078 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 07:34:53.085 +09:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-06-02 07:34:53.086 +09:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-06-02 07:34:53.087 +09:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-06-02 07:34:53.087 +09:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-06-02 07:34:53.087 +09:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-06-02 07:34:53.090 +09:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-06-02 07:34:53.121 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 07:34:53.127 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .Where(request => EF.Property<string>(request, "ApplicantEmployeeNumber") == __userId_0)'
2025-06-02 07:34:53.160 +09:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<ApprovalRequest>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApprovalRequest.ApprovalId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApprovalRequest.ApplicantDepartment (string), 1], [Property: ApprovalRequest.ApplicantEmployeeNumber (string) Required, 2], [Property: ApprovalRequest.ApplicantName (string) Required, 3], [Property: ApprovalRequest.ApplicantPosition (string), 4], [Property: ApprovalRequest.ApprovalType (string), 5], [Property: ApprovalRequest.ApproverComment (string), 6], [Property: ApprovalRequest.MisKey (string), 7], [Property: ApprovalRequest.RequestContent (string), 8], [Property: ApprovalRequest.RequestTitle (string) Required, 9], [Property: ApprovalRequest.RequestedAt (DateTime) Required, 10], [Property: ApprovalRequest.RespondedAt (DateTime?), 11], [Property: ApprovalRequest.Status (string) Required, 12] }
        SELECT a.ApprovalId, a.ApplicantDepartment, a.ApplicantEmployeeNumber, a.ApplicantName, a.ApplicantPosition, a.ApprovalType, a.ApproverComment, a.MisKey, a.RequestContent, a.RequestTitle, a.RequestedAt, a.RespondedAt, a.Status
        FROM ApprovalRequests AS a
        WHERE a.ApplicantEmployeeNumber == @__userId_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApprovalRequest.ApprovalId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApprovalRequest.ApplicantDepartment (string), 1], [Property: ApprovalRequest.ApplicantEmployeeNumber (string) Required, 2], [Property: ApprovalRequest.ApplicantName (string) Required, 3], [Property: ApprovalRequest.ApplicantPosition (string), 4], [Property: ApprovalRequest.ApprovalType (string), 5], [Property: ApprovalRequest.ApproverComment (string), 6], [Property: ApprovalRequest.MisKey (string), 7], [Property: ApprovalRequest.RequestContent (string), 8], [Property: ApprovalRequest.RequestTitle (string) Required, 9], [Property: ApprovalRequest.RequestedAt (DateTime) Required, 10], [Property: ApprovalRequest.RespondedAt (DateTime?), 11], [Property: ApprovalRequest.Status (string) Required, 12] }
        SELECT a.ApprovalId, a.ApplicantDepartment, a.ApplicantEmployeeNumber, a.ApplicantName, a.ApplicantPosition, a.ApprovalType, a.ApproverComment, a.MisKey, a.RequestContent, a.RequestTitle, a.RequestedAt, a.RespondedAt, a.Status
        FROM ApprovalRequests AS a
        WHERE a.ApplicantEmployeeNumber == @__userId_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        ApprovalRequest entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            ApprovalRequest instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(ApprovalRequest);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: ApprovalRequest.ApprovalId PK | Resolver: c => c.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (ApprovalRequest)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")]: 
                        {
                            return 
                            {
                                ApprovalRequest instance;
                                instance = new ApprovalRequest();
                                instance.<ApprovalId>k__BackingField = dataReader.GetGuid(0);
                                instance.<ApplicantDepartment>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                instance.<ApplicantEmployeeNumber>k__BackingField = dataReader.GetString(2);
                                instance.<ApplicantName>k__BackingField = dataReader.GetString(3);
                                instance.<ApplicantPosition>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                instance.<ApprovalType>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                instance.<ApproverComment>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                instance.<MisKey>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                instance.<RequestContent>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                instance.<RequestTitle>k__BackingField = dataReader.GetString(9);
                                instance.<RequestedAt>k__BackingField = dataReader.GetDateTime(10);
                                instance.<RespondedAt>k__BackingField = dataReader.IsDBNull(11) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(11);
                                instance.<Status>k__BackingField = dataReader.GetString(12);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(ApprovalRequest)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-06-02 07:34:53.170 +09:00 [DBG] Creating DbConnection.
2025-06-02 07:34:53.170 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 07:34:53.170 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:34:53.171 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:34:53.171 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 07:34:53.171 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 07:34:53.174 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-06-02 07:34:53.175 +09:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApplicantEmployeeNumber" = @__userId_0
2025-06-02 07:34:53.179 +09:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApplicantEmployeeNumber" = @__userId_0
2025-06-02 07:34:53.180 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:34:53.180 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 0ms reading results.
2025-06-02 07:34:53.180 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:34:53.180 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 07:34:53.182 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-02 07:34:53.183 +09:00 [DBG] No information found on request to perform content negotiation.
2025-06-02 07:34:53.183 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-02 07:34:53.183 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-02 07:34:53.183 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-02 07:34:53.183 +09:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ApprovalService.Domain.Entities.ApprovalRequest, ApprovalService.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-02 07:34:53.225 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API) in 147.6366ms
2025-06-02 07:34:53.227 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-06-02 07:34:53.228 +09:00 [DBG] Connection id "0HND1BI3F3QI1" completed keep alive response.
2025-06-02 07:34:53.229 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 07:34:53.230 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:34:53.231 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 07:34:53.231 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approvalrequest/my-requests/EMP0005 - 200 null application/json; charset=utf-8 202.8495ms
2025-06-02 07:35:07.541 +09:00 [DBG] Connection id "0HND1BI3F3QI1" received FIN.
2025-06-02 07:35:07.543 +09:00 [DBG] Connection id "0HND1BI3F3QI1" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-02 07:35:07.547 +09:00 [DBG] Connection id "0HND1BI3F3QI1" disconnecting.
2025-06-02 07:35:07.550 +09:00 [DBG] Connection id "0HND1BI3F3QI1" stopped.
2025-06-02 07:35:32.593 +09:00 [DBG] Connection id "0HND1BI3F3QI2" accepted.
2025-06-02 07:35:32.621 +09:00 [DBG] Connection id "0HND1BI3F3QI2" started.
2025-06-02 07:35:32.645 +09:00 [DBG] Connection 0HND1BI3F3QI2 established using the following protocol: "Tls12"
2025-06-02 07:35:32.652 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approvalrequest/my-requests/EMP0005 - null null
2025-06-02 07:35:32.654 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/my-requests/EMP0005'
2025-06-02 07:35:32.654 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)' with route pattern 'api/ApprovalRequest/my-requests/{userId}' is valid for the request path '/api/approvalrequest/my-requests/EMP0005'
2025-06-02 07:35:32.654 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-06-02 07:35:32.682 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 07:35:32.682 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-06-02 07:35:32.683 +09:00 [INF] Route matched with {action = "GetMyRequests", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyRequests(System.String) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 07:35:32.683 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 07:35:32.684 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 07:35:32.684 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 07:35:32.684 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 07:35:32.684 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 07:35:32.684 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 07:35:32.687 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 07:35:32.688 +09:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-06-02 07:35:32.690 +09:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-06-02 07:35:32.690 +09:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-06-02 07:35:32.690 +09:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-06-02 07:35:32.690 +09:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-06-02 07:35:32.691 +09:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-06-02 07:35:32.765 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 07:35:32.769 +09:00 [DBG] Creating DbConnection.
2025-06-02 07:35:32.770 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 07:35:32.770 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:35:32.770 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:35:32.771 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 07:35:32.771 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 07:35:32.771 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 07:35:32.771 +09:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApplicantEmployeeNumber" = @__userId_0
2025-06-02 07:35:32.772 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApplicantEmployeeNumber" = @__userId_0
2025-06-02 07:35:32.772 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:35:32.772 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 0ms reading results.
2025-06-02 07:35:32.772 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:35:32.772 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 07:35:32.773 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-02 07:35:32.773 +09:00 [DBG] No information found on request to perform content negotiation.
2025-06-02 07:35:32.773 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-02 07:35:32.773 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-02 07:35:32.773 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-02 07:35:32.773 +09:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ApprovalService.Domain.Entities.ApprovalRequest, ApprovalService.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-02 07:35:32.774 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API) in 89.8094ms
2025-06-02 07:35:32.774 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-06-02 07:35:32.774 +09:00 [DBG] Connection id "0HND1BI3F3QI2" completed keep alive response.
2025-06-02 07:35:32.774 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 07:35:32.774 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:35:32.774 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 07:35:32.775 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approvalrequest/my-requests/EMP0005 - 200 null application/json; charset=utf-8 122.4654ms
2025-06-02 07:36:02.293 +09:00 [DBG] Connection id "0HND1BI3F3QI2" received FIN.
2025-06-02 07:36:02.341 +09:00 [DBG] Connection id "0HND1BI3F3QI2" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-02 07:36:02.342 +09:00 [DBG] Connection id "0HND1BI3F3QI2" disconnecting.
2025-06-02 07:36:02.368 +09:00 [DBG] Connection id "0HND1BI3F3QI2" stopped.
2025-06-02 07:50:46.938 +09:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-02 07:50:47.063 +09:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-06-02 07:50:47.341 +09:00 [DBG] The property 'Approver.ApprovalId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-06-02 07:50:47.384 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 07:50:47.389 +09:00 [DBG] Creating DbConnection.
2025-06-02 07:50:47.395 +09:00 [DBG] Created DbConnection. (4ms).
2025-06-02 07:50:47.396 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:50:47.404 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:50:47.405 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:50:47.407 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 07:50:47.409 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-02 07:50:47.409 +09:00 [DBG] Creating DbConnection.
2025-06-02 07:50:47.409 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 07:50:47.411 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2025-06-02 07:50:47.412 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (3ms).
2025-06-02 07:50:47.412 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:50:47.412 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:50:47.415 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 07:50:47.428 +09:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 07:50:47.428 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:50:47.430 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (1ms).
2025-06-02 07:50:47.432 +09:00 [DBG] Creating DbConnection.
2025-06-02 07:50:47.432 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 07:50:47.432 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:50:47.432 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:50:47.432 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:50:47.432 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 07:50:47.433 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-02 07:50:47.433 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-02 07:50:47.433 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-06-02 07:50:47.433 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:50:47.433 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:50:47.433 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 07:50:47.433 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 07:50:47.433 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:50:47.433 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 07:50:47.456 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .Any()'
2025-06-02 07:50:47.559 +09:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-06-02 07:50:47.571 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:50:47.572 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:50:47.572 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 07:50:47.572 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 07:50:47.572 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 07:50:47.572 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-06-02 07:50:47.573 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-06-02 07:50:47.576 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:50:47.577 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 3ms reading results.
2025-06-02 07:50:47.578 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:50:47.578 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 07:50:47.579 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 07:50:47.579 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:50:47.579 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 07:50:47.581 +09:00 [DBG] Hosting starting
2025-06-02 07:50:47.617 +09:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-06-02 07:50:47.618 +09:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-06-02 07:50:47.869 +09:00 [INF] Now listening on: https://localhost:5001
2025-06-02 07:50:47.869 +09:00 [INF] Now listening on: http://localhost:5229
2025-06-02 07:50:47.869 +09:00 [DBG] Loaded hosting startup assembly ApprovalService.API
2025-06-02 07:50:47.870 +09:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-02 07:50:47.870 +09:00 [INF] Hosting environment: Development
2025-06-02 07:50:47.871 +09:00 [INF] Content root path: /Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API
2025-06-02 07:50:47.871 +09:00 [DBG] Hosting started
2025-06-02 07:51:29.640 +09:00 [DBG] Connection id "0HND1BRCG803F" accepted.
2025-06-02 07:51:29.641 +09:00 [DBG] Connection id "0HND1BRCG803F" started.
2025-06-02 07:51:29.703 +09:00 [DBG] Connection 0HND1BRCG803F established using the following protocol: "Tls12"
2025-06-02 07:51:29.723 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approvalrequest/4768b3d6-ff34-4994-a3a0-963d87c99dfb - null null
2025-06-02 07:51:29.734 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/4768b3d6-ff34-4994-a3a0-963d87c99dfb'
2025-06-02 07:51:29.736 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)' with route pattern 'api/ApprovalRequest/{requestid}' is valid for the request path '/api/approvalrequest/4768b3d6-ff34-4994-a3a0-963d87c99dfb'
2025-06-02 07:51:29.736 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 07:51:29.749 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 07:51:29.749 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 07:51:29.767 +09:00 [INF] Route matched with {action = "GetRequestById", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestById(System.Guid) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 07:51:29.769 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 07:51:29.769 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 07:51:29.770 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 07:51:29.770 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 07:51:29.770 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 07:51:29.771 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 07:51:29.772 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 07:51:29.778 +09:00 [DBG] Attempting to bind parameter 'requestid' of type 'System.Guid' ...
2025-06-02 07:51:29.780 +09:00 [DBG] Attempting to bind parameter 'requestid' of type 'System.Guid' using the name 'requestid' in request data ...
2025-06-02 07:51:29.780 +09:00 [DBG] Done attempting to bind parameter 'requestid' of type 'System.Guid'.
2025-06-02 07:51:29.781 +09:00 [DBG] Done attempting to bind parameter 'requestid' of type 'System.Guid'.
2025-06-02 07:51:29.781 +09:00 [DBG] Attempting to validate the bound parameter 'requestid' of type 'System.Guid' ...
2025-06-02 07:51:29.782 +09:00 [DBG] Done attempting to validate the bound parameter 'requestid' of type 'System.Guid'.
2025-06-02 07:51:29.813 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 07:51:29.823 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "ApprovalId"), 
        objB: __p_0))'
2025-06-02 07:51:29.864 +09:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ApprovalRequest>(
    asyncEnumerable: SingleQueryingEnumerable.Create<ApprovalRequest>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApprovalRequest.ApprovalId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApprovalRequest.ApplicantDepartment (string), 1], [Property: ApprovalRequest.ApplicantEmployeeNumber (string) Required, 2], [Property: ApprovalRequest.ApplicantName (string) Required, 3], [Property: ApprovalRequest.ApplicantPosition (string), 4], [Property: ApprovalRequest.ApprovalType (string), 5], [Property: ApprovalRequest.ApproverComment (string), 6], [Property: ApprovalRequest.MisKey (string), 7], [Property: ApprovalRequest.RequestContent (string), 8], [Property: ApprovalRequest.RequestTitle (string) Required, 9], [Property: ApprovalRequest.RequestedAt (DateTime) Required, 10], [Property: ApprovalRequest.RespondedAt (DateTime?), 11], [Property: ApprovalRequest.Status (string) Required, 12] }
            SELECT TOP(1) a.ApprovalId, a.ApplicantDepartment, a.ApplicantEmployeeNumber, a.ApplicantName, a.ApplicantPosition, a.ApprovalType, a.ApproverComment, a.MisKey, a.RequestContent, a.RequestTitle, a.RequestedAt, a.RespondedAt, a.Status
            FROM ApprovalRequests AS a
            WHERE a.ApprovalId == @__p_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApprovalRequest.ApprovalId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApprovalRequest.ApplicantDepartment (string), 1], [Property: ApprovalRequest.ApplicantEmployeeNumber (string) Required, 2], [Property: ApprovalRequest.ApplicantName (string) Required, 3], [Property: ApprovalRequest.ApplicantPosition (string), 4], [Property: ApprovalRequest.ApprovalType (string), 5], [Property: ApprovalRequest.ApproverComment (string), 6], [Property: ApprovalRequest.MisKey (string), 7], [Property: ApprovalRequest.RequestContent (string), 8], [Property: ApprovalRequest.RequestTitle (string) Required, 9], [Property: ApprovalRequest.RequestedAt (DateTime) Required, 10], [Property: ApprovalRequest.RespondedAt (DateTime?), 11], [Property: ApprovalRequest.Status (string) Required, 12] }
            SELECT TOP(1) a.ApprovalId, a.ApplicantDepartment, a.ApplicantEmployeeNumber, a.ApplicantName, a.ApplicantPosition, a.ApprovalType, a.ApproverComment, a.MisKey, a.RequestContent, a.RequestTitle, a.RequestedAt, a.RespondedAt, a.Status
            FROM ApprovalRequests AS a
            WHERE a.ApprovalId == @__p_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            ApprovalRequest entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                ApprovalRequest instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(ApprovalRequest);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: ApprovalRequest.ApprovalId PK | Resolver: c => c.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (ApprovalRequest)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")]: 
                            {
                                return 
                                {
                                    ApprovalRequest instance;
                                    instance = new ApprovalRequest();
                                    instance.<ApprovalId>k__BackingField = dataReader.GetGuid(0);
                                    instance.<ApplicantDepartment>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                    instance.<ApplicantEmployeeNumber>k__BackingField = dataReader.GetString(2);
                                    instance.<ApplicantName>k__BackingField = dataReader.GetString(3);
                                    instance.<ApplicantPosition>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                    instance.<ApprovalType>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                    instance.<ApproverComment>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                    instance.<MisKey>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                    instance.<RequestContent>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                    instance.<RequestTitle>k__BackingField = dataReader.GetString(9);
                                    instance.<RequestedAt>k__BackingField = dataReader.GetDateTime(10);
                                    instance.<RespondedAt>k__BackingField = dataReader.IsDBNull(11) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(11);
                                    instance.<Status>k__BackingField = dataReader.GetString(12);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(ApprovalRequest)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-06-02 07:51:29.874 +09:00 [DBG] Creating DbConnection.
2025-06-02 07:51:29.875 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 07:51:29.875 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:51:29.875 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:51:29.875 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 07:51:29.875 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 07:51:29.876 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 07:51:29.877 +09:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-06-02 07:51:29.879 +09:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-06-02 07:51:29.879 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:51:29.879 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 0ms reading results.
2025-06-02 07:51:29.879 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:51:29.879 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 07:51:29.881 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-02 07:51:29.881 +09:00 [DBG] No information found on request to perform content negotiation.
2025-06-02 07:51:29.882 +09:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-06-02 07:51:29.882 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-06-02 07:51:29.882 +09:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-02 07:51:29.930 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API) in 157.9216ms
2025-06-02 07:51:29.933 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 07:51:29.933 +09:00 [DBG] Connection id "0HND1BRCG803F" completed keep alive response.
2025-06-02 07:51:29.935 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 07:51:29.937 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:51:29.938 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 07:51:29.939 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approvalrequest/4768b3d6-ff34-4994-a3a0-963d87c99dfb - 404 null application/problem+json; charset=utf-8 217.1305ms
2025-06-02 07:51:44.869 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approvalrequest/my-requests/EMP0005 - null null
2025-06-02 07:51:44.875 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/my-requests/EMP0005'
2025-06-02 07:51:44.875 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)' with route pattern 'api/ApprovalRequest/my-requests/{userId}' is valid for the request path '/api/approvalrequest/my-requests/EMP0005'
2025-06-02 07:51:44.875 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-06-02 07:51:44.877 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 07:51:44.877 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-06-02 07:51:44.883 +09:00 [INF] Route matched with {action = "GetMyRequests", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyRequests(System.String) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 07:51:44.883 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 07:51:44.883 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 07:51:44.883 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 07:51:44.883 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 07:51:44.883 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 07:51:44.883 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 07:51:44.887 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 07:51:44.888 +09:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-06-02 07:51:44.888 +09:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-06-02 07:51:44.889 +09:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-06-02 07:51:44.889 +09:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-06-02 07:51:44.889 +09:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-06-02 07:51:44.895 +09:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-06-02 07:51:44.928 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 07:51:44.932 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .Where(request => EF.Property<string>(request, "ApplicantEmployeeNumber") == __userId_0)'
2025-06-02 07:51:44.939 +09:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<ApprovalRequest>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApprovalRequest.ApprovalId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApprovalRequest.ApplicantDepartment (string), 1], [Property: ApprovalRequest.ApplicantEmployeeNumber (string) Required, 2], [Property: ApprovalRequest.ApplicantName (string) Required, 3], [Property: ApprovalRequest.ApplicantPosition (string), 4], [Property: ApprovalRequest.ApprovalType (string), 5], [Property: ApprovalRequest.ApproverComment (string), 6], [Property: ApprovalRequest.MisKey (string), 7], [Property: ApprovalRequest.RequestContent (string), 8], [Property: ApprovalRequest.RequestTitle (string) Required, 9], [Property: ApprovalRequest.RequestedAt (DateTime) Required, 10], [Property: ApprovalRequest.RespondedAt (DateTime?), 11], [Property: ApprovalRequest.Status (string) Required, 12] }
        SELECT a.ApprovalId, a.ApplicantDepartment, a.ApplicantEmployeeNumber, a.ApplicantName, a.ApplicantPosition, a.ApprovalType, a.ApproverComment, a.MisKey, a.RequestContent, a.RequestTitle, a.RequestedAt, a.RespondedAt, a.Status
        FROM ApprovalRequests AS a
        WHERE a.ApplicantEmployeeNumber == @__userId_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApprovalRequest.ApprovalId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApprovalRequest.ApplicantDepartment (string), 1], [Property: ApprovalRequest.ApplicantEmployeeNumber (string) Required, 2], [Property: ApprovalRequest.ApplicantName (string) Required, 3], [Property: ApprovalRequest.ApplicantPosition (string), 4], [Property: ApprovalRequest.ApprovalType (string), 5], [Property: ApprovalRequest.ApproverComment (string), 6], [Property: ApprovalRequest.MisKey (string), 7], [Property: ApprovalRequest.RequestContent (string), 8], [Property: ApprovalRequest.RequestTitle (string) Required, 9], [Property: ApprovalRequest.RequestedAt (DateTime) Required, 10], [Property: ApprovalRequest.RespondedAt (DateTime?), 11], [Property: ApprovalRequest.Status (string) Required, 12] }
        SELECT a.ApprovalId, a.ApplicantDepartment, a.ApplicantEmployeeNumber, a.ApplicantName, a.ApplicantPosition, a.ApprovalType, a.ApproverComment, a.MisKey, a.RequestContent, a.RequestTitle, a.RequestedAt, a.RespondedAt, a.Status
        FROM ApprovalRequests AS a
        WHERE a.ApplicantEmployeeNumber == @__userId_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        ApprovalRequest entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            ApprovalRequest instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(ApprovalRequest);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: ApprovalRequest.ApprovalId PK | Resolver: c => c.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (ApprovalRequest)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")]: 
                        {
                            return 
                            {
                                ApprovalRequest instance;
                                instance = new ApprovalRequest();
                                instance.<ApprovalId>k__BackingField = dataReader.GetGuid(0);
                                instance.<ApplicantDepartment>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                instance.<ApplicantEmployeeNumber>k__BackingField = dataReader.GetString(2);
                                instance.<ApplicantName>k__BackingField = dataReader.GetString(3);
                                instance.<ApplicantPosition>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                instance.<ApprovalType>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                instance.<ApproverComment>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                instance.<MisKey>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                instance.<RequestContent>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                instance.<RequestTitle>k__BackingField = dataReader.GetString(9);
                                instance.<RequestedAt>k__BackingField = dataReader.GetDateTime(10);
                                instance.<RespondedAt>k__BackingField = dataReader.IsDBNull(11) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(11);
                                instance.<Status>k__BackingField = dataReader.GetString(12);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(ApprovalRequest)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-06-02 07:51:44.945 +09:00 [DBG] Creating DbConnection.
2025-06-02 07:51:44.946 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 07:51:44.946 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:51:44.946 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:51:44.946 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 07:51:44.946 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 07:51:44.946 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 07:51:44.947 +09:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApplicantEmployeeNumber" = @__userId_0
2025-06-02 07:51:44.948 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApplicantEmployeeNumber" = @__userId_0
2025-06-02 07:51:44.948 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:51:44.948 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 0ms reading results.
2025-06-02 07:51:44.949 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:51:44.949 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 07:51:44.949 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-02 07:51:44.949 +09:00 [DBG] No information found on request to perform content negotiation.
2025-06-02 07:51:44.949 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-02 07:51:44.949 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-02 07:51:44.950 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-02 07:51:44.950 +09:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ApprovalService.Domain.Entities.ApprovalRequest, ApprovalService.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-02 07:51:44.964 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API) in 80.886ms
2025-06-02 07:51:44.964 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-06-02 07:51:44.964 +09:00 [DBG] Connection id "0HND1BRCG803F" completed keep alive response.
2025-06-02 07:51:44.964 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 07:51:44.964 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:51:44.965 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 07:51:44.966 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approvalrequest/my-requests/EMP0005 - 200 null application/json; charset=utf-8 99.3869ms
2025-06-02 07:52:09.460 +09:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/approvalrequest/create - application/json; charset=utf-8 null
2025-06-02 07:52:09.461 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/create'
2025-06-02 07:52:09.461 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.CreateApprovalRequest (ApprovalService.API)' with route pattern 'api/ApprovalRequest/create' is valid for the request path '/api/approvalrequest/create'
2025-06-02 07:52:09.461 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.CreateApprovalRequest (ApprovalService.API)'
2025-06-02 07:52:09.463 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 07:52:09.463 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.CreateApprovalRequest (ApprovalService.API)'
2025-06-02 07:52:09.470 +09:00 [INF] Route matched with {action = "CreateApprovalRequest", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateApprovalRequest(ApprovalService.Domain.Entities.ApprovalRequest) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 07:52:09.470 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 07:52:09.470 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 07:52:09.470 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 07:52:09.470 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 07:52:09.470 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 07:52:09.470 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 07:52:09.472 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 07:52:09.472 +09:00 [DBG] Attempting to bind parameter 'approvalRequest' of type 'ApprovalService.Domain.Entities.ApprovalRequest' ...
2025-06-02 07:52:09.473 +09:00 [DBG] Attempting to bind parameter 'approvalRequest' of type 'ApprovalService.Domain.Entities.ApprovalRequest' using the name '' in request data ...
2025-06-02 07:52:09.473 +09:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2025-06-02 07:52:09.478 +09:00 [DBG] Connection id "0HND1BRCG803F", Request id "0HND1BRCG803F:00000003": started reading request body.
2025-06-02 07:52:09.480 +09:00 [DBG] Connection id "0HND1BRCG803F", Request id "0HND1BRCG803F:00000003": done reading request body.
2025-06-02 07:52:09.493 +09:00 [DBG] JSON input formatter succeeded, deserializing to type 'ApprovalService.Domain.Entities.ApprovalRequest'
2025-06-02 07:52:09.493 +09:00 [DBG] Done attempting to bind parameter 'approvalRequest' of type 'ApprovalService.Domain.Entities.ApprovalRequest'.
2025-06-02 07:52:09.493 +09:00 [DBG] Done attempting to bind parameter 'approvalRequest' of type 'ApprovalService.Domain.Entities.ApprovalRequest'.
2025-06-02 07:52:09.493 +09:00 [DBG] Attempting to validate the bound parameter 'approvalRequest' of type 'ApprovalService.Domain.Entities.ApprovalRequest' ...
2025-06-02 07:52:09.498 +09:00 [DBG] Done attempting to validate the bound parameter 'approvalRequest' of type 'ApprovalService.Domain.Entities.ApprovalRequest'.
2025-06-02 07:52:09.498 +09:00 [DBG] The request has model state errors, returning an error response.
2025-06-02 07:52:09.499 +09:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-06-02 07:52:09.499 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-02 07:52:09.499 +09:00 [DBG] No information found on request to perform content negotiation.
2025-06-02 07:52:09.499 +09:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-06-02 07:52:09.499 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-06-02 07:52:09.499 +09:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-06-02 07:52:09.502 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.CreateApprovalRequest (ApprovalService.API) in 31.647ms
2025-06-02 07:52:09.504 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.CreateApprovalRequest (ApprovalService.API)'
2025-06-02 07:52:09.552 +09:00 [DBG] Connection id "0HND1BRCG803F" completed keep alive response.
2025-06-02 07:52:09.578 +09:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/approvalrequest/create - 400 null application/problem+json; charset=utf-8 117.8231ms
2025-06-02 07:53:38.811 +09:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-02 07:53:38.930 +09:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-06-02 07:53:39.211 +09:00 [DBG] The property 'Approver.ApprovalId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-06-02 07:53:39.256 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 07:53:39.261 +09:00 [DBG] Creating DbConnection.
2025-06-02 07:53:39.267 +09:00 [DBG] Created DbConnection. (5ms).
2025-06-02 07:53:39.268 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:53:39.275 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:53:39.276 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:53:39.278 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 07:53:39.280 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-02 07:53:39.280 +09:00 [DBG] Creating DbConnection.
2025-06-02 07:53:39.280 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 07:53:39.283 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2025-06-02 07:53:39.283 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (3ms).
2025-06-02 07:53:39.283 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:53:39.284 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:53:39.287 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 07:53:39.301 +09:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 07:53:39.302 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:53:39.303 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (1ms).
2025-06-02 07:53:39.305 +09:00 [DBG] Creating DbConnection.
2025-06-02 07:53:39.305 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 07:53:39.305 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:53:39.306 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:53:39.306 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:53:39.306 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 07:53:39.306 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-02 07:53:39.306 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-02 07:53:39.306 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-06-02 07:53:39.306 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:53:39.306 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:53:39.306 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 07:53:39.307 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 07:53:39.307 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:53:39.307 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 07:53:39.330 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .Any()'
2025-06-02 07:53:39.429 +09:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-06-02 07:53:39.442 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:53:39.443 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:53:39.443 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 07:53:39.443 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 07:53:39.443 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 07:53:39.443 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-06-02 07:53:39.444 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-06-02 07:53:39.447 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:53:39.447 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 2ms reading results.
2025-06-02 07:53:39.448 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:53:39.448 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 07:53:39.449 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 07:53:39.449 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:53:39.449 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 07:53:39.451 +09:00 [DBG] Hosting starting
2025-06-02 07:53:39.478 +09:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-06-02 07:53:39.478 +09:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-06-02 07:53:39.713 +09:00 [INF] Now listening on: https://localhost:5001
2025-06-02 07:53:39.713 +09:00 [INF] Now listening on: http://localhost:5229
2025-06-02 07:53:39.713 +09:00 [DBG] Loaded hosting startup assembly ApprovalService.API
2025-06-02 07:53:39.714 +09:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-02 07:53:39.714 +09:00 [INF] Hosting environment: Development
2025-06-02 07:53:39.714 +09:00 [INF] Content root path: /Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API
2025-06-02 07:53:39.714 +09:00 [DBG] Hosting started
2025-06-02 07:54:00.708 +09:00 [DBG] Connection id "0HND1BSPGUAS9" accepted.
2025-06-02 07:54:00.709 +09:00 [DBG] Connection id "0HND1BSPGUAS9" started.
2025-06-02 07:54:00.753 +09:00 [DBG] Connection 0HND1BSPGUAS9 established using the following protocol: "Tls12"
2025-06-02 07:54:00.775 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approvalrequest/my-requests/EMP0005 - null null
2025-06-02 07:54:00.790 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/my-requests/EMP0005'
2025-06-02 07:54:00.794 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)' with route pattern 'api/ApprovalRequest/my-requests/{userId}' is valid for the request path '/api/approvalrequest/my-requests/EMP0005'
2025-06-02 07:54:00.795 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-06-02 07:54:00.809 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 07:54:00.810 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-06-02 07:54:00.821 +09:00 [INF] Route matched with {action = "GetMyRequests", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyRequests(System.String) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 07:54:00.822 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 07:54:00.822 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 07:54:00.822 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 07:54:00.822 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 07:54:00.822 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 07:54:00.823 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 07:54:00.824 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 07:54:00.830 +09:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-06-02 07:54:00.832 +09:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-06-02 07:54:00.833 +09:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-06-02 07:54:00.833 +09:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-06-02 07:54:00.833 +09:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-06-02 07:54:00.836 +09:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-06-02 07:54:00.865 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 07:54:00.893 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .Where(request => EF.Property<string>(request, "ApplicantEmployeeNumber") == __userId_0)'
2025-06-02 07:54:00.941 +09:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<ApprovalRequest>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApprovalRequest.ApprovalId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApprovalRequest.ApplicantDepartment (string), 1], [Property: ApprovalRequest.ApplicantEmployeeNumber (string) Required, 2], [Property: ApprovalRequest.ApplicantName (string) Required, 3], [Property: ApprovalRequest.ApplicantPosition (string), 4], [Property: ApprovalRequest.ApprovalType (string), 5], [Property: ApprovalRequest.ApproverComment (string), 6], [Property: ApprovalRequest.MisKey (string), 7], [Property: ApprovalRequest.RequestContent (string), 8], [Property: ApprovalRequest.RequestTitle (string) Required, 9], [Property: ApprovalRequest.RequestedAt (DateTime) Required, 10], [Property: ApprovalRequest.RespondedAt (DateTime?), 11], [Property: ApprovalRequest.Status (string) Required, 12] }
        SELECT a.ApprovalId, a.ApplicantDepartment, a.ApplicantEmployeeNumber, a.ApplicantName, a.ApplicantPosition, a.ApprovalType, a.ApproverComment, a.MisKey, a.RequestContent, a.RequestTitle, a.RequestedAt, a.RespondedAt, a.Status
        FROM ApprovalRequests AS a
        WHERE a.ApplicantEmployeeNumber == @__userId_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApprovalRequest.ApprovalId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApprovalRequest.ApplicantDepartment (string), 1], [Property: ApprovalRequest.ApplicantEmployeeNumber (string) Required, 2], [Property: ApprovalRequest.ApplicantName (string) Required, 3], [Property: ApprovalRequest.ApplicantPosition (string), 4], [Property: ApprovalRequest.ApprovalType (string), 5], [Property: ApprovalRequest.ApproverComment (string), 6], [Property: ApprovalRequest.MisKey (string), 7], [Property: ApprovalRequest.RequestContent (string), 8], [Property: ApprovalRequest.RequestTitle (string) Required, 9], [Property: ApprovalRequest.RequestedAt (DateTime) Required, 10], [Property: ApprovalRequest.RespondedAt (DateTime?), 11], [Property: ApprovalRequest.Status (string) Required, 12] }
        SELECT a.ApprovalId, a.ApplicantDepartment, a.ApplicantEmployeeNumber, a.ApplicantName, a.ApplicantPosition, a.ApprovalType, a.ApproverComment, a.MisKey, a.RequestContent, a.RequestTitle, a.RequestedAt, a.RespondedAt, a.Status
        FROM ApprovalRequests AS a
        WHERE a.ApplicantEmployeeNumber == @__userId_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        ApprovalRequest entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            ApprovalRequest instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(ApprovalRequest);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: ApprovalRequest.ApprovalId PK | Resolver: c => c.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (ApprovalRequest)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")]: 
                        {
                            return 
                            {
                                ApprovalRequest instance;
                                instance = new ApprovalRequest();
                                instance.<ApprovalId>k__BackingField = dataReader.GetGuid(0);
                                instance.<ApplicantDepartment>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                instance.<ApplicantEmployeeNumber>k__BackingField = dataReader.GetString(2);
                                instance.<ApplicantName>k__BackingField = dataReader.GetString(3);
                                instance.<ApplicantPosition>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                instance.<ApprovalType>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                instance.<ApproverComment>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                instance.<MisKey>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                instance.<RequestContent>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                instance.<RequestTitle>k__BackingField = dataReader.GetString(9);
                                instance.<RequestedAt>k__BackingField = dataReader.GetDateTime(10);
                                instance.<RespondedAt>k__BackingField = dataReader.IsDBNull(11) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(11);
                                instance.<Status>k__BackingField = dataReader.GetString(12);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(ApprovalRequest)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-06-02 07:54:00.953 +09:00 [DBG] Creating DbConnection.
2025-06-02 07:54:00.953 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 07:54:00.954 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:54:00.954 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:54:00.954 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 07:54:00.954 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 07:54:00.956 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-06-02 07:54:00.957 +09:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApplicantEmployeeNumber" = @__userId_0
2025-06-02 07:54:00.960 +09:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApplicantEmployeeNumber" = @__userId_0
2025-06-02 07:54:00.960 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:54:00.960 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 0ms reading results.
2025-06-02 07:54:00.960 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:54:00.961 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 07:54:00.963 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-02 07:54:00.964 +09:00 [DBG] No information found on request to perform content negotiation.
2025-06-02 07:54:00.964 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-02 07:54:00.964 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-02 07:54:00.965 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-02 07:54:00.965 +09:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ApprovalService.Domain.Entities.ApprovalRequest, ApprovalService.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-02 07:54:01.006 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API) in 182.6115ms
2025-06-02 07:54:01.009 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-06-02 07:54:01.009 +09:00 [DBG] Connection id "0HND1BSPGUAS9" completed keep alive response.
2025-06-02 07:54:01.010 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 07:54:01.012 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:54:01.012 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 07:54:01.013 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approvalrequest/my-requests/EMP0005 - 200 null application/json; charset=utf-8 239.0364ms
2025-06-02 07:54:23.805 +09:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/approvalrequest/create - application/json; charset=utf-8 null
2025-06-02 07:54:23.807 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/create'
2025-06-02 07:54:23.807 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.CreateApprovalRequest (ApprovalService.API)' with route pattern 'api/ApprovalRequest/create' is valid for the request path '/api/approvalrequest/create'
2025-06-02 07:54:23.808 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.CreateApprovalRequest (ApprovalService.API)'
2025-06-02 07:54:23.809 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 07:54:23.809 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.CreateApprovalRequest (ApprovalService.API)'
2025-06-02 07:54:23.935 +09:00 [INF] Route matched with {action = "CreateApprovalRequest", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateApprovalRequest(ApprovalService.Domain.Entities.ApprovalRequest) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 07:54:23.935 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 07:54:23.935 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 07:54:23.935 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 07:54:23.935 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 07:54:23.935 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 07:54:23.935 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 07:54:23.959 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 07:54:23.962 +09:00 [DBG] Attempting to bind parameter 'approvalRequest' of type 'ApprovalService.Domain.Entities.ApprovalRequest' ...
2025-06-02 07:54:23.966 +09:00 [DBG] Attempting to bind parameter 'approvalRequest' of type 'ApprovalService.Domain.Entities.ApprovalRequest' using the name '' in request data ...
2025-06-02 07:54:23.967 +09:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2025-06-02 07:54:23.983 +09:00 [DBG] Connection id "0HND1BSPGUAS9", Request id "0HND1BSPGUAS9:00000002": started reading request body.
2025-06-02 07:54:23.986 +09:00 [DBG] Connection id "0HND1BSPGUAS9", Request id "0HND1BSPGUAS9:00000002": done reading request body.
2025-06-02 07:54:24.000 +09:00 [DBG] JSON input formatter succeeded, deserializing to type 'ApprovalService.Domain.Entities.ApprovalRequest'
2025-06-02 07:54:24.001 +09:00 [DBG] Done attempting to bind parameter 'approvalRequest' of type 'ApprovalService.Domain.Entities.ApprovalRequest'.
2025-06-02 07:54:24.001 +09:00 [DBG] Done attempting to bind parameter 'approvalRequest' of type 'ApprovalService.Domain.Entities.ApprovalRequest'.
2025-06-02 07:54:24.001 +09:00 [DBG] Attempting to validate the bound parameter 'approvalRequest' of type 'ApprovalService.Domain.Entities.ApprovalRequest' ...
2025-06-02 07:54:24.006 +09:00 [DBG] Done attempting to validate the bound parameter 'approvalRequest' of type 'ApprovalService.Domain.Entities.ApprovalRequest'.
2025-06-02 07:54:27.174 +09:00 [INF] Creating a new approval request.
2025-06-02 07:54:27.761 +09:00 [DBG] Approval Request Details: {"ApprovalId":"31a2ffd5-4055-4c81-b4e3-3f4215b4bce4","RequestTitle":"test","RequestContent":"est","ApplicantEmployeeNumber":"EMP0005","ApplicantName":"User 5","ApplicantPosition":null,"ApplicantDepartment":null,"Status":"Pending","RequestedAt":"2025-06-01T22:54:16.4719400Z","RespondedAt":null,"ApproverComment":null,"ApprovalType":null,"MisKey":null,"Steps":[{"StepId":"00000000-0000-0000-0000-000000000000","ApprovalId":"00000000-0000-0000-0000-000000000000","ApproverEmployeeNumber":"EMP0001","Sequence":1,"IsFinalApprover":true,"ActionStatus":null,"ActionDate":null,"Comment":null,"ApprovalRequest":null,"$type":"ApprovalStep"},{"StepId":"00000000-0000-0000-0000-000000000000","ApprovalId":"00000000-0000-0000-0000-000000000000","ApproverEmployeeNumber":"1001","Sequence":1,"IsFinalApprover":true,"ActionStatus":null,"ActionDate":null,"Comment":null,"ApprovalRequest":null,"$type":"ApprovalStep"}],"$type":"ApprovalRequest"}
2025-06-02 07:54:47.944 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 07:54:47.992 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 07:54:47.995 +09:00 [DBG] 'ApprovalDbContext' generated a value for the property 'ApprovalStep.StepId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 07:54:48.012 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalStep' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 07:54:48.015 +09:00 [DBG] 'ApprovalDbContext' generated a value for the property 'ApprovalStep.StepId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 07:54:48.018 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalStep' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 07:54:48.022 +09:00 [DBG] SaveChanges starting for 'ApprovalDbContext'.
2025-06-02 07:54:48.026 +09:00 [DBG] DetectChanges starting for 'ApprovalDbContext'.
2025-06-02 07:54:48.036 +09:00 [DBG] DetectChanges completed for 'ApprovalDbContext'.
2025-06-02 07:54:48.069 +09:00 [DBG] Creating DbConnection.
2025-06-02 07:54:48.069 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 07:54:48.069 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:54:48.069 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:54:48.070 +09:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-06-02 07:54:48.072 +09:00 [DBG] Began transaction with isolation level 'Serializable'.
2025-06-02 07:54:48.073 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 07:54:48.073 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 07:54:48.074 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 07:54:48.074 +09:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (Size = 7), @p3='?' (Size = 6), @p4='?', @p5='?', @p6='?', @p7='?', @p8='?' (Size = 3), @p9='?' (Size = 4), @p10='?' (DbType = DateTime), @p11='?' (DbType = DateTime), @p12='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ApprovalRequests" ("ApprovalId", "ApplicantDepartment", "ApplicantEmployeeNumber", "ApplicantName", "ApplicantPosition", "ApprovalType", "ApproverComment", "MisKey", "RequestContent", "RequestTitle", "RequestedAt", "RespondedAt", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2025-06-02 07:54:48.075 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (Size = 7), @p3='?' (Size = 6), @p4='?', @p5='?', @p6='?', @p7='?', @p8='?' (Size = 3), @p9='?' (Size = 4), @p10='?' (DbType = DateTime), @p11='?' (DbType = DateTime), @p12='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ApprovalRequests" ("ApprovalId", "ApplicantDepartment", "ApplicantEmployeeNumber", "ApplicantName", "ApplicantPosition", "ApprovalType", "ApproverComment", "MisKey", "RequestContent", "RequestTitle", "RequestedAt", "RespondedAt", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2025-06-02 07:54:48.076 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:54:48.077 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 1ms reading results.
2025-06-02 07:54:48.077 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 07:54:48.077 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 07:54:48.077 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 07:54:48.077 +09:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Guid), @p4='?' (Size = 7), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ApprovalSteps" ("StepId", "ActionDate", "ActionStatus", "ApprovalId", "ApproverEmployeeNumber", "Comment", "IsFinalApprover", "Sequence")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-02 07:54:48.079 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Guid), @p4='?' (Size = 7), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ApprovalSteps" ("StepId", "ActionDate", "ActionStatus", "ApprovalId", "ApproverEmployeeNumber", "Comment", "IsFinalApprover", "Sequence")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-02 07:54:48.079 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:54:48.079 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 0ms reading results.
2025-06-02 07:54:48.079 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 07:54:48.079 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 07:54:48.079 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 07:54:48.079 +09:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Guid), @p4='?' (Size = 4), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ApprovalSteps" ("StepId", "ActionDate", "ActionStatus", "ApprovalId", "ApproverEmployeeNumber", "Comment", "IsFinalApprover", "Sequence")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-02 07:54:48.079 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Guid), @p4='?' (Size = 4), @p5='?', @p6='?' (DbType = Boolean), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ApprovalSteps" ("StepId", "ActionDate", "ActionStatus", "ApprovalId", "ApproverEmployeeNumber", "Comment", "IsFinalApprover", "Sequence")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-02 07:54:48.079 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:54:48.079 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 0ms reading results.
2025-06-02 07:54:48.081 +09:00 [DBG] Committing transaction.
2025-06-02 07:54:48.083 +09:00 [DBG] Committed transaction.
2025-06-02 07:54:48.084 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:54:48.084 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 07:54:48.085 +09:00 [DBG] Disposing transaction.
2025-06-02 07:54:48.088 +09:00 [DBG] An entity of type 'ApprovalRequest' tracked by 'ApprovalDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 07:54:48.089 +09:00 [DBG] An entity of type 'ApprovalStep' tracked by 'ApprovalDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 07:54:48.089 +09:00 [DBG] An entity of type 'ApprovalStep' tracked by 'ApprovalDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 07:54:48.089 +09:00 [DBG] SaveChanges completed for 'ApprovalDbContext' with 3 entities written to the database.
2025-06-02 07:54:53.766 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-02 07:54:53.768 +09:00 [DBG] No information found on request to perform content negotiation.
2025-06-02 07:54:53.768 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-02 07:54:53.768 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-02 07:54:53.769 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-02 07:54:53.769 +09:00 [INF] Executing CreatedAtActionResult, writing value of type 'ApprovalService.Domain.Entities.ApprovalRequest'.
2025-06-02 07:54:53.794 +09:00 [DBG] Found the endpoints ["ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)"] for address (id=[31a2ffd5-4055-4c81-b4e3-3f4215b4bce4],action=[GetRequestById],controller=[ApprovalRequest])
2025-06-02 07:54:53.796 +09:00 [DBG] Failed to process the template api/ApprovalRequest/{requestid} for ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API). A required route value is missing, or has a different value from the required default values. Supplied ambient values { "action": "CreateApprovalRequest", "controller": "ApprovalRequest" } and { "action": "GetRequestById", "controller": "ApprovalRequest", "id": "31a2ffd5-4055-4c81-b4e3-3f4215b4bce4" } with default values { "action": "GetRequestById", "controller": "ApprovalRequest" }
2025-06-02 07:54:53.796 +09:00 [DBG] Link generation failed for endpoints ["ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)"]
2025-06-02 07:54:53.804 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.CreateApprovalRequest (ApprovalService.API) in 29869.7276ms
2025-06-02 07:54:53.807 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.CreateApprovalRequest (ApprovalService.API)'
2025-06-02 07:54:53.809 +09:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No route matches the supplied values.
   at Microsoft.AspNetCore.Mvc.CreatedAtActionResult.OnFormatting(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-06-02 07:54:53.849 +09:00 [DBG] Connection id "0HND1BSPGUAS9" completed keep alive response.
2025-06-02 07:54:53.850 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 07:54:53.851 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:54:53.851 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 07:54:53.858 +09:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/approvalrequest/create - 500 null text/plain; charset=utf-8 30054.3066ms
2025-06-02 07:56:04.630 +09:00 [DBG] Connection id "0HND1BSPGUAS9" received FIN.
2025-06-02 07:56:04.663 +09:00 [DBG] Connection id "0HND1BSPGUAS9" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-02 07:56:04.673 +09:00 [DBG] Connection id "0HND1BSPGUAS9" disconnecting.
2025-06-02 07:56:05.051 +09:00 [DBG] Connection id "0HND1BSPGUAS9" stopped.
2025-06-02 07:56:13.431 +09:00 [DBG] Connection id "0HND1BSPGUASA" accepted.
2025-06-02 07:56:13.432 +09:00 [DBG] Connection id "0HND1BSPGUASA" started.
2025-06-02 07:56:13.459 +09:00 [DBG] Connection 0HND1BSPGUASA established using the following protocol: "Tls12"
2025-06-02 07:56:13.469 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approvalrequest/my-requests/EMP0005 - null null
2025-06-02 07:56:13.469 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/my-requests/EMP0005'
2025-06-02 07:56:13.469 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)' with route pattern 'api/ApprovalRequest/my-requests/{userId}' is valid for the request path '/api/approvalrequest/my-requests/EMP0005'
2025-06-02 07:56:13.469 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-06-02 07:56:13.476 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 07:56:13.476 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-06-02 07:56:13.478 +09:00 [INF] Route matched with {action = "GetMyRequests", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyRequests(System.String) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 07:56:13.479 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 07:56:13.479 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 07:56:13.479 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 07:56:13.479 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 07:56:13.479 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 07:56:13.479 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 07:56:13.481 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 07:56:13.482 +09:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-06-02 07:56:13.482 +09:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-06-02 07:56:13.482 +09:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-06-02 07:56:13.483 +09:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-06-02 07:56:13.483 +09:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-06-02 07:56:13.483 +09:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-06-02 07:56:13.484 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 07:56:13.491 +09:00 [DBG] Creating DbConnection.
2025-06-02 07:56:13.492 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 07:56:13.492 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:56:13.492 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:56:13.492 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 07:56:13.492 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 07:56:13.492 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 07:56:13.493 +09:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApplicantEmployeeNumber" = @__userId_0
2025-06-02 07:56:13.493 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApplicantEmployeeNumber" = @__userId_0
2025-06-02 07:56:13.501 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 07:56:13.502 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:56:13.502 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 9ms reading results.
2025-06-02 07:56:13.503 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:56:13.503 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 07:56:13.503 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-02 07:56:13.503 +09:00 [DBG] No information found on request to perform content negotiation.
2025-06-02 07:56:13.503 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-02 07:56:13.503 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-02 07:56:13.503 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-02 07:56:13.503 +09:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ApprovalService.Domain.Entities.ApprovalRequest, ApprovalService.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-02 07:56:13.512 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API) in 33.1594ms
2025-06-02 07:56:13.513 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-06-02 07:56:13.513 +09:00 [DBG] Connection id "0HND1BSPGUASA" completed keep alive response.
2025-06-02 07:56:13.513 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 07:56:13.513 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:56:13.513 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 07:56:13.514 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approvalrequest/my-requests/EMP0005 - 200 null application/json; charset=utf-8 44.8891ms
2025-06-02 07:56:27.317 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - null null
2025-06-02 07:56:27.318 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 07:56:27.319 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)' with route pattern 'api/ApprovalRequest/{requestid}' is valid for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 07:56:27.324 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 07:56:27.335 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 07:56:27.335 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 07:56:27.360 +09:00 [INF] Route matched with {action = "GetRequestById", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestById(System.Guid) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 07:56:27.361 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 07:56:27.361 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 07:56:27.361 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 07:56:27.361 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 07:56:27.361 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 07:56:27.361 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 07:56:27.363 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 07:56:27.364 +09:00 [DBG] Attempting to bind parameter 'requestid' of type 'System.Guid' ...
2025-06-02 07:56:27.364 +09:00 [DBG] Attempting to bind parameter 'requestid' of type 'System.Guid' using the name 'requestid' in request data ...
2025-06-02 07:56:27.365 +09:00 [DBG] Done attempting to bind parameter 'requestid' of type 'System.Guid'.
2025-06-02 07:56:27.365 +09:00 [DBG] Done attempting to bind parameter 'requestid' of type 'System.Guid'.
2025-06-02 07:56:27.365 +09:00 [DBG] Attempting to validate the bound parameter 'requestid' of type 'System.Guid' ...
2025-06-02 07:56:27.365 +09:00 [DBG] Done attempting to validate the bound parameter 'requestid' of type 'System.Guid'.
2025-06-02 07:56:27.380 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 07:56:27.396 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "ApprovalId"), 
        objB: __p_0))'
2025-06-02 07:56:27.420 +09:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ApprovalRequest>(
    asyncEnumerable: SingleQueryingEnumerable.Create<ApprovalRequest>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApprovalRequest.ApprovalId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApprovalRequest.ApplicantDepartment (string), 1], [Property: ApprovalRequest.ApplicantEmployeeNumber (string) Required, 2], [Property: ApprovalRequest.ApplicantName (string) Required, 3], [Property: ApprovalRequest.ApplicantPosition (string), 4], [Property: ApprovalRequest.ApprovalType (string), 5], [Property: ApprovalRequest.ApproverComment (string), 6], [Property: ApprovalRequest.MisKey (string), 7], [Property: ApprovalRequest.RequestContent (string), 8], [Property: ApprovalRequest.RequestTitle (string) Required, 9], [Property: ApprovalRequest.RequestedAt (DateTime) Required, 10], [Property: ApprovalRequest.RespondedAt (DateTime?), 11], [Property: ApprovalRequest.Status (string) Required, 12] }
            SELECT TOP(1) a.ApprovalId, a.ApplicantDepartment, a.ApplicantEmployeeNumber, a.ApplicantName, a.ApplicantPosition, a.ApprovalType, a.ApproverComment, a.MisKey, a.RequestContent, a.RequestTitle, a.RequestedAt, a.RespondedAt, a.Status
            FROM ApprovalRequests AS a
            WHERE a.ApprovalId == @__p_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApprovalRequest.ApprovalId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApprovalRequest.ApplicantDepartment (string), 1], [Property: ApprovalRequest.ApplicantEmployeeNumber (string) Required, 2], [Property: ApprovalRequest.ApplicantName (string) Required, 3], [Property: ApprovalRequest.ApplicantPosition (string), 4], [Property: ApprovalRequest.ApprovalType (string), 5], [Property: ApprovalRequest.ApproverComment (string), 6], [Property: ApprovalRequest.MisKey (string), 7], [Property: ApprovalRequest.RequestContent (string), 8], [Property: ApprovalRequest.RequestTitle (string) Required, 9], [Property: ApprovalRequest.RequestedAt (DateTime) Required, 10], [Property: ApprovalRequest.RespondedAt (DateTime?), 11], [Property: ApprovalRequest.Status (string) Required, 12] }
            SELECT TOP(1) a.ApprovalId, a.ApplicantDepartment, a.ApplicantEmployeeNumber, a.ApplicantName, a.ApplicantPosition, a.ApprovalType, a.ApproverComment, a.MisKey, a.RequestContent, a.RequestTitle, a.RequestedAt, a.RespondedAt, a.Status
            FROM ApprovalRequests AS a
            WHERE a.ApprovalId == @__p_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            ApprovalRequest entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                ApprovalRequest instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(ApprovalRequest);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: ApprovalRequest.ApprovalId PK | Resolver: c => c.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (ApprovalRequest)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")]: 
                            {
                                return 
                                {
                                    ApprovalRequest instance;
                                    instance = new ApprovalRequest();
                                    instance.<ApprovalId>k__BackingField = dataReader.GetGuid(0);
                                    instance.<ApplicantDepartment>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                    instance.<ApplicantEmployeeNumber>k__BackingField = dataReader.GetString(2);
                                    instance.<ApplicantName>k__BackingField = dataReader.GetString(3);
                                    instance.<ApplicantPosition>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                    instance.<ApprovalType>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                    instance.<ApproverComment>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                    instance.<MisKey>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                    instance.<RequestContent>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                    instance.<RequestTitle>k__BackingField = dataReader.GetString(9);
                                    instance.<RequestedAt>k__BackingField = dataReader.GetDateTime(10);
                                    instance.<RespondedAt>k__BackingField = dataReader.IsDBNull(11) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(11);
                                    instance.<Status>k__BackingField = dataReader.GetString(12);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(ApprovalRequest)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-06-02 07:56:27.425 +09:00 [DBG] Creating DbConnection.
2025-06-02 07:56:27.425 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 07:56:27.425 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:56:27.425 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:56:27.425 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 07:56:27.425 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 07:56:27.425 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 07:56:27.426 +09:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-06-02 07:56:27.426 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-06-02 07:56:27.426 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 07:56:27.429 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:56:27.429 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 3ms reading results.
2025-06-02 07:56:27.430 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:56:27.430 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 07:56:27.430 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-02 07:56:27.430 +09:00 [DBG] No information found on request to perform content negotiation.
2025-06-02 07:56:27.430 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-02 07:56:27.430 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-02 07:56:27.430 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-02 07:56:27.430 +09:00 [INF] Executing OkObjectResult, writing value of type 'ApprovalService.Domain.Entities.ApprovalRequest'.
2025-06-02 07:56:27.430 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API) in 69.1078ms
2025-06-02 07:56:27.430 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 07:56:27.431 +09:00 [DBG] Connection id "0HND1BSPGUASA" completed keep alive response.
2025-06-02 07:56:27.431 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 07:56:27.431 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:56:27.431 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 07:56:27.431 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - 200 null application/json; charset=utf-8 114.6505ms
2025-06-02 07:56:45.011 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approvalrequest/my-requests/EMP0005 - null null
2025-06-02 07:56:45.011 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/my-requests/EMP0005'
2025-06-02 07:56:45.012 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)' with route pattern 'api/ApprovalRequest/my-requests/{userId}' is valid for the request path '/api/approvalrequest/my-requests/EMP0005'
2025-06-02 07:56:45.012 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-06-02 07:56:45.013 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 07:56:45.013 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-06-02 07:56:45.019 +09:00 [INF] Route matched with {action = "GetMyRequests", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyRequests(System.String) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 07:56:45.020 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 07:56:45.020 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 07:56:45.021 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 07:56:45.021 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 07:56:45.021 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 07:56:45.021 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 07:56:45.023 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 07:56:45.023 +09:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-06-02 07:56:45.024 +09:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-06-02 07:56:45.024 +09:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-06-02 07:56:45.024 +09:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-06-02 07:56:45.024 +09:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-06-02 07:56:45.024 +09:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-06-02 07:56:45.026 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 07:56:45.028 +09:00 [DBG] Creating DbConnection.
2025-06-02 07:56:45.029 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 07:56:45.029 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:56:45.031 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:56:45.031 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 07:56:45.032 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-06-02 07:56:45.032 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-06-02 07:56:45.033 +09:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApplicantEmployeeNumber" = @__userId_0
2025-06-02 07:56:45.034 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApplicantEmployeeNumber" = @__userId_0
2025-06-02 07:56:45.035 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 07:56:45.035 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:56:45.035 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 1ms reading results.
2025-06-02 07:56:45.035 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:56:45.036 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 07:56:45.036 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-02 07:56:45.036 +09:00 [DBG] No information found on request to perform content negotiation.
2025-06-02 07:56:45.036 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-02 07:56:45.036 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-02 07:56:45.036 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-02 07:56:45.037 +09:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ApprovalService.Domain.Entities.ApprovalRequest, ApprovalService.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-02 07:56:45.038 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API) in 16.8421ms
2025-06-02 07:56:45.038 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-06-02 07:56:45.038 +09:00 [DBG] Connection id "0HND1BSPGUASA" completed keep alive response.
2025-06-02 07:56:45.038 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 07:56:45.038 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:56:45.038 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 07:56:45.038 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approvalrequest/my-requests/EMP0005 - 200 null application/json; charset=utf-8 28.8229ms
2025-06-02 07:57:45.230 +09:00 [DBG] Connection id "0HND1BSPGUASA" received FIN.
2025-06-02 07:57:45.239 +09:00 [DBG] Connection id "0HND1BSPGUASA" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-02 07:57:45.241 +09:00 [DBG] Connection id "0HND1BSPGUASA" disconnecting.
2025-06-02 07:57:45.271 +09:00 [DBG] Connection id "0HND1BSPGUASA" stopped.
2025-06-02 07:57:48.986 +09:00 [DBG] Connection id "0HND1BSPGUASB" accepted.
2025-06-02 07:57:48.987 +09:00 [DBG] Connection id "0HND1BSPGUASB" started.
2025-06-02 07:57:49.026 +09:00 [DBG] Connection 0HND1BSPGUASB established using the following protocol: "Tls12"
2025-06-02 07:57:49.196 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approvalrequest/my-requests/EMP0005 - null null
2025-06-02 07:57:49.509 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/my-requests/EMP0005'
2025-06-02 07:57:49.528 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)' with route pattern 'api/ApprovalRequest/my-requests/{userId}' is valid for the request path '/api/approvalrequest/my-requests/EMP0005'
2025-06-02 07:57:49.531 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-06-02 07:57:49.544 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 07:57:49.551 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-06-02 07:57:49.554 +09:00 [INF] Route matched with {action = "GetMyRequests", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyRequests(System.String) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 07:57:49.560 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 07:57:49.563 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 07:57:49.563 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 07:57:49.563 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 07:57:49.563 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 07:57:49.563 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 07:57:49.563 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 07:57:49.564 +09:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-06-02 07:57:49.566 +09:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-06-02 07:57:49.566 +09:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-06-02 07:57:49.566 +09:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-06-02 07:57:49.566 +09:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-06-02 07:57:49.567 +09:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-06-02 07:57:49.578 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 07:57:49.582 +09:00 [DBG] Creating DbConnection.
2025-06-02 07:57:49.584 +09:00 [DBG] Created DbConnection. (1ms).
2025-06-02 07:57:49.584 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:57:49.584 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:57:49.585 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 07:57:49.585 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 07:57:49.585 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 07:57:49.585 +09:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApplicantEmployeeNumber" = @__userId_0
2025-06-02 07:57:49.585 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApplicantEmployeeNumber" = @__userId_0
2025-06-02 07:57:49.586 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 07:57:49.587 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:57:49.587 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 1ms reading results.
2025-06-02 07:57:49.588 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:57:49.588 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 07:57:49.588 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-02 07:57:49.588 +09:00 [DBG] No information found on request to perform content negotiation.
2025-06-02 07:57:49.588 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-02 07:57:49.588 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-02 07:57:49.588 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-02 07:57:49.588 +09:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ApprovalService.Domain.Entities.ApprovalRequest, ApprovalService.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-02 07:57:49.589 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API) in 26.3865ms
2025-06-02 07:57:49.590 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-06-02 07:57:49.590 +09:00 [DBG] Connection id "0HND1BSPGUASB" completed keep alive response.
2025-06-02 07:57:49.590 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 07:57:49.590 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:57:49.590 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 07:57:49.590 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approvalrequest/my-requests/EMP0005 - 200 null application/json; charset=utf-8 523.303ms
2025-06-02 07:57:55.174 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - null null
2025-06-02 07:57:55.175 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 07:57:55.175 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)' with route pattern 'api/ApprovalRequest/{requestid}' is valid for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 07:57:55.175 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 07:57:55.176 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 07:57:55.176 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 07:57:55.176 +09:00 [INF] Route matched with {action = "GetRequestById", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestById(System.Guid) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 07:57:55.176 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 07:57:55.177 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 07:57:55.177 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 07:57:55.177 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 07:57:55.177 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 07:57:55.177 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 07:57:55.178 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 07:57:55.179 +09:00 [DBG] Attempting to bind parameter 'requestid' of type 'System.Guid' ...
2025-06-02 07:57:55.179 +09:00 [DBG] Attempting to bind parameter 'requestid' of type 'System.Guid' using the name 'requestid' in request data ...
2025-06-02 07:57:55.179 +09:00 [DBG] Done attempting to bind parameter 'requestid' of type 'System.Guid'.
2025-06-02 07:57:55.179 +09:00 [DBG] Done attempting to bind parameter 'requestid' of type 'System.Guid'.
2025-06-02 07:57:55.179 +09:00 [DBG] Attempting to validate the bound parameter 'requestid' of type 'System.Guid' ...
2025-06-02 07:57:55.179 +09:00 [DBG] Done attempting to validate the bound parameter 'requestid' of type 'System.Guid'.
2025-06-02 07:57:55.181 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 07:57:55.182 +09:00 [DBG] Creating DbConnection.
2025-06-02 07:57:55.182 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 07:57:55.182 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:57:55.182 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:57:55.182 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 07:57:55.183 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 07:57:55.183 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 07:57:55.183 +09:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-06-02 07:57:55.184 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-06-02 07:57:55.186 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 07:57:55.186 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:57:55.187 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 1ms reading results.
2025-06-02 07:57:55.187 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 07:57:55.187 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 07:57:55.187 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-02 07:57:55.187 +09:00 [DBG] No information found on request to perform content negotiation.
2025-06-02 07:57:55.187 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-02 07:57:55.187 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-02 07:57:55.188 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-02 07:57:55.188 +09:00 [INF] Executing OkObjectResult, writing value of type 'ApprovalService.Domain.Entities.ApprovalRequest'.
2025-06-02 07:57:55.188 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API) in 11.5174ms
2025-06-02 07:57:55.188 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 07:57:55.188 +09:00 [DBG] Connection id "0HND1BSPGUASB" completed keep alive response.
2025-06-02 07:57:55.188 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 07:57:55.188 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 07:57:55.189 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 07:57:55.189 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - 200 null application/json; charset=utf-8 14.855ms
2025-06-02 07:59:01.003 +09:00 [DBG] Connection id "0HND1BSPGUASB" received FIN.
2025-06-02 07:59:01.058 +09:00 [DBG] Connection id "0HND1BSPGUASB" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-02 07:59:01.058 +09:00 [DBG] Connection id "0HND1BSPGUASB" disconnecting.
2025-06-02 07:59:01.110 +09:00 [DBG] Connection id "0HND1BSPGUASB" stopped.
2025-06-02 08:00:09.435 +09:00 [DBG] Connection id "0HND1BSPGUASC" accepted.
2025-06-02 08:00:09.436 +09:00 [DBG] Connection id "0HND1BSPGUASC" started.
2025-06-02 08:00:09.462 +09:00 [DBG] Connection 0HND1BSPGUASC established using the following protocol: "Tls12"
2025-06-02 08:00:09.468 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - null null
2025-06-02 08:00:09.470 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 08:00:09.474 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)' with route pattern 'api/ApprovalRequest/{requestid}' is valid for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 08:00:09.474 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:00:09.482 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 08:00:09.482 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:00:09.486 +09:00 [INF] Route matched with {action = "GetRequestById", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestById(System.Guid) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 08:00:09.487 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 08:00:09.487 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 08:00:09.488 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 08:00:09.488 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 08:00:09.488 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 08:00:09.488 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 08:00:09.491 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 08:00:09.492 +09:00 [DBG] Attempting to bind parameter 'requestid' of type 'System.Guid' ...
2025-06-02 08:00:09.492 +09:00 [DBG] Attempting to bind parameter 'requestid' of type 'System.Guid' using the name 'requestid' in request data ...
2025-06-02 08:00:09.492 +09:00 [DBG] Done attempting to bind parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:00:09.492 +09:00 [DBG] Done attempting to bind parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:00:09.492 +09:00 [DBG] Attempting to validate the bound parameter 'requestid' of type 'System.Guid' ...
2025-06-02 08:00:09.492 +09:00 [DBG] Done attempting to validate the bound parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:00:09.499 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 08:00:09.502 +09:00 [DBG] Creating DbConnection.
2025-06-02 08:00:09.502 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 08:00:09.502 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:00:09.503 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:00:09.503 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 08:00:09.503 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:00:09.504 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:00:09.504 +09:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-06-02 08:00:09.505 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-06-02 08:00:09.506 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 08:00:09.507 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:00:09.507 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 2ms reading results.
2025-06-02 08:00:09.508 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:00:09.508 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:00:09.508 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-02 08:00:09.508 +09:00 [DBG] No information found on request to perform content negotiation.
2025-06-02 08:00:09.508 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-02 08:00:09.508 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-02 08:00:09.508 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-02 08:00:09.509 +09:00 [INF] Executing OkObjectResult, writing value of type 'ApprovalService.Domain.Entities.ApprovalRequest'.
2025-06-02 08:00:09.510 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API) in 21.6666ms
2025-06-02 08:00:09.510 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:00:09.510 +09:00 [DBG] Connection id "0HND1BSPGUASC" completed keep alive response.
2025-06-02 08:00:09.510 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 08:00:09.510 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:00:09.510 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:00:09.512 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - 200 null application/json; charset=utf-8 42.3344ms
2025-06-02 08:00:28.049 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - null null
2025-06-02 08:00:28.051 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 08:00:28.052 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)' with route pattern 'api/ApprovalRequest/{requestid}' is valid for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 08:00:28.052 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:00:28.061 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 08:00:28.061 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:00:28.063 +09:00 [INF] Route matched with {action = "GetRequestById", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestById(System.Guid) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 08:00:28.065 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 08:00:28.065 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 08:00:28.066 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 08:00:28.066 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 08:00:28.066 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 08:00:28.066 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 08:00:28.067 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 08:00:28.068 +09:00 [DBG] Attempting to bind parameter 'requestid' of type 'System.Guid' ...
2025-06-02 08:00:28.068 +09:00 [DBG] Attempting to bind parameter 'requestid' of type 'System.Guid' using the name 'requestid' in request data ...
2025-06-02 08:00:28.068 +09:00 [DBG] Done attempting to bind parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:00:28.068 +09:00 [DBG] Done attempting to bind parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:00:28.068 +09:00 [DBG] Attempting to validate the bound parameter 'requestid' of type 'System.Guid' ...
2025-06-02 08:00:28.068 +09:00 [DBG] Done attempting to validate the bound parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:00:28.070 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 08:00:28.076 +09:00 [DBG] Creating DbConnection.
2025-06-02 08:00:28.076 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 08:00:28.076 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:00:28.077 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:00:28.077 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 08:00:28.077 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:00:28.077 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:00:28.077 +09:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-06-02 08:00:28.077 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-06-02 08:00:28.078 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 08:00:28.078 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:00:28.078 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 0ms reading results.
2025-06-02 08:00:28.078 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:00:28.078 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:00:28.080 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-02 08:00:28.080 +09:00 [DBG] No information found on request to perform content negotiation.
2025-06-02 08:00:28.081 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-02 08:00:28.081 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-02 08:00:28.081 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-02 08:00:28.081 +09:00 [INF] Executing OkObjectResult, writing value of type 'ApprovalService.Domain.Entities.ApprovalRequest'.
2025-06-02 08:00:28.089 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API) in 22.8485ms
2025-06-02 08:00:28.089 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:00:28.089 +09:00 [DBG] Connection id "0HND1BSPGUASC" completed keep alive response.
2025-06-02 08:00:28.090 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 08:00:28.090 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:00:28.090 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:00:28.090 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - 200 null application/json; charset=utf-8 41.6408ms
2025-06-02 08:00:45.791 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - null null
2025-06-02 08:00:45.796 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 08:00:45.797 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)' with route pattern 'api/ApprovalRequest/{requestid}' is valid for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 08:00:45.798 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:00:45.799 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 08:00:45.799 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:00:45.800 +09:00 [INF] Route matched with {action = "GetRequestById", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestById(System.Guid) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 08:00:45.800 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 08:00:45.800 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 08:00:45.800 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 08:00:45.800 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 08:00:45.800 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 08:00:45.800 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 08:00:45.812 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 08:00:45.815 +09:00 [DBG] Attempting to bind parameter 'requestid' of type 'System.Guid' ...
2025-06-02 08:00:45.816 +09:00 [DBG] Attempting to bind parameter 'requestid' of type 'System.Guid' using the name 'requestid' in request data ...
2025-06-02 08:00:45.816 +09:00 [DBG] Done attempting to bind parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:00:45.816 +09:00 [DBG] Done attempting to bind parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:00:45.816 +09:00 [DBG] Attempting to validate the bound parameter 'requestid' of type 'System.Guid' ...
2025-06-02 08:00:45.816 +09:00 [DBG] Done attempting to validate the bound parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:00:45.823 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 08:00:45.828 +09:00 [DBG] Creating DbConnection.
2025-06-02 08:00:45.829 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 08:00:45.829 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:00:45.831 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:00:45.832 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 08:00:45.832 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:00:45.832 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:00:45.832 +09:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-06-02 08:00:45.833 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-06-02 08:00:45.839 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 08:00:45.839 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:00:45.839 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 5ms reading results.
2025-06-02 08:00:45.839 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:00:45.840 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:00:45.841 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-02 08:00:45.841 +09:00 [DBG] No information found on request to perform content negotiation.
2025-06-02 08:00:45.841 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-02 08:00:45.842 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-02 08:00:45.842 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-02 08:00:45.842 +09:00 [INF] Executing OkObjectResult, writing value of type 'ApprovalService.Domain.Entities.ApprovalRequest'.
2025-06-02 08:00:45.849 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API) in 48.5048ms
2025-06-02 08:00:45.849 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:00:45.850 +09:00 [DBG] Connection id "0HND1BSPGUASC" completed keep alive response.
2025-06-02 08:00:45.851 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 08:00:45.851 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:00:45.851 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:00:45.851 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - 200 null application/json; charset=utf-8 61.5732ms
2025-06-02 08:00:48.666 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - null null
2025-06-02 08:00:48.667 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 08:00:48.667 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)' with route pattern 'api/ApprovalRequest/{requestid}' is valid for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 08:00:48.667 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:00:48.668 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 08:00:48.668 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:00:48.668 +09:00 [INF] Route matched with {action = "GetRequestById", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestById(System.Guid) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 08:00:48.668 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 08:00:48.668 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 08:00:48.668 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 08:00:48.668 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 08:00:48.668 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 08:00:48.668 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 08:00:48.673 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 08:00:48.680 +09:00 [DBG] Attempting to bind parameter 'requestid' of type 'System.Guid' ...
2025-06-02 08:00:48.695 +09:00 [DBG] Attempting to bind parameter 'requestid' of type 'System.Guid' using the name 'requestid' in request data ...
2025-06-02 08:00:48.745 +09:00 [DBG] Done attempting to bind parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:00:48.745 +09:00 [DBG] Done attempting to bind parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:00:48.751 +09:00 [DBG] Attempting to validate the bound parameter 'requestid' of type 'System.Guid' ...
2025-06-02 08:00:48.771 +09:00 [DBG] Done attempting to validate the bound parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:00:49.019 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 08:00:49.032 +09:00 [DBG] Creating DbConnection.
2025-06-02 08:00:49.033 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 08:00:49.033 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:00:49.033 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:00:49.034 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 08:00:49.034 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:00:49.034 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:00:49.034 +09:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-06-02 08:00:49.035 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-06-02 08:00:49.042 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 08:00:49.043 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:00:49.043 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 8ms reading results.
2025-06-02 08:00:49.043 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:00:49.043 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:00:49.043 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-02 08:00:49.043 +09:00 [DBG] No information found on request to perform content negotiation.
2025-06-02 08:00:49.044 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-02 08:00:49.044 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-02 08:00:49.044 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-02 08:00:49.044 +09:00 [INF] Executing OkObjectResult, writing value of type 'ApprovalService.Domain.Entities.ApprovalRequest'.
2025-06-02 08:00:49.048 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API) in 379.7688ms
2025-06-02 08:00:49.048 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:00:49.048 +09:00 [DBG] Connection id "0HND1BSPGUASC" completed keep alive response.
2025-06-02 08:00:49.048 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 08:00:49.048 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:00:49.048 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:00:49.048 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - 200 null application/json; charset=utf-8 383.0187ms
2025-06-02 08:00:53.768 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - null null
2025-06-02 08:00:53.779 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 08:00:53.783 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)' with route pattern 'api/ApprovalRequest/{requestid}' is valid for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 08:00:53.792 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:00:53.795 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 08:00:53.795 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:00:53.796 +09:00 [INF] Route matched with {action = "GetRequestById", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestById(System.Guid) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 08:00:53.796 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 08:00:53.796 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 08:00:53.796 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 08:00:53.796 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 08:00:53.796 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 08:00:53.796 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 08:00:53.797 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 08:00:53.798 +09:00 [DBG] Attempting to bind parameter 'requestid' of type 'System.Guid' ...
2025-06-02 08:00:53.798 +09:00 [DBG] Attempting to bind parameter 'requestid' of type 'System.Guid' using the name 'requestid' in request data ...
2025-06-02 08:00:53.798 +09:00 [DBG] Done attempting to bind parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:00:53.798 +09:00 [DBG] Done attempting to bind parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:00:53.798 +09:00 [DBG] Attempting to validate the bound parameter 'requestid' of type 'System.Guid' ...
2025-06-02 08:00:53.799 +09:00 [DBG] Done attempting to validate the bound parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:00:53.801 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 08:00:53.804 +09:00 [DBG] Creating DbConnection.
2025-06-02 08:00:53.805 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 08:00:53.805 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:00:53.805 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:00:53.805 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 08:00:53.805 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:00:53.805 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:00:53.805 +09:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-06-02 08:00:53.806 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-06-02 08:00:53.807 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 08:00:53.807 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:00:53.807 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 1ms reading results.
2025-06-02 08:00:53.807 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:00:53.807 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:00:53.807 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-02 08:00:53.807 +09:00 [DBG] No information found on request to perform content negotiation.
2025-06-02 08:00:53.807 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-02 08:00:53.807 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-02 08:00:53.808 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-02 08:00:53.808 +09:00 [INF] Executing OkObjectResult, writing value of type 'ApprovalService.Domain.Entities.ApprovalRequest'.
2025-06-02 08:00:53.808 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API) in 12.213ms
2025-06-02 08:00:53.809 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:00:53.809 +09:00 [DBG] Connection id "0HND1BSPGUASC" completed keep alive response.
2025-06-02 08:00:53.809 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 08:00:53.809 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:00:53.809 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:00:53.809 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - 200 null application/json; charset=utf-8 41.5444ms
2025-06-02 08:01:50.546 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - null null
2025-06-02 08:01:50.547 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 08:01:50.547 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)' with route pattern 'api/ApprovalRequest/{requestid}' is valid for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 08:01:50.547 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:01:50.549 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 08:01:50.549 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:01:50.549 +09:00 [INF] Route matched with {action = "GetRequestById", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestById(System.Guid) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 08:01:50.549 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 08:01:50.549 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 08:01:50.549 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 08:01:50.549 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 08:01:50.549 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 08:01:50.549 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 08:01:50.550 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 08:01:50.550 +09:00 [DBG] Attempting to bind parameter 'requestid' of type 'System.Guid' ...
2025-06-02 08:01:50.550 +09:00 [DBG] Attempting to bind parameter 'requestid' of type 'System.Guid' using the name 'requestid' in request data ...
2025-06-02 08:01:50.551 +09:00 [DBG] Done attempting to bind parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:01:50.551 +09:00 [DBG] Done attempting to bind parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:01:50.551 +09:00 [DBG] Attempting to validate the bound parameter 'requestid' of type 'System.Guid' ...
2025-06-02 08:01:50.551 +09:00 [DBG] Done attempting to validate the bound parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:01:50.553 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 08:01:50.555 +09:00 [DBG] Creating DbConnection.
2025-06-02 08:01:50.555 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 08:01:50.555 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:01:50.555 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:01:50.555 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 08:01:50.555 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:01:50.555 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:01:50.556 +09:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-06-02 08:01:50.556 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-06-02 08:01:50.557 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 08:01:50.557 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:01:50.557 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 0ms reading results.
2025-06-02 08:01:50.557 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:01:50.557 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:01:50.558 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-02 08:01:50.558 +09:00 [DBG] No information found on request to perform content negotiation.
2025-06-02 08:01:50.558 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-02 08:01:50.558 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-02 08:01:50.558 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-02 08:01:50.558 +09:00 [INF] Executing OkObjectResult, writing value of type 'ApprovalService.Domain.Entities.ApprovalRequest'.
2025-06-02 08:01:50.558 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API) in 8.8912ms
2025-06-02 08:01:50.558 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:01:50.558 +09:00 [DBG] Connection id "0HND1BSPGUASC" completed keep alive response.
2025-06-02 08:01:50.558 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 08:01:50.558 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:01:50.558 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:01:50.559 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - 200 null application/json; charset=utf-8 12.6339ms
2025-06-02 08:01:53.373 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - null null
2025-06-02 08:01:53.373 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 08:01:53.373 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)' with route pattern 'api/ApprovalRequest/{requestid}' is valid for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 08:01:53.373 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:01:53.373 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 08:01:53.373 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:01:53.373 +09:00 [INF] Route matched with {action = "GetRequestById", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestById(System.Guid) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 08:01:53.373 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 08:01:53.373 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 08:01:53.373 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 08:01:53.373 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 08:01:53.374 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 08:01:53.374 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 08:01:53.374 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 08:01:53.374 +09:00 [DBG] Attempting to bind parameter 'requestid' of type 'System.Guid' ...
2025-06-02 08:01:53.374 +09:00 [DBG] Attempting to bind parameter 'requestid' of type 'System.Guid' using the name 'requestid' in request data ...
2025-06-02 08:01:53.374 +09:00 [DBG] Done attempting to bind parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:01:53.374 +09:00 [DBG] Done attempting to bind parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:01:53.374 +09:00 [DBG] Attempting to validate the bound parameter 'requestid' of type 'System.Guid' ...
2025-06-02 08:01:53.374 +09:00 [DBG] Done attempting to validate the bound parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:01:53.375 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 08:01:53.376 +09:00 [DBG] Creating DbConnection.
2025-06-02 08:01:53.376 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 08:01:53.376 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:01:53.376 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:01:53.376 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 08:01:53.376 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:01:53.376 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:01:53.376 +09:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-06-02 08:01:53.377 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-06-02 08:01:53.377 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 08:01:53.377 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:01:53.377 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 0ms reading results.
2025-06-02 08:01:53.377 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:01:53.377 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:01:53.377 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-02 08:01:53.377 +09:00 [DBG] No information found on request to perform content negotiation.
2025-06-02 08:01:53.377 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-02 08:01:53.377 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-02 08:01:53.377 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-02 08:01:53.378 +09:00 [INF] Executing OkObjectResult, writing value of type 'ApprovalService.Domain.Entities.ApprovalRequest'.
2025-06-02 08:01:53.378 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API) in 4.2954ms
2025-06-02 08:01:53.378 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:01:53.378 +09:00 [DBG] Connection id "0HND1BSPGUASC" completed keep alive response.
2025-06-02 08:01:53.378 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 08:01:53.378 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:01:53.378 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:01:53.378 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - 200 null application/json; charset=utf-8 5.0315ms
2025-06-02 08:02:06.009 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - null null
2025-06-02 08:02:06.010 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 08:02:06.010 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)' with route pattern 'api/ApprovalRequest/{requestid}' is valid for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 08:02:06.010 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:02:06.014 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 08:02:06.014 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:02:06.014 +09:00 [INF] Route matched with {action = "GetRequestById", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestById(System.Guid) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 08:02:06.014 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 08:02:06.015 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 08:02:06.015 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 08:02:06.015 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 08:02:06.015 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 08:02:06.015 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 08:02:06.016 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 08:02:06.016 +09:00 [DBG] Attempting to bind parameter 'requestid' of type 'System.Guid' ...
2025-06-02 08:02:06.017 +09:00 [DBG] Attempting to bind parameter 'requestid' of type 'System.Guid' using the name 'requestid' in request data ...
2025-06-02 08:02:06.017 +09:00 [DBG] Done attempting to bind parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:02:06.017 +09:00 [DBG] Done attempting to bind parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:02:06.017 +09:00 [DBG] Attempting to validate the bound parameter 'requestid' of type 'System.Guid' ...
2025-06-02 08:02:06.017 +09:00 [DBG] Done attempting to validate the bound parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:02:06.024 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 08:02:06.027 +09:00 [DBG] Creating DbConnection.
2025-06-02 08:02:06.029 +09:00 [DBG] Created DbConnection. (2ms).
2025-06-02 08:02:06.030 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:02:06.030 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:02:06.030 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 08:02:06.030 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:02:06.031 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:02:06.031 +09:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-06-02 08:02:06.032 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-06-02 08:02:06.033 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 08:02:06.034 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:02:06.034 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 1ms reading results.
2025-06-02 08:02:06.034 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:02:06.035 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:02:06.038 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-02 08:02:06.039 +09:00 [DBG] No information found on request to perform content negotiation.
2025-06-02 08:02:06.039 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-02 08:02:06.039 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-02 08:02:06.039 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-02 08:02:06.039 +09:00 [INF] Executing OkObjectResult, writing value of type 'ApprovalService.Domain.Entities.ApprovalRequest'.
2025-06-02 08:02:06.043 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API) in 28.2141ms
2025-06-02 08:02:06.043 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:02:06.043 +09:00 [DBG] Connection id "0HND1BSPGUASC" completed keep alive response.
2025-06-02 08:02:06.043 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 08:02:06.043 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:02:06.043 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:02:06.043 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - 200 null application/json; charset=utf-8 34.716ms
2025-06-02 08:02:14.512 +09:00 [DBG] Connection id "0HND1BSPGUASD" accepted.
2025-06-02 08:02:14.512 +09:00 [DBG] Connection id "0HND1BSPGUASD" started.
2025-06-02 08:02:14.539 +09:00 [DBG] Connection 0HND1BSPGUASD established using the following protocol: "Tls12"
2025-06-02 08:02:14.543 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - null null
2025-06-02 08:02:14.543 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 08:02:14.543 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)' with route pattern 'api/ApprovalRequest/{requestid}' is valid for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 08:02:14.543 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:02:14.543 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 08:02:14.543 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:02:14.543 +09:00 [INF] Route matched with {action = "GetRequestById", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestById(System.Guid) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 08:02:14.543 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 08:02:14.543 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 08:02:14.543 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 08:02:14.543 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 08:02:14.543 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 08:02:14.543 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 08:02:14.544 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 08:02:14.544 +09:00 [DBG] Attempting to bind parameter 'requestid' of type 'System.Guid' ...
2025-06-02 08:02:14.544 +09:00 [DBG] Attempting to bind parameter 'requestid' of type 'System.Guid' using the name 'requestid' in request data ...
2025-06-02 08:02:14.544 +09:00 [DBG] Done attempting to bind parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:02:14.544 +09:00 [DBG] Done attempting to bind parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:02:14.544 +09:00 [DBG] Attempting to validate the bound parameter 'requestid' of type 'System.Guid' ...
2025-06-02 08:02:14.544 +09:00 [DBG] Done attempting to validate the bound parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:02:14.545 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 08:02:14.545 +09:00 [DBG] Creating DbConnection.
2025-06-02 08:02:14.545 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 08:02:14.545 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:02:14.545 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:02:14.545 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 08:02:14.545 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:02:14.545 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:02:14.545 +09:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-06-02 08:02:14.545 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-06-02 08:02:14.545 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 08:02:14.545 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:02:14.545 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 0ms reading results.
2025-06-02 08:02:14.545 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:02:14.546 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:02:14.546 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-02 08:02:14.546 +09:00 [DBG] No information found on request to perform content negotiation.
2025-06-02 08:02:14.546 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-02 08:02:14.546 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-02 08:02:14.546 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-02 08:02:14.546 +09:00 [INF] Executing OkObjectResult, writing value of type 'ApprovalService.Domain.Entities.ApprovalRequest'.
2025-06-02 08:02:14.546 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API) in 2.419ms
2025-06-02 08:02:14.546 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:02:14.546 +09:00 [DBG] Connection id "0HND1BSPGUASD" completed keep alive response.
2025-06-02 08:02:14.546 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 08:02:14.546 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:02:14.546 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:02:14.546 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - 200 null application/json; charset=utf-8 3.3132ms
2025-06-02 08:02:18.510 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - null null
2025-06-02 08:02:18.511 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 08:02:18.511 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)' with route pattern 'api/ApprovalRequest/{requestid}' is valid for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 08:02:18.511 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:02:18.513 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 08:02:18.513 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:02:18.514 +09:00 [INF] Route matched with {action = "GetRequestById", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestById(System.Guid) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 08:02:18.514 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 08:02:18.514 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 08:02:18.514 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 08:02:18.515 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 08:02:18.515 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 08:02:18.515 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 08:02:18.516 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 08:02:18.518 +09:00 [DBG] Attempting to bind parameter 'requestid' of type 'System.Guid' ...
2025-06-02 08:02:18.519 +09:00 [DBG] Attempting to bind parameter 'requestid' of type 'System.Guid' using the name 'requestid' in request data ...
2025-06-02 08:02:18.520 +09:00 [DBG] Done attempting to bind parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:02:18.520 +09:00 [DBG] Done attempting to bind parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:02:18.520 +09:00 [DBG] Attempting to validate the bound parameter 'requestid' of type 'System.Guid' ...
2025-06-02 08:02:18.521 +09:00 [DBG] Done attempting to validate the bound parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:02:18.523 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 08:02:18.525 +09:00 [DBG] Creating DbConnection.
2025-06-02 08:02:18.525 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 08:02:18.525 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:02:18.525 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:02:18.525 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 08:02:18.526 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:02:18.526 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:02:18.526 +09:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-06-02 08:02:18.527 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-06-02 08:02:18.528 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 08:02:18.529 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:02:18.529 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 2ms reading results.
2025-06-02 08:02:18.529 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:02:18.530 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:02:18.531 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-02 08:02:18.531 +09:00 [DBG] No information found on request to perform content negotiation.
2025-06-02 08:02:18.531 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-02 08:02:18.531 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-02 08:02:18.531 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-02 08:02:18.531 +09:00 [INF] Executing OkObjectResult, writing value of type 'ApprovalService.Domain.Entities.ApprovalRequest'.
2025-06-02 08:02:18.532 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API) in 17.4802ms
2025-06-02 08:02:18.532 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:02:18.532 +09:00 [DBG] Connection id "0HND1BSPGUASD" completed keep alive response.
2025-06-02 08:02:18.532 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 08:02:18.532 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:02:18.532 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:02:18.533 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - 200 null application/json; charset=utf-8 22.7125ms
2025-06-02 08:02:24.464 +09:00 [DBG] Connection id "0HND1BSPGUASC" received FIN.
2025-06-02 08:02:24.465 +09:00 [DBG] Connection id "0HND1BSPGUASC" disconnecting.
2025-06-02 08:02:24.465 +09:00 [DBG] Connection id "0HND1BSPGUASC" stopped.
2025-06-02 08:02:24.474 +09:00 [DBG] Connection id "0HND1BSPGUASC" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-02 08:02:52.964 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - null null
2025-06-02 08:02:52.966 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 08:02:52.966 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)' with route pattern 'api/ApprovalRequest/{requestid}' is valid for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 08:02:52.966 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:02:52.967 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 08:02:52.967 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:02:52.968 +09:00 [INF] Route matched with {action = "GetRequestById", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestById(System.Guid) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 08:02:52.969 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 08:02:52.969 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 08:02:52.970 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 08:02:52.970 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 08:02:52.970 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 08:02:52.970 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 08:02:52.972 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 08:02:52.972 +09:00 [DBG] Attempting to bind parameter 'requestid' of type 'System.Guid' ...
2025-06-02 08:02:52.972 +09:00 [DBG] Attempting to bind parameter 'requestid' of type 'System.Guid' using the name 'requestid' in request data ...
2025-06-02 08:02:52.973 +09:00 [DBG] Done attempting to bind parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:02:52.973 +09:00 [DBG] Done attempting to bind parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:02:52.973 +09:00 [DBG] Attempting to validate the bound parameter 'requestid' of type 'System.Guid' ...
2025-06-02 08:02:52.973 +09:00 [DBG] Done attempting to validate the bound parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:02:52.976 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 08:02:52.979 +09:00 [DBG] Creating DbConnection.
2025-06-02 08:02:52.979 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 08:02:52.979 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:02:52.979 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:02:52.980 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 08:02:52.980 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:02:52.981 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-06-02 08:02:52.981 +09:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-06-02 08:02:52.985 +09:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-06-02 08:02:52.990 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 08:02:52.990 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:02:52.991 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 4ms reading results.
2025-06-02 08:02:52.991 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:02:52.991 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:02:52.991 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-02 08:02:52.991 +09:00 [DBG] No information found on request to perform content negotiation.
2025-06-02 08:02:52.991 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-02 08:02:52.991 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-02 08:02:52.991 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-02 08:02:52.991 +09:00 [INF] Executing OkObjectResult, writing value of type 'ApprovalService.Domain.Entities.ApprovalRequest'.
2025-06-02 08:02:52.992 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API) in 21.8345ms
2025-06-02 08:02:52.992 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:02:52.994 +09:00 [DBG] Connection id "0HND1BSPGUASD" completed keep alive response.
2025-06-02 08:02:52.994 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 08:02:52.994 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:02:52.994 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:02:52.997 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - 200 null application/json; charset=utf-8 30.7853ms
2025-06-02 08:02:56.605 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - null null
2025-06-02 08:02:56.606 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 08:02:56.606 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)' with route pattern 'api/ApprovalRequest/{requestid}' is valid for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 08:02:56.606 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:02:56.609 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 08:02:56.609 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:02:56.611 +09:00 [INF] Route matched with {action = "GetRequestById", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestById(System.Guid) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 08:02:56.612 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 08:02:56.612 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 08:02:56.612 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 08:02:56.612 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 08:02:56.613 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 08:02:56.613 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 08:02:56.614 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 08:02:56.615 +09:00 [DBG] Attempting to bind parameter 'requestid' of type 'System.Guid' ...
2025-06-02 08:02:56.615 +09:00 [DBG] Attempting to bind parameter 'requestid' of type 'System.Guid' using the name 'requestid' in request data ...
2025-06-02 08:02:56.615 +09:00 [DBG] Done attempting to bind parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:02:56.615 +09:00 [DBG] Done attempting to bind parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:02:56.615 +09:00 [DBG] Attempting to validate the bound parameter 'requestid' of type 'System.Guid' ...
2025-06-02 08:02:56.615 +09:00 [DBG] Done attempting to validate the bound parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:02:56.620 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 08:02:56.621 +09:00 [DBG] Creating DbConnection.
2025-06-02 08:02:56.622 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 08:02:56.622 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:02:56.622 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:02:56.623 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 08:02:56.623 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:02:56.624 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-06-02 08:02:56.625 +09:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-06-02 08:02:56.626 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-06-02 08:02:56.626 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 08:02:56.627 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:02:56.627 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 1ms reading results.
2025-06-02 08:02:56.627 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:02:56.627 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:02:56.627 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-02 08:02:56.627 +09:00 [DBG] No information found on request to perform content negotiation.
2025-06-02 08:02:56.627 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-02 08:02:56.627 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-02 08:02:56.627 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-02 08:02:56.628 +09:00 [INF] Executing OkObjectResult, writing value of type 'ApprovalService.Domain.Entities.ApprovalRequest'.
2025-06-02 08:02:56.628 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API) in 15.5107ms
2025-06-02 08:02:56.628 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:02:56.628 +09:00 [DBG] Connection id "0HND1BSPGUASD" completed keep alive response.
2025-06-02 08:02:56.628 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 08:02:56.628 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:02:56.628 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:02:56.628 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - 200 null application/json; charset=utf-8 22.9757ms
2025-06-02 08:03:48.173 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - null null
2025-06-02 08:03:48.174 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 08:03:48.175 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)' with route pattern 'api/ApprovalRequest/{requestid}' is valid for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 08:03:48.175 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:03:48.177 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 08:03:48.178 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:03:48.178 +09:00 [INF] Route matched with {action = "GetRequestById", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestById(System.Guid) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 08:03:48.178 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 08:03:48.178 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 08:03:48.178 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 08:03:48.178 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 08:03:48.178 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 08:03:48.178 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 08:03:48.179 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 08:03:48.180 +09:00 [DBG] Attempting to bind parameter 'requestid' of type 'System.Guid' ...
2025-06-02 08:03:48.180 +09:00 [DBG] Attempting to bind parameter 'requestid' of type 'System.Guid' using the name 'requestid' in request data ...
2025-06-02 08:03:48.180 +09:00 [DBG] Done attempting to bind parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:03:48.180 +09:00 [DBG] Done attempting to bind parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:03:48.180 +09:00 [DBG] Attempting to validate the bound parameter 'requestid' of type 'System.Guid' ...
2025-06-02 08:03:48.180 +09:00 [DBG] Done attempting to validate the bound parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:03:48.182 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 08:03:48.183 +09:00 [DBG] Creating DbConnection.
2025-06-02 08:03:48.184 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 08:03:48.184 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:03:48.184 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:03:48.184 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 08:03:48.184 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:03:48.184 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:03:48.184 +09:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-06-02 08:03:48.185 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-06-02 08:03:48.186 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 08:03:48.187 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:03:48.187 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 1ms reading results.
2025-06-02 08:03:48.187 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:03:48.187 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:03:48.188 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-02 08:03:48.188 +09:00 [DBG] No information found on request to perform content negotiation.
2025-06-02 08:03:48.188 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-02 08:03:48.188 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-02 08:03:48.188 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-02 08:03:48.188 +09:00 [INF] Executing OkObjectResult, writing value of type 'ApprovalService.Domain.Entities.ApprovalRequest'.
2025-06-02 08:03:48.189 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API) in 10.3032ms
2025-06-02 08:03:48.189 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:03:48.189 +09:00 [DBG] Connection id "0HND1BSPGUASD" completed keep alive response.
2025-06-02 08:03:48.189 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 08:03:48.189 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:03:48.189 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:03:48.189 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - 200 null application/json; charset=utf-8 16.904ms
2025-06-02 08:03:52.941 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - null null
2025-06-02 08:03:52.942 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 08:03:52.942 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)' with route pattern 'api/ApprovalRequest/{requestid}' is valid for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 08:03:52.942 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:03:52.943 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 08:03:52.943 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:03:52.944 +09:00 [INF] Route matched with {action = "GetRequestById", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestById(System.Guid) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 08:03:52.944 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 08:03:52.944 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 08:03:52.944 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 08:03:52.944 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 08:03:52.944 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 08:03:52.944 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 08:03:52.945 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 08:03:52.945 +09:00 [DBG] Attempting to bind parameter 'requestid' of type 'System.Guid' ...
2025-06-02 08:03:52.945 +09:00 [DBG] Attempting to bind parameter 'requestid' of type 'System.Guid' using the name 'requestid' in request data ...
2025-06-02 08:03:52.945 +09:00 [DBG] Done attempting to bind parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:03:52.945 +09:00 [DBG] Done attempting to bind parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:03:52.945 +09:00 [DBG] Attempting to validate the bound parameter 'requestid' of type 'System.Guid' ...
2025-06-02 08:03:52.945 +09:00 [DBG] Done attempting to validate the bound parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:03:52.946 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 08:03:52.948 +09:00 [DBG] Creating DbConnection.
2025-06-02 08:03:52.948 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 08:03:52.948 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:03:52.949 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:03:52.949 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 08:03:52.949 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:03:52.950 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:03:52.950 +09:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-06-02 08:03:52.951 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-06-02 08:03:52.952 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 08:03:52.953 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:03:52.953 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 1ms reading results.
2025-06-02 08:03:52.953 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:03:52.953 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:03:52.953 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-02 08:03:52.953 +09:00 [DBG] No information found on request to perform content negotiation.
2025-06-02 08:03:52.953 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-02 08:03:52.953 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-02 08:03:52.953 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-02 08:03:52.953 +09:00 [INF] Executing OkObjectResult, writing value of type 'ApprovalService.Domain.Entities.ApprovalRequest'.
2025-06-02 08:03:52.954 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API) in 9.9465ms
2025-06-02 08:03:52.954 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:03:52.954 +09:00 [DBG] Connection id "0HND1BSPGUASD" completed keep alive response.
2025-06-02 08:03:52.954 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 08:03:52.954 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:03:52.954 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:03:52.954 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - 200 null application/json; charset=utf-8 13.1359ms
2025-06-02 08:03:58.056 +09:00 [DBG] Connection id "0HND1BSPGUASD" received FIN.
2025-06-02 08:03:58.057 +09:00 [DBG] Connection id "0HND1BSPGUASD" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-02 08:03:58.058 +09:00 [DBG] Connection id "0HND1BSPGUASD" disconnecting.
2025-06-02 08:03:58.058 +09:00 [DBG] Connection id "0HND1BSPGUASD" stopped.
2025-06-02 08:04:28.259 +09:00 [DBG] Connection id "0HND1BSPGUASE" accepted.
2025-06-02 08:04:28.295 +09:00 [DBG] Connection id "0HND1BSPGUASE" started.
2025-06-02 08:04:28.346 +09:00 [DBG] Connection 0HND1BSPGUASE established using the following protocol: "Tls12"
2025-06-02 08:04:28.353 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - null null
2025-06-02 08:04:28.353 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 08:04:28.353 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)' with route pattern 'api/ApprovalRequest/{requestid}' is valid for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 08:04:28.353 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:04:28.354 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 08:04:28.354 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:04:28.354 +09:00 [INF] Route matched with {action = "GetRequestById", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestById(System.Guid) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 08:04:28.354 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 08:04:28.354 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 08:04:28.354 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 08:04:28.354 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 08:04:28.354 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 08:04:28.354 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 08:04:28.355 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 08:04:28.355 +09:00 [DBG] Attempting to bind parameter 'requestid' of type 'System.Guid' ...
2025-06-02 08:04:28.355 +09:00 [DBG] Attempting to bind parameter 'requestid' of type 'System.Guid' using the name 'requestid' in request data ...
2025-06-02 08:04:28.355 +09:00 [DBG] Done attempting to bind parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:04:28.355 +09:00 [DBG] Done attempting to bind parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:04:28.355 +09:00 [DBG] Attempting to validate the bound parameter 'requestid' of type 'System.Guid' ...
2025-06-02 08:04:28.355 +09:00 [DBG] Done attempting to validate the bound parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:04:28.356 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 08:04:28.357 +09:00 [DBG] Creating DbConnection.
2025-06-02 08:04:28.357 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 08:04:28.357 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:04:28.358 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:04:28.358 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 08:04:28.358 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:04:28.358 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:04:28.358 +09:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-06-02 08:04:28.358 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-06-02 08:04:28.359 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 08:04:28.359 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:04:28.359 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 0ms reading results.
2025-06-02 08:04:28.359 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:04:28.359 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:04:28.359 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-02 08:04:28.359 +09:00 [DBG] No information found on request to perform content negotiation.
2025-06-02 08:04:28.359 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-02 08:04:28.359 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-02 08:04:28.359 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-02 08:04:28.359 +09:00 [INF] Executing OkObjectResult, writing value of type 'ApprovalService.Domain.Entities.ApprovalRequest'.
2025-06-02 08:04:28.360 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API) in 5.7613ms
2025-06-02 08:04:28.360 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:04:28.360 +09:00 [DBG] Connection id "0HND1BSPGUASE" completed keep alive response.
2025-06-02 08:04:28.360 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 08:04:28.360 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:04:28.360 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:04:28.360 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - 200 null application/json; charset=utf-8 7.6142ms
2025-06-02 08:06:22.189 +09:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-02 08:06:22.300 +09:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-06-02 08:06:22.563 +09:00 [DBG] The property 'Approver.ApprovalId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-06-02 08:06:22.608 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 08:06:22.613 +09:00 [DBG] Creating DbConnection.
2025-06-02 08:06:22.619 +09:00 [DBG] Created DbConnection. (4ms).
2025-06-02 08:06:22.620 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:06:22.628 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:06:22.630 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:06:22.632 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:06:22.633 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-02 08:06:22.634 +09:00 [DBG] Creating DbConnection.
2025-06-02 08:06:22.634 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 08:06:22.636 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2025-06-02 08:06:22.636 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (3ms).
2025-06-02 08:06:22.636 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:06:22.637 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:06:22.639 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 08:06:22.654 +09:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 08:06:22.655 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:06:22.656 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (1ms).
2025-06-02 08:06:22.659 +09:00 [DBG] Creating DbConnection.
2025-06-02 08:06:22.659 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 08:06:22.659 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:06:22.659 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:06:22.659 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:06:22.659 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:06:22.660 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-02 08:06:22.660 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-02 08:06:22.660 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-06-02 08:06:22.660 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:06:22.660 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:06:22.660 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 08:06:22.661 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 08:06:22.661 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:06:22.661 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:06:22.686 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .Any()'
2025-06-02 08:06:22.783 +09:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-06-02 08:06:22.796 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:06:22.796 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:06:22.797 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 08:06:22.797 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:06:22.797 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:06:22.797 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-06-02 08:06:22.798 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-06-02 08:06:22.801 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:06:22.801 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 2ms reading results.
2025-06-02 08:06:22.802 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:06:22.802 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:06:22.803 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 08:06:22.803 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:06:22.803 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:06:22.805 +09:00 [DBG] Hosting starting
2025-06-02 08:06:22.836 +09:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-06-02 08:06:22.836 +09:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-06-02 08:06:23.110 +09:00 [INF] Now listening on: https://localhost:5001
2025-06-02 08:06:23.110 +09:00 [INF] Now listening on: http://localhost:5229
2025-06-02 08:06:23.110 +09:00 [DBG] Loaded hosting startup assembly ApprovalService.API
2025-06-02 08:06:23.110 +09:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-02 08:06:23.111 +09:00 [INF] Hosting environment: Development
2025-06-02 08:06:23.111 +09:00 [INF] Content root path: /Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API
2025-06-02 08:06:23.111 +09:00 [DBG] Hosting started
2025-06-02 08:06:43.154 +09:00 [DBG] Connection id "0HND1C3SO68DR" accepted.
2025-06-02 08:06:43.157 +09:00 [DBG] Connection id "0HND1C3SO68DR" started.
2025-06-02 08:06:45.749 +09:00 [DBG] Connection 0HND1C3SO68DR established using the following protocol: "Tls12"
2025-06-02 08:06:45.961 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - null null
2025-06-02 08:06:45.973 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 08:06:45.975 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)' with route pattern 'api/ApprovalRequest/{requestid}' is valid for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 08:06:45.976 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:06:45.997 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 08:06:45.997 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:06:46.012 +09:00 [INF] Route matched with {action = "GetRequestById", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestById(System.Guid) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 08:06:46.013 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 08:06:46.013 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 08:06:46.014 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 08:06:46.014 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 08:06:46.014 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 08:06:46.015 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 08:06:46.017 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 08:06:46.024 +09:00 [DBG] Attempting to bind parameter 'requestid' of type 'System.Guid' ...
2025-06-02 08:06:46.025 +09:00 [DBG] Attempting to bind parameter 'requestid' of type 'System.Guid' using the name 'requestid' in request data ...
2025-06-02 08:06:46.027 +09:00 [DBG] Done attempting to bind parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:06:46.028 +09:00 [DBG] Done attempting to bind parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:06:46.028 +09:00 [DBG] Attempting to validate the bound parameter 'requestid' of type 'System.Guid' ...
2025-06-02 08:06:46.030 +09:00 [DBG] Done attempting to validate the bound parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:06:46.040 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 08:06:46.055 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "ApprovalId"), 
        objB: __p_0))'
2025-06-02 08:06:46.152 +09:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ApprovalRequest>(
    asyncEnumerable: SingleQueryingEnumerable.Create<ApprovalRequest>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApprovalRequest.ApprovalId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApprovalRequest.ApplicantDepartment (string), 1], [Property: ApprovalRequest.ApplicantEmployeeNumber (string) Required, 2], [Property: ApprovalRequest.ApplicantName (string) Required, 3], [Property: ApprovalRequest.ApplicantPosition (string), 4], [Property: ApprovalRequest.ApprovalType (string), 5], [Property: ApprovalRequest.ApproverComment (string), 6], [Property: ApprovalRequest.MisKey (string), 7], [Property: ApprovalRequest.RequestContent (string), 8], [Property: ApprovalRequest.RequestTitle (string) Required, 9], [Property: ApprovalRequest.RequestedAt (DateTime) Required, 10], [Property: ApprovalRequest.RespondedAt (DateTime?), 11], [Property: ApprovalRequest.Status (string) Required, 12] }
            SELECT TOP(1) a.ApprovalId, a.ApplicantDepartment, a.ApplicantEmployeeNumber, a.ApplicantName, a.ApplicantPosition, a.ApprovalType, a.ApproverComment, a.MisKey, a.RequestContent, a.RequestTitle, a.RequestedAt, a.RespondedAt, a.Status
            FROM ApprovalRequests AS a
            WHERE a.ApprovalId == @__p_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApprovalRequest.ApprovalId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApprovalRequest.ApplicantDepartment (string), 1], [Property: ApprovalRequest.ApplicantEmployeeNumber (string) Required, 2], [Property: ApprovalRequest.ApplicantName (string) Required, 3], [Property: ApprovalRequest.ApplicantPosition (string), 4], [Property: ApprovalRequest.ApprovalType (string), 5], [Property: ApprovalRequest.ApproverComment (string), 6], [Property: ApprovalRequest.MisKey (string), 7], [Property: ApprovalRequest.RequestContent (string), 8], [Property: ApprovalRequest.RequestTitle (string) Required, 9], [Property: ApprovalRequest.RequestedAt (DateTime) Required, 10], [Property: ApprovalRequest.RespondedAt (DateTime?), 11], [Property: ApprovalRequest.Status (string) Required, 12] }
            SELECT TOP(1) a.ApprovalId, a.ApplicantDepartment, a.ApplicantEmployeeNumber, a.ApplicantName, a.ApplicantPosition, a.ApprovalType, a.ApproverComment, a.MisKey, a.RequestContent, a.RequestTitle, a.RequestedAt, a.RespondedAt, a.Status
            FROM ApprovalRequests AS a
            WHERE a.ApprovalId == @__p_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            ApprovalRequest entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                ApprovalRequest instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(ApprovalRequest);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: ApprovalRequest.ApprovalId PK | Resolver: c => c.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (ApprovalRequest)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")]: 
                            {
                                return 
                                {
                                    ApprovalRequest instance;
                                    instance = new ApprovalRequest();
                                    instance.<ApprovalId>k__BackingField = dataReader.GetGuid(0);
                                    instance.<ApplicantDepartment>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                    instance.<ApplicantEmployeeNumber>k__BackingField = dataReader.GetString(2);
                                    instance.<ApplicantName>k__BackingField = dataReader.GetString(3);
                                    instance.<ApplicantPosition>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                    instance.<ApprovalType>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                    instance.<ApproverComment>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                    instance.<MisKey>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                    instance.<RequestContent>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                    instance.<RequestTitle>k__BackingField = dataReader.GetString(9);
                                    instance.<RequestedAt>k__BackingField = dataReader.GetDateTime(10);
                                    instance.<RespondedAt>k__BackingField = dataReader.IsDBNull(11) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(11);
                                    instance.<Status>k__BackingField = dataReader.GetString(12);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(ApprovalRequest)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-06-02 08:06:46.171 +09:00 [DBG] Creating DbConnection.
2025-06-02 08:06:46.171 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 08:06:46.171 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:06:46.171 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:06:46.172 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 08:06:46.172 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:06:46.173 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-06-02 08:06:46.175 +09:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-06-02 08:06:46.182 +09:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-06-02 08:06:46.216 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 08:06:46.241 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:06:46.242 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 59ms reading results.
2025-06-02 08:06:46.242 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:06:46.242 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:06:58.360 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API) in 12342.3277ms
2025-06-02 08:06:58.366 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:06:58.367 +09:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The EF.Property<T> method may only be used within Entity Framework LINQ queries.
   at Microsoft.EntityFrameworkCore.EF.Property[TProperty](Object instance, String propertyName)
   at ApprovalService.Infrastructure.Repositories.ApprovalRepository`1.GetRequestByIdAsync(Guid id) in /Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/Infrastructure/Repositories/ApprovalRepository.cs:line 59
   at ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById(Guid requestid) in /Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Controllers/ApprovalRequestController.cs:line 51
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-06-02 08:06:58.393 +09:00 [DBG] Connection id "0HND1C3SO68DR" completed keep alive response.
2025-06-02 08:06:58.395 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 08:06:58.396 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:06:58.397 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:06:58.397 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - 500 null text/plain; charset=utf-8 12439.3031ms
2025-06-02 08:07:44.952 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - null null
2025-06-02 08:07:44.955 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 08:07:44.956 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)' with route pattern 'api/ApprovalRequest/{requestid}' is valid for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 08:07:44.956 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:07:44.981 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 08:07:44.981 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:07:44.982 +09:00 [INF] Route matched with {action = "GetRequestById", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestById(System.Guid) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 08:07:44.982 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 08:07:44.982 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 08:07:44.982 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 08:07:44.982 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 08:07:44.982 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 08:07:44.982 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 08:07:44.984 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 08:07:44.984 +09:00 [DBG] Attempting to bind parameter 'requestid' of type 'System.Guid' ...
2025-06-02 08:07:44.985 +09:00 [DBG] Attempting to bind parameter 'requestid' of type 'System.Guid' using the name 'requestid' in request data ...
2025-06-02 08:07:44.985 +09:00 [DBG] Done attempting to bind parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:07:44.985 +09:00 [DBG] Done attempting to bind parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:07:44.985 +09:00 [DBG] Attempting to validate the bound parameter 'requestid' of type 'System.Guid' ...
2025-06-02 08:07:44.985 +09:00 [DBG] Done attempting to validate the bound parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:07:48.066 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 08:07:48.071 +09:00 [DBG] Creating DbConnection.
2025-06-02 08:07:48.071 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 08:07:48.071 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:07:48.071 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:07:48.071 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 08:07:48.072 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:07:48.072 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:07:48.072 +09:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-06-02 08:07:48.072 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-06-02 08:07:48.073 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 08:07:48.073 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:07:48.073 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 0ms reading results.
2025-06-02 08:07:48.073 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:07:48.073 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:08:11.018 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API) in 26034.8132ms
2025-06-02 08:08:11.022 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:08:11.023 +09:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The EF.Property<T> method may only be used within Entity Framework LINQ queries.
   at Microsoft.EntityFrameworkCore.EF.Property[TProperty](Object instance, String propertyName)
   at ApprovalService.Infrastructure.Repositories.ApprovalRepository`1.GetRequestByIdAsync(Guid id) in /Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/Infrastructure/Repositories/ApprovalRepository.cs:line 59
   at ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById(Guid requestid) in /Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Controllers/ApprovalRequestController.cs:line 51
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-06-02 08:08:11.061 +09:00 [DBG] Connection id "0HND1C3SO68DR" completed keep alive response.
2025-06-02 08:08:11.061 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 08:08:11.062 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:08:11.062 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:08:11.062 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - 500 null text/plain; charset=utf-8 26111.652ms
2025-06-02 08:08:19.674 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - null null
2025-06-02 08:08:19.678 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 08:08:19.678 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)' with route pattern 'api/ApprovalRequest/{requestid}' is valid for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 08:08:19.679 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:08:19.689 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 08:08:19.689 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:08:19.689 +09:00 [INF] Route matched with {action = "GetRequestById", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestById(System.Guid) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 08:08:19.690 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 08:08:19.690 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 08:08:19.690 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 08:08:19.690 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 08:08:19.690 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 08:08:19.692 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 08:08:19.697 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 08:08:19.697 +09:00 [DBG] Attempting to bind parameter 'requestid' of type 'System.Guid' ...
2025-06-02 08:08:19.697 +09:00 [DBG] Attempting to bind parameter 'requestid' of type 'System.Guid' using the name 'requestid' in request data ...
2025-06-02 08:08:19.698 +09:00 [DBG] Done attempting to bind parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:08:19.698 +09:00 [DBG] Done attempting to bind parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:08:19.698 +09:00 [DBG] Attempting to validate the bound parameter 'requestid' of type 'System.Guid' ...
2025-06-02 08:08:19.698 +09:00 [DBG] Done attempting to validate the bound parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:08:21.259 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 08:08:21.261 +09:00 [DBG] Creating DbConnection.
2025-06-02 08:08:21.261 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 08:08:21.261 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:08:21.261 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:08:21.261 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 08:08:21.261 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:08:21.262 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:08:21.262 +09:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-06-02 08:08:21.262 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-06-02 08:08:21.263 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 08:08:21.263 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:08:21.263 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 0ms reading results.
2025-06-02 08:08:21.263 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:08:21.263 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:08:22.390 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API) in 2698.5058ms
2025-06-02 08:08:22.391 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:08:22.393 +09:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The EF.Property<T> method may only be used within Entity Framework LINQ queries.
   at Microsoft.EntityFrameworkCore.EF.Property[TProperty](Object instance, String propertyName)
   at ApprovalService.Infrastructure.Repositories.ApprovalRepository`1.GetRequestByIdAsync(Guid id) in /Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/Infrastructure/Repositories/ApprovalRepository.cs:line 59
   at ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById(Guid requestid) in /Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Controllers/ApprovalRequestController.cs:line 51
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-06-02 08:08:22.396 +09:00 [DBG] Connection id "0HND1C3SO68DR" completed keep alive response.
2025-06-02 08:08:22.396 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 08:08:22.396 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:08:22.396 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:08:22.396 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - 500 null text/plain; charset=utf-8 2723.3975ms
2025-06-02 08:08:32.708 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - null null
2025-06-02 08:08:32.709 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 08:08:32.709 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)' with route pattern 'api/ApprovalRequest/{requestid}' is valid for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 08:08:32.710 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:08:32.711 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 08:08:32.711 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:08:32.712 +09:00 [INF] Route matched with {action = "GetRequestById", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestById(System.Guid) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 08:08:32.713 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 08:08:32.713 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 08:08:32.713 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 08:08:32.714 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 08:08:32.714 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 08:08:32.714 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 08:08:32.715 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 08:08:32.716 +09:00 [DBG] Attempting to bind parameter 'requestid' of type 'System.Guid' ...
2025-06-02 08:08:32.716 +09:00 [DBG] Attempting to bind parameter 'requestid' of type 'System.Guid' using the name 'requestid' in request data ...
2025-06-02 08:08:32.716 +09:00 [DBG] Done attempting to bind parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:08:32.716 +09:00 [DBG] Done attempting to bind parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:08:32.716 +09:00 [DBG] Attempting to validate the bound parameter 'requestid' of type 'System.Guid' ...
2025-06-02 08:08:32.716 +09:00 [DBG] Done attempting to validate the bound parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:08:35.730 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 08:08:35.732 +09:00 [DBG] Creating DbConnection.
2025-06-02 08:08:35.733 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 08:08:35.733 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:08:35.733 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:08:35.733 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 08:08:35.734 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:08:35.734 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:08:35.734 +09:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-06-02 08:08:35.735 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-06-02 08:08:35.735 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 08:08:35.736 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:08:35.736 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 1ms reading results.
2025-06-02 08:08:35.736 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:08:35.736 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:12:02.281 +09:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-02 08:12:02.397 +09:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-06-02 08:12:02.662 +09:00 [DBG] The property 'Approver.ApprovalId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-06-02 08:12:02.706 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 08:12:02.711 +09:00 [DBG] Creating DbConnection.
2025-06-02 08:12:02.717 +09:00 [DBG] Created DbConnection. (5ms).
2025-06-02 08:12:02.719 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:12:02.729 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:12:02.731 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:12:02.733 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:12:02.735 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-02 08:12:02.735 +09:00 [DBG] Creating DbConnection.
2025-06-02 08:12:02.735 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 08:12:02.737 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2025-06-02 08:12:02.738 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (3ms).
2025-06-02 08:12:02.738 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:12:02.738 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:12:02.741 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 08:12:02.754 +09:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 08:12:02.755 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:12:02.756 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (1ms).
2025-06-02 08:12:02.759 +09:00 [DBG] Creating DbConnection.
2025-06-02 08:12:02.759 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 08:12:02.759 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:12:02.759 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:12:02.759 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:12:02.759 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:12:02.759 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-02 08:12:02.759 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-02 08:12:02.759 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-06-02 08:12:02.759 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:12:02.759 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:12:02.760 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 08:12:02.760 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 08:12:02.760 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:12:02.760 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:12:02.786 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .Any()'
2025-06-02 08:12:02.890 +09:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-06-02 08:12:02.903 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:12:02.904 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:12:02.904 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 08:12:02.904 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:12:02.904 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:12:02.904 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-06-02 08:12:02.905 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-06-02 08:12:02.908 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:12:02.908 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 2ms reading results.
2025-06-02 08:12:02.909 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:12:02.909 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:12:02.910 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 08:12:02.910 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:12:02.910 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:12:02.912 +09:00 [DBG] Hosting starting
2025-06-02 08:12:02.946 +09:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-06-02 08:12:02.946 +09:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-06-02 08:12:03.393 +09:00 [INF] Now listening on: https://localhost:5001
2025-06-02 08:12:03.393 +09:00 [INF] Now listening on: http://localhost:5229
2025-06-02 08:12:03.393 +09:00 [DBG] Loaded hosting startup assembly ApprovalService.API
2025-06-02 08:12:03.394 +09:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-02 08:12:03.394 +09:00 [INF] Hosting environment: Development
2025-06-02 08:12:03.394 +09:00 [INF] Content root path: /Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API
2025-06-02 08:12:03.394 +09:00 [DBG] Hosting started
2025-06-02 08:12:57.182 +09:00 [DBG] Connection id "0HND1C7C76PF3" accepted.
2025-06-02 08:12:57.185 +09:00 [DBG] Connection id "0HND1C7C76PF3" started.
2025-06-02 08:12:57.236 +09:00 [DBG] Connection 0HND1C7C76PF3 established using the following protocol: "Tls12"
2025-06-02 08:12:57.262 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approvalrequest/my-requests/EMP0005 - null null
2025-06-02 08:12:57.276 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/my-requests/EMP0005'
2025-06-02 08:12:57.278 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)' with route pattern 'api/ApprovalRequest/my-requests/{userId}' is valid for the request path '/api/approvalrequest/my-requests/EMP0005'
2025-06-02 08:12:57.278 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-06-02 08:12:57.293 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 08:12:57.293 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-06-02 08:12:57.305 +09:00 [INF] Route matched with {action = "GetMyRequests", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyRequests(System.String) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 08:12:57.306 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 08:12:57.306 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 08:12:57.306 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 08:12:57.307 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 08:12:57.307 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 08:12:57.307 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 08:12:57.308 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 08:12:57.314 +09:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-06-02 08:12:57.316 +09:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-06-02 08:12:57.316 +09:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-06-02 08:12:57.316 +09:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-06-02 08:12:57.316 +09:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-06-02 08:12:57.319 +09:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-06-02 08:12:57.325 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 08:12:57.330 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .Where(request => EF.Property<string>(request, "ApplicantEmployeeNumber") == __userId_0)'
2025-06-02 08:12:57.370 +09:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<ApprovalRequest>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApprovalRequest.ApprovalId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApprovalRequest.ApplicantDepartment (string), 1], [Property: ApprovalRequest.ApplicantEmployeeNumber (string) Required, 2], [Property: ApprovalRequest.ApplicantName (string) Required, 3], [Property: ApprovalRequest.ApplicantPosition (string), 4], [Property: ApprovalRequest.ApprovalType (string), 5], [Property: ApprovalRequest.ApproverComment (string), 6], [Property: ApprovalRequest.MisKey (string), 7], [Property: ApprovalRequest.RequestContent (string), 8], [Property: ApprovalRequest.RequestTitle (string) Required, 9], [Property: ApprovalRequest.RequestedAt (DateTime) Required, 10], [Property: ApprovalRequest.RespondedAt (DateTime?), 11], [Property: ApprovalRequest.Status (string) Required, 12] }
        SELECT a.ApprovalId, a.ApplicantDepartment, a.ApplicantEmployeeNumber, a.ApplicantName, a.ApplicantPosition, a.ApprovalType, a.ApproverComment, a.MisKey, a.RequestContent, a.RequestTitle, a.RequestedAt, a.RespondedAt, a.Status
        FROM ApprovalRequests AS a
        WHERE a.ApplicantEmployeeNumber == @__userId_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApprovalRequest.ApprovalId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApprovalRequest.ApplicantDepartment (string), 1], [Property: ApprovalRequest.ApplicantEmployeeNumber (string) Required, 2], [Property: ApprovalRequest.ApplicantName (string) Required, 3], [Property: ApprovalRequest.ApplicantPosition (string), 4], [Property: ApprovalRequest.ApprovalType (string), 5], [Property: ApprovalRequest.ApproverComment (string), 6], [Property: ApprovalRequest.MisKey (string), 7], [Property: ApprovalRequest.RequestContent (string), 8], [Property: ApprovalRequest.RequestTitle (string) Required, 9], [Property: ApprovalRequest.RequestedAt (DateTime) Required, 10], [Property: ApprovalRequest.RespondedAt (DateTime?), 11], [Property: ApprovalRequest.Status (string) Required, 12] }
        SELECT a.ApprovalId, a.ApplicantDepartment, a.ApplicantEmployeeNumber, a.ApplicantName, a.ApplicantPosition, a.ApprovalType, a.ApproverComment, a.MisKey, a.RequestContent, a.RequestTitle, a.RequestedAt, a.RespondedAt, a.Status
        FROM ApprovalRequests AS a
        WHERE a.ApplicantEmployeeNumber == @__userId_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        ApprovalRequest entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            ApprovalRequest instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(ApprovalRequest);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: ApprovalRequest.ApprovalId PK | Resolver: c => c.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (ApprovalRequest)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")]: 
                        {
                            return 
                            {
                                ApprovalRequest instance;
                                instance = new ApprovalRequest();
                                instance.<ApprovalId>k__BackingField = dataReader.GetGuid(0);
                                instance.<ApplicantDepartment>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                instance.<ApplicantEmployeeNumber>k__BackingField = dataReader.GetString(2);
                                instance.<ApplicantName>k__BackingField = dataReader.GetString(3);
                                instance.<ApplicantPosition>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                instance.<ApprovalType>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                instance.<ApproverComment>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                instance.<MisKey>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                instance.<RequestContent>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                instance.<RequestTitle>k__BackingField = dataReader.GetString(9);
                                instance.<RequestedAt>k__BackingField = dataReader.GetDateTime(10);
                                instance.<RespondedAt>k__BackingField = dataReader.IsDBNull(11) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(11);
                                instance.<Status>k__BackingField = dataReader.GetString(12);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(ApprovalRequest)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-06-02 08:12:57.382 +09:00 [DBG] Creating DbConnection.
2025-06-02 08:12:57.382 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 08:12:57.382 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:12:57.382 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:12:57.382 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 08:12:57.382 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:12:57.383 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:12:57.384 +09:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApplicantEmployeeNumber" = @__userId_0
2025-06-02 08:12:57.386 +09:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApplicantEmployeeNumber" = @__userId_0
2025-06-02 08:12:57.403 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 08:12:57.418 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:12:57.418 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 31ms reading results.
2025-06-02 08:12:57.418 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:12:57.418 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:12:57.420 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-02 08:12:57.420 +09:00 [DBG] No information found on request to perform content negotiation.
2025-06-02 08:12:57.420 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-02 08:12:57.420 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-02 08:12:57.421 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-02 08:12:57.421 +09:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ApprovalService.Domain.Entities.ApprovalRequest, ApprovalService.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-02 08:12:57.471 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API) in 162.9439ms
2025-06-02 08:12:57.474 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-06-02 08:12:57.474 +09:00 [DBG] Connection id "0HND1C7C76PF3" completed keep alive response.
2025-06-02 08:12:57.475 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 08:12:57.476 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:12:57.477 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:12:57.477 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approvalrequest/my-requests/EMP0005 - 200 null application/json; charset=utf-8 216.7193ms
2025-06-02 08:13:04.330 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - null null
2025-06-02 08:13:04.332 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 08:13:04.333 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)' with route pattern 'api/ApprovalRequest/{requestid}' is valid for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 08:13:04.333 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:13:04.335 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 08:13:04.335 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:13:04.340 +09:00 [INF] Route matched with {action = "GetRequestById", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestById(System.Guid) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 08:13:04.340 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 08:13:04.341 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 08:13:04.341 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 08:13:04.341 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 08:13:04.341 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 08:13:04.341 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 08:13:04.343 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 08:13:04.344 +09:00 [DBG] Attempting to bind parameter 'requestid' of type 'System.Guid' ...
2025-06-02 08:13:04.344 +09:00 [DBG] Attempting to bind parameter 'requestid' of type 'System.Guid' using the name 'requestid' in request data ...
2025-06-02 08:13:04.345 +09:00 [DBG] Done attempting to bind parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:13:04.345 +09:00 [DBG] Done attempting to bind parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:13:04.345 +09:00 [DBG] Attempting to validate the bound parameter 'requestid' of type 'System.Guid' ...
2025-06-02 08:13:04.347 +09:00 [DBG] Done attempting to validate the bound parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:13:07.153 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 08:13:07.161 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "ApprovalId"), 
        objB: __p_0))'
2025-06-02 08:13:07.172 +09:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ApprovalRequest>(
    asyncEnumerable: SingleQueryingEnumerable.Create<ApprovalRequest>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApprovalRequest.ApprovalId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApprovalRequest.ApplicantDepartment (string), 1], [Property: ApprovalRequest.ApplicantEmployeeNumber (string) Required, 2], [Property: ApprovalRequest.ApplicantName (string) Required, 3], [Property: ApprovalRequest.ApplicantPosition (string), 4], [Property: ApprovalRequest.ApprovalType (string), 5], [Property: ApprovalRequest.ApproverComment (string), 6], [Property: ApprovalRequest.MisKey (string), 7], [Property: ApprovalRequest.RequestContent (string), 8], [Property: ApprovalRequest.RequestTitle (string) Required, 9], [Property: ApprovalRequest.RequestedAt (DateTime) Required, 10], [Property: ApprovalRequest.RespondedAt (DateTime?), 11], [Property: ApprovalRequest.Status (string) Required, 12] }
            SELECT TOP(1) a.ApprovalId, a.ApplicantDepartment, a.ApplicantEmployeeNumber, a.ApplicantName, a.ApplicantPosition, a.ApprovalType, a.ApproverComment, a.MisKey, a.RequestContent, a.RequestTitle, a.RequestedAt, a.RespondedAt, a.Status
            FROM ApprovalRequests AS a
            WHERE a.ApprovalId == @__p_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApprovalRequest.ApprovalId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApprovalRequest.ApplicantDepartment (string), 1], [Property: ApprovalRequest.ApplicantEmployeeNumber (string) Required, 2], [Property: ApprovalRequest.ApplicantName (string) Required, 3], [Property: ApprovalRequest.ApplicantPosition (string), 4], [Property: ApprovalRequest.ApprovalType (string), 5], [Property: ApprovalRequest.ApproverComment (string), 6], [Property: ApprovalRequest.MisKey (string), 7], [Property: ApprovalRequest.RequestContent (string), 8], [Property: ApprovalRequest.RequestTitle (string) Required, 9], [Property: ApprovalRequest.RequestedAt (DateTime) Required, 10], [Property: ApprovalRequest.RespondedAt (DateTime?), 11], [Property: ApprovalRequest.Status (string) Required, 12] }
            SELECT TOP(1) a.ApprovalId, a.ApplicantDepartment, a.ApplicantEmployeeNumber, a.ApplicantName, a.ApplicantPosition, a.ApprovalType, a.ApproverComment, a.MisKey, a.RequestContent, a.RequestTitle, a.RequestedAt, a.RespondedAt, a.Status
            FROM ApprovalRequests AS a
            WHERE a.ApprovalId == @__p_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            ApprovalRequest entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                ApprovalRequest instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(ApprovalRequest);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: ApprovalRequest.ApprovalId PK | Resolver: c => c.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (ApprovalRequest)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")]: 
                            {
                                return 
                                {
                                    ApprovalRequest instance;
                                    instance = new ApprovalRequest();
                                    instance.<ApprovalId>k__BackingField = dataReader.GetGuid(0);
                                    instance.<ApplicantDepartment>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                    instance.<ApplicantEmployeeNumber>k__BackingField = dataReader.GetString(2);
                                    instance.<ApplicantName>k__BackingField = dataReader.GetString(3);
                                    instance.<ApplicantPosition>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                    instance.<ApprovalType>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                    instance.<ApproverComment>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                    instance.<MisKey>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                    instance.<RequestContent>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                    instance.<RequestTitle>k__BackingField = dataReader.GetString(9);
                                    instance.<RequestedAt>k__BackingField = dataReader.GetDateTime(10);
                                    instance.<RespondedAt>k__BackingField = dataReader.IsDBNull(11) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(11);
                                    instance.<Status>k__BackingField = dataReader.GetString(12);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(ApprovalRequest)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-06-02 08:13:07.176 +09:00 [DBG] Creating DbConnection.
2025-06-02 08:13:07.176 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 08:13:07.176 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:13:07.176 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:13:07.176 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 08:13:07.176 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:13:07.176 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:13:07.176 +09:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-06-02 08:13:07.177 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-06-02 08:13:07.177 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 08:13:07.177 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:13:07.177 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 0ms reading results.
2025-06-02 08:13:07.177 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:13:07.177 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:16:16.157 +09:00 [DBG] Connection id "0HND1C7C76PF3" reset.
2025-06-02 08:16:16.160 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API) in 191825.3372ms
2025-06-02 08:16:16.161 +09:00 [DBG] Connection id "0HND1C7C76PF3" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-02 08:16:16.162 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:16:16.163 +09:00 [DBG] Connection id "0HND1C7C76PF3" disconnecting.
2025-06-02 08:16:16.165 +09:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The EF.Property<T> method may only be used within Entity Framework LINQ queries.
   at Microsoft.EntityFrameworkCore.EF.Property[TProperty](Object instance, String propertyName)
   at ApprovalService.Infrastructure.Repositories.ApprovalRepository`1.GetRequestByIdAsync(Guid id) in /Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/Infrastructure/Repositories/ApprovalRepository.cs:line 59
   at ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById(Guid requestid) in /Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Controllers/ApprovalRequestController.cs:line 51
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-06-02 08:16:16.212 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 08:16:16.212 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:16:16.213 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:16:16.213 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - 500 null text/plain; charset=utf-8 191891.2397ms
2025-06-02 08:16:16.219 +09:00 [DBG] Connection id "0HND1C7C76PF3" stopped.
2025-06-02 08:23:27.922 +09:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-02 08:23:28.059 +09:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-06-02 08:23:28.338 +09:00 [DBG] The property 'Approver.ApprovalId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-06-02 08:23:28.383 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 08:23:28.389 +09:00 [DBG] Creating DbConnection.
2025-06-02 08:23:28.395 +09:00 [DBG] Created DbConnection. (5ms).
2025-06-02 08:23:28.396 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:23:28.405 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:23:28.408 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:23:28.410 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:23:28.412 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-02 08:23:28.412 +09:00 [DBG] Creating DbConnection.
2025-06-02 08:23:28.412 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 08:23:28.414 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2025-06-02 08:23:28.414 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (3ms).
2025-06-02 08:23:28.414 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:23:28.415 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:23:28.418 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 08:23:28.444 +09:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 08:23:28.445 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:23:28.446 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (1ms).
2025-06-02 08:23:28.449 +09:00 [DBG] Creating DbConnection.
2025-06-02 08:23:28.449 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 08:23:28.449 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:23:28.450 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:23:28.450 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:23:28.450 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:23:28.450 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-02 08:23:28.450 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-02 08:23:28.450 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-06-02 08:23:28.450 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:23:28.450 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:23:28.450 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 08:23:28.451 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 08:23:28.451 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:23:28.451 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:23:28.472 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .Any()'
2025-06-02 08:23:28.579 +09:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-06-02 08:23:28.591 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:23:28.592 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:23:28.592 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 08:23:28.592 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:23:28.592 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:23:28.592 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-06-02 08:23:28.593 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-06-02 08:23:28.596 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:23:28.596 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 2ms reading results.
2025-06-02 08:23:28.597 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:23:28.597 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:23:28.598 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 08:23:28.598 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:23:28.598 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:23:28.600 +09:00 [DBG] Hosting starting
2025-06-02 08:23:28.655 +09:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-06-02 08:23:28.658 +09:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-06-02 08:23:29.022 +09:00 [INF] Now listening on: https://localhost:5001
2025-06-02 08:23:29.022 +09:00 [INF] Now listening on: http://localhost:5229
2025-06-02 08:23:29.022 +09:00 [DBG] Loaded hosting startup assembly ApprovalService.API
2025-06-02 08:23:29.023 +09:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-02 08:23:29.024 +09:00 [INF] Hosting environment: Development
2025-06-02 08:23:29.024 +09:00 [INF] Content root path: /Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API
2025-06-02 08:23:29.025 +09:00 [DBG] Hosting started
2025-06-02 08:28:13.842 +09:00 [INF] Application is shutting down...
2025-06-02 08:28:13.844 +09:00 [DBG] Hosting stopping
2025-06-02 08:28:14.090 +09:00 [DBG] Hosting stopped
Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-02 08:27:47.363 +09:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-06-02 08:27:47.654 +09:00 [DBG] The property 'Approver.ApprovalId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-06-02 08:27:47.696 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 08:27:47.701 +09:00 [DBG] Creating DbConnection.
2025-06-02 08:27:47.707 +09:00 [DBG] Created DbConnection. (4ms).
2025-06-02 08:27:47.708 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:27:47.712 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:27:47.714 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:27:47.716 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:27:47.717 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-02 08:27:47.718 +09:00 [DBG] Creating DbConnection.
2025-06-02 08:27:47.718 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 08:27:47.720 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2025-06-02 08:27:47.720 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (3ms).
2025-06-02 08:27:47.720 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:27:47.721 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:27:47.724 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 08:27:47.736 +09:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 08:27:47.737 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:27:47.738 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (1ms).
2025-06-02 08:27:47.741 +09:00 [DBG] Creating DbConnection.
2025-06-02 08:27:47.741 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 08:27:47.741 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:27:47.741 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:27:47.741 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:27:47.741 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:27:47.741 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-02 08:27:47.741 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-02 08:27:47.741 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-06-02 08:27:47.741 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:27:47.741 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:27:47.742 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 08:27:47.742 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 08:27:47.742 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:27:47.742 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:27:47.763 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .Any()'
2025-06-02 08:27:47.857 +09:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-06-02 08:27:47.869 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:27:47.869 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:27:47.869 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 08:27:47.869 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:27:47.870 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:27:47.870 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-06-02 08:27:47.871 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-06-02 08:27:47.873 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:27:47.873 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 2ms reading results.
2025-06-02 08:27:47.874 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:27:47.874 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:27:47.875 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 08:27:47.875 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:27:47.875 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:27:47.877 +09:00 [DBG] Hosting starting
2025-06-02 08:27:47.904 +09:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-06-02 08:27:47.905 +09:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-06-02 08:27:48.170 +09:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address https://127.0.0.1:5001: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (48): Address already in use
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-06-02 08:28:30.142 +09:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-02 08:28:30.250 +09:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-06-02 08:28:30.510 +09:00 [DBG] The property 'Approver.ApprovalId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-06-02 08:28:30.554 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 08:28:30.558 +09:00 [DBG] Creating DbConnection.
2025-06-02 08:28:30.564 +09:00 [DBG] Created DbConnection. (4ms).
2025-06-02 08:28:30.566 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:28:30.573 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:28:30.576 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:28:30.577 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:28:30.579 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-02 08:28:30.579 +09:00 [DBG] Creating DbConnection.
2025-06-02 08:28:30.580 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 08:28:30.582 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2025-06-02 08:28:30.582 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (3ms).
2025-06-02 08:28:30.582 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:28:30.583 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:28:30.585 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 08:28:30.599 +09:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 08:28:30.600 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:28:30.601 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (1ms).
2025-06-02 08:28:30.604 +09:00 [DBG] Creating DbConnection.
2025-06-02 08:28:30.604 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 08:28:30.604 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:28:30.604 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:28:30.604 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:28:30.604 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:28:30.604 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-02 08:28:30.604 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-02 08:28:30.604 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-06-02 08:28:30.604 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:28:30.604 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:28:30.604 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 08:28:30.605 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 08:28:30.605 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:28:30.605 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:28:30.626 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .Any()'
2025-06-02 08:28:30.720 +09:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-06-02 08:28:30.733 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:28:30.734 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:28:30.734 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 08:28:30.734 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:28:30.734 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:28:30.734 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-06-02 08:28:30.736 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-06-02 08:28:30.738 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:28:30.739 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 2ms reading results.
2025-06-02 08:28:30.740 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:28:30.740 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:28:30.741 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 08:28:30.741 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:28:30.741 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:28:30.743 +09:00 [DBG] Hosting starting
2025-06-02 08:28:30.777 +09:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-06-02 08:28:30.778 +09:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-06-02 08:28:31.063 +09:00 [INF] Now listening on: https://localhost:5001
2025-06-02 08:28:31.064 +09:00 [INF] Now listening on: http://localhost:5229
2025-06-02 08:28:31.064 +09:00 [DBG] Loaded hosting startup assembly ApprovalService.API
2025-06-02 08:28:31.064 +09:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-02 08:28:31.065 +09:00 [INF] Hosting environment: Development
2025-06-02 08:28:31.065 +09:00 [INF] Content root path: /Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API
2025-06-02 08:28:31.065 +09:00 [DBG] Hosting started
2025-06-02 08:28:49.008 +09:00 [DBG] Connection id "0HND1CG7SF6U5" accepted.
2025-06-02 08:28:49.012 +09:00 [DBG] Connection id "0HND1CG7SF6U5" started.
2025-06-02 08:28:49.676 +09:00 [DBG] Connection 0HND1CG7SF6U5 established using the following protocol: "Tls12"
2025-06-02 08:28:49.747 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - null null
2025-06-02 08:28:49.766 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 08:28:49.769 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)' with route pattern 'api/ApprovalRequest/{requestid}' is valid for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 08:28:49.770 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:28:49.812 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 08:28:49.813 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:28:49.839 +09:00 [INF] Route matched with {action = "GetRequestById", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestById(System.Guid) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 08:28:49.840 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 08:28:49.840 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 08:28:49.841 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 08:28:49.842 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 08:28:49.842 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 08:28:49.844 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 08:28:49.851 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API) in 7.7872ms
2025-06-02 08:28:49.855 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:28:49.856 +09:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'ApprovalService.Domain.Interfaces.IApprovalRequestRepository`1[ApprovalService.Domain.Entities.ApprovalRequest]' while attempting to activate 'ApprovalService.API.Controllers.ApprovalRequestController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method17(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-06-02 08:28:49.884 +09:00 [DBG] Connection id "0HND1CG7SF6U5" completed keep alive response.
2025-06-02 08:28:49.885 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - 500 null text/plain; charset=utf-8 139.4187ms
2025-06-02 08:29:51.771 +09:00 [DBG] Connection id "0HND1CG7SF6U5" received FIN.
2025-06-02 08:29:51.804 +09:00 [DBG] Connection id "0HND1CG7SF6U5" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-02 08:29:51.810 +09:00 [DBG] Connection id "0HND1CG7SF6U5" disconnecting.
2025-06-02 08:29:51.815 +09:00 [DBG] Connection id "0HND1CG7SF6U5" stopped.
2025-06-02 08:29:54.218 +09:00 [DBG] Connection id "0HND1CG7SF6U6" accepted.
2025-06-02 08:29:54.218 +09:00 [DBG] Connection id "0HND1CG7SF6U6" started.
2025-06-02 08:29:55.875 +09:00 [DBG] Connection id "0HND1CG7SF6U7" accepted.
2025-06-02 08:29:55.875 +09:00 [DBG] Connection 0HND1CG7SF6U6 established using the following protocol: "Tls12"
2025-06-02 08:29:55.876 +09:00 [DBG] Connection id "0HND1CG7SF6U7" started.
2025-06-02 08:29:55.886 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - null null
2025-06-02 08:29:55.889 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 08:29:55.889 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)' with route pattern 'api/ApprovalRequest/{requestid}' is valid for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 08:29:55.890 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:29:55.908 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 08:29:55.908 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:29:55.909 +09:00 [DBG] Connection 0HND1CG7SF6U7 established using the following protocol: "Tls12"
2025-06-02 08:29:56.009 +09:00 [INF] Route matched with {action = "GetRequestById", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestById(System.Guid) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 08:29:56.009 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 08:29:56.009 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 08:29:56.009 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 08:29:56.009 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 08:29:56.010 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 08:29:56.010 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 08:29:56.041 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API) in 31.2727ms
2025-06-02 08:29:56.041 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:29:56.042 +09:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'ApprovalService.Domain.Interfaces.IApprovalRequestRepository`1[ApprovalService.Domain.Entities.ApprovalRequest]' while attempting to activate 'ApprovalService.API.Controllers.ApprovalRequestController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method17(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-06-02 08:29:56.044 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - null null
2025-06-02 08:29:56.044 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 08:29:56.044 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)' with route pattern 'api/ApprovalRequest/{requestid}' is valid for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 08:29:56.044 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:29:56.045 +09:00 [DBG] Connection id "0HND1CG7SF6U6" completed keep alive response.
2025-06-02 08:29:56.045 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - 500 null text/plain; charset=utf-8 158.8815ms
2025-06-02 08:29:56.046 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 08:29:56.046 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:29:56.046 +09:00 [INF] Route matched with {action = "GetRequestById", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestById(System.Guid) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 08:29:56.046 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 08:29:56.046 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 08:29:56.046 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 08:29:56.046 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 08:29:56.046 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 08:29:56.046 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 08:29:56.047 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API) in 0.4304ms
2025-06-02 08:29:56.047 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:29:56.047 +09:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'ApprovalService.Domain.Interfaces.IApprovalRequestRepository`1[ApprovalService.Domain.Entities.ApprovalRequest]' while attempting to activate 'ApprovalService.API.Controllers.ApprovalRequestController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method17(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-06-02 08:29:56.048 +09:00 [DBG] Connection id "0HND1CG7SF6U7" completed keep alive response.
2025-06-02 08:29:56.048 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - 500 null text/plain; charset=utf-8 4.447ms
2025-06-02 08:30:58.207 +09:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-02 08:30:58.319 +09:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-06-02 08:30:58.576 +09:00 [DBG] The property 'Approver.ApprovalId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-06-02 08:30:58.628 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 08:30:58.633 +09:00 [DBG] Creating DbConnection.
2025-06-02 08:30:58.639 +09:00 [DBG] Created DbConnection. (4ms).
2025-06-02 08:30:58.640 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:30:58.648 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:30:58.650 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:30:58.652 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:30:58.653 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-02 08:30:58.653 +09:00 [DBG] Creating DbConnection.
2025-06-02 08:30:58.653 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 08:30:58.655 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2025-06-02 08:30:58.656 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2025-06-02 08:30:58.656 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:30:58.657 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:30:58.659 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 08:30:58.672 +09:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 08:30:58.673 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:30:58.674 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (1ms).
2025-06-02 08:30:58.676 +09:00 [DBG] Creating DbConnection.
2025-06-02 08:30:58.677 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 08:30:58.677 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:30:58.677 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:30:58.677 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:30:58.677 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:30:58.677 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-02 08:30:58.677 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-02 08:30:58.677 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-06-02 08:30:58.677 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:30:58.677 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:30:58.677 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 08:30:58.678 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 08:30:58.678 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:30:58.678 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:30:58.698 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .Any()'
2025-06-02 08:30:58.792 +09:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-06-02 08:30:58.804 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:30:58.804 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:30:58.804 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 08:30:58.804 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:30:58.804 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:30:58.805 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-06-02 08:30:58.806 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-06-02 08:30:58.808 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:30:58.809 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 2ms reading results.
2025-06-02 08:30:58.809 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:30:58.809 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:30:58.810 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 08:30:58.810 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:30:58.811 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:30:58.812 +09:00 [DBG] Hosting starting
2025-06-02 08:30:58.838 +09:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-06-02 08:30:58.839 +09:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-06-02 08:30:59.081 +09:00 [INF] Now listening on: https://localhost:5001
2025-06-02 08:30:59.081 +09:00 [INF] Now listening on: http://localhost:5229
2025-06-02 08:30:59.081 +09:00 [DBG] Loaded hosting startup assembly ApprovalService.API
2025-06-02 08:30:59.081 +09:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-02 08:30:59.082 +09:00 [INF] Hosting environment: Development
2025-06-02 08:30:59.082 +09:00 [INF] Content root path: /Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API
2025-06-02 08:30:59.082 +09:00 [DBG] Hosting started
2025-06-02 08:31:11.181 +09:00 [DBG] Connection id "0HND1CHI8CH9L" accepted.
2025-06-02 08:31:11.184 +09:00 [DBG] Connection id "0HND1CHI8CH9L" started.
2025-06-02 08:31:11.236 +09:00 [DBG] Connection 0HND1CHI8CH9L established using the following protocol: "Tls12"
2025-06-02 08:31:11.261 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - null null
2025-06-02 08:31:11.278 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 08:31:11.283 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)' with route pattern 'api/ApprovalRequest/{requestid}' is valid for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 08:31:11.284 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:31:11.300 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 08:31:11.300 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:31:11.310 +09:00 [INF] Route matched with {action = "GetRequestById", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestById(System.Guid) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 08:31:11.311 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 08:31:11.311 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 08:31:11.312 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 08:31:11.312 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 08:31:11.312 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 08:31:11.312 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 08:31:11.315 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API) in 1.9645ms
2025-06-02 08:31:11.317 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:31:11.318 +09:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'ApprovalService.Domain.Interfaces.IApprovalRequestRepository`1[ApprovalService.Domain.Entities.ApprovalRequest]' while attempting to activate 'ApprovalService.API.Controllers.ApprovalRequestController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method17(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-06-02 08:31:11.333 +09:00 [DBG] Connection id "0HND1CHI8CH9L" completed keep alive response.
2025-06-02 08:31:11.334 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - 500 null text/plain; charset=utf-8 75.4829ms
2025-06-02 08:32:00.794 +09:00 [DBG] Connection id "0HND1CHI8CH9M" accepted.
2025-06-02 08:32:00.817 +09:00 [DBG] Connection id "0HND1CHI8CH9M" started.
2025-06-02 08:32:00.839 +09:00 [DBG] Connection 0HND1CHI8CH9M established using the following protocol: "Tls12"
2025-06-02 08:32:00.862 +09:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.css - null null
2025-06-02 08:32:00.862 +09:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/swagger-ui-bundle.js - null null
2025-06-02 08:32:00.862 +09:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/index.js - null null
2025-06-02 08:32:00.863 +09:00 [DBG] No candidates found for the request path '/swagger/index.css'
2025-06-02 08:32:00.863 +09:00 [DBG] No candidates found for the request path '/swagger/index.js'
2025-06-02 08:32:00.863 +09:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2025-06-02 08:32:00.863 +09:00 [DBG] Request did not match any endpoints
2025-06-02 08:32:00.863 +09:00 [DBG] Request did not match any endpoints
2025-06-02 08:32:00.863 +09:00 [DBG] Request did not match any endpoints
2025-06-02 08:32:00.901 +09:00 [INF] Sending file. Request path: '/index.css'. Physical path: 'N/A'
2025-06-02 08:32:00.904 +09:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.css - 200 202 text/css 41.766ms
2025-06-02 08:32:00.939 +09:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-06-02 08:32:00.942 +09:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/swagger-ui-bundle.js - 200 1484234 text/javascript 79.7908ms
2025-06-02 08:32:01.000 +09:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/index.js - 200 null application/javascript;charset=utf-8 138.329ms
2025-06-02 08:32:01.117 +09:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-06-02 08:32:01.117 +09:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-06-02 08:32:01.117 +09:00 [DBG] Request did not match any endpoints
2025-06-02 08:32:01.123 +09:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-06-02 08:32:01.173 +09:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 55.6343ms
2025-06-02 08:32:01.429 +09:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/favicon-32x32.png - null null
2025-06-02 08:32:01.429 +09:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2025-06-02 08:32:01.429 +09:00 [DBG] Request did not match any endpoints
2025-06-02 08:32:01.431 +09:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-06-02 08:32:01.432 +09:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/favicon-32x32.png - 200 628 image/png 3.0348ms
2025-06-02 08:32:04.547 +09:00 [DBG] Connection id "0HND1CHI8CH9M" received FIN.
2025-06-02 08:32:04.550 +09:00 [DBG] Connection id "0HND1CHI8CH9M" is closed. The last processed stream ID was 9.
2025-06-02 08:32:04.550 +09:00 [DBG] Connection id "0HND1CHI8CH9M" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-02 08:32:04.552 +09:00 [DBG] The connection queue processing loop for 0HND1CHI8CH9M completed.
2025-06-02 08:32:04.562 +09:00 [DBG] Connection id "0HND1CHI8CH9M" stopped.
2025-06-02 08:32:41.381 +09:00 [DBG] Connection id "0HND1CHI8CH9L" received FIN.
2025-06-02 08:32:41.409 +09:00 [DBG] Connection id "0HND1CHI8CH9L" disconnecting.
2025-06-02 08:32:41.410 +09:00 [DBG] Connection id "0HND1CHI8CH9L" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-02 08:32:41.465 +09:00 [DBG] Connection id "0HND1CHI8CH9L" stopped.
2025-06-02 08:32:42.285 +09:00 [DBG] Connection id "0HND1CHI8CH9N" accepted.
2025-06-02 08:32:42.285 +09:00 [DBG] Connection id "0HND1CHI8CH9N" started.
2025-06-02 08:32:42.437 +09:00 [DBG] Connection 0HND1CHI8CH9N established using the following protocol: "Tls12"
2025-06-02 08:32:42.517 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - null null
2025-06-02 08:32:42.519 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 08:32:42.519 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)' with route pattern 'api/ApprovalRequest/{requestid}' is valid for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 08:32:42.519 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:32:42.520 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 08:32:42.520 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:32:42.523 +09:00 [INF] Route matched with {action = "GetRequestById", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestById(System.Guid) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 08:32:42.524 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 08:32:42.524 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 08:32:42.524 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 08:32:42.524 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 08:32:42.524 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 08:32:42.524 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 08:32:42.525 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API) in 0.8857ms
2025-06-02 08:32:42.525 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:32:42.526 +09:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'ApprovalService.Domain.Interfaces.IApprovalRequestRepository`1[ApprovalService.Domain.Entities.ApprovalRequest]' while attempting to activate 'ApprovalService.API.Controllers.ApprovalRequestController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method17(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-06-02 08:32:42.530 +09:00 [DBG] Connection id "0HND1CHI8CH9N" completed keep alive response.
2025-06-02 08:32:42.531 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - 500 null text/plain; charset=utf-8 13.8382ms
2025-06-02 08:33:05.282 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - null null
2025-06-02 08:33:05.284 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 08:33:05.285 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)' with route pattern 'api/ApprovalRequest/{requestid}' is valid for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 08:33:05.286 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:33:05.288 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 08:33:05.289 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:33:05.290 +09:00 [INF] Route matched with {action = "GetRequestById", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestById(System.Guid) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 08:33:05.291 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 08:33:05.291 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 08:33:05.292 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 08:33:05.292 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 08:33:05.292 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 08:33:05.292 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 08:33:05.294 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API) in 2.0681ms
2025-06-02 08:33:05.295 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:33:05.296 +09:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'ApprovalService.Domain.Interfaces.IApprovalRequestRepository`1[ApprovalService.Domain.Entities.ApprovalRequest]' while attempting to activate 'ApprovalService.API.Controllers.ApprovalRequestController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method17(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-06-02 08:33:05.303 +09:00 [DBG] Connection id "0HND1CHI8CH9N" completed keep alive response.
2025-06-02 08:33:05.303 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - 500 null text/plain; charset=utf-8 23.9096ms
2025-06-02 08:33:18.288 +09:00 [DBG] Connection id "0HND1CHI8CH9O" accepted.
2025-06-02 08:33:18.290 +09:00 [DBG] Connection id "0HND1CHI8CH9O" started.
2025-06-02 08:33:18.318 +09:00 [DBG] Connection 0HND1CHI8CH9O established using the following protocol: "Tls12"
2025-06-02 08:33:18.330 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - null null
2025-06-02 08:33:18.330 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 08:33:18.330 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)' with route pattern 'api/ApprovalRequest/{requestid}' is valid for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 08:33:18.330 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:33:18.332 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 08:33:18.332 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:33:18.332 +09:00 [INF] Route matched with {action = "GetRequestById", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestById(System.Guid) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 08:33:18.332 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 08:33:18.332 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 08:33:18.333 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 08:33:18.333 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 08:33:18.333 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 08:33:18.333 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 08:33:18.333 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API) in 0.5634ms
2025-06-02 08:33:18.334 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:33:18.334 +09:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'ApprovalService.Domain.Interfaces.IApprovalRequestRepository`1[ApprovalService.Domain.Entities.ApprovalRequest]' while attempting to activate 'ApprovalService.API.Controllers.ApprovalRequestController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method17(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-06-02 08:33:18.335 +09:00 [DBG] Connection id "0HND1CHI8CH9O" completed keep alive response.
2025-06-02 08:33:18.336 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - 500 null text/plain; charset=utf-8 6.06ms
2025-06-02 08:33:57.214 +09:00 [DBG] Connection id "0HND1CHI8CH9N" received FIN.
2025-06-02 08:33:57.215 +09:00 [DBG] Connection id "0HND1CHI8CH9O" received FIN.
2025-06-02 08:33:57.275 +09:00 [DBG] Connection id "0HND1CHI8CH9O" disconnecting.
2025-06-02 08:33:57.275 +09:00 [DBG] Connection id "0HND1CHI8CH9N" disconnecting.
2025-06-02 08:33:57.275 +09:00 [DBG] Connection id "0HND1CHI8CH9O" stopped.
2025-06-02 08:33:57.285 +09:00 [DBG] Connection id "0HND1CHI8CH9O" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-02 08:33:57.285 +09:00 [DBG] Connection id "0HND1CHI8CH9N" stopped.
2025-06-02 08:33:57.300 +09:00 [DBG] Connection id "0HND1CHI8CH9N" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-02 08:34:27.930 +09:00 [DBG] Connection id "0HND1CHI8CH9P" accepted.
2025-06-02 08:34:27.956 +09:00 [DBG] Connection id "0HND1CHI8CH9P" started.
2025-06-02 08:34:27.979 +09:00 [DBG] Connection 0HND1CHI8CH9P established using the following protocol: "Tls12"
2025-06-02 08:34:27.986 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approvalrequest/my-requests/EMP0005 - null null
2025-06-02 08:34:27.986 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/my-requests/EMP0005'
2025-06-02 08:34:27.986 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)' with route pattern 'api/ApprovalRequest/my-requests/{userId}' is valid for the request path '/api/approvalrequest/my-requests/EMP0005'
2025-06-02 08:34:27.987 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-06-02 08:34:27.987 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 08:34:27.988 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-06-02 08:34:27.994 +09:00 [INF] Route matched with {action = "GetMyRequests", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyRequests(System.String) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 08:34:27.994 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 08:34:27.994 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 08:34:27.994 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 08:34:27.994 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 08:34:27.994 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 08:34:27.994 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 08:34:27.995 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API) in 0.4995ms
2025-06-02 08:34:27.995 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-06-02 08:34:27.995 +09:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'ApprovalService.Domain.Interfaces.IApprovalRequestRepository`1[ApprovalService.Domain.Entities.ApprovalRequest]' while attempting to activate 'ApprovalService.API.Controllers.ApprovalRequestController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method25(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-06-02 08:34:27.997 +09:00 [DBG] Connection id "0HND1CHI8CH9P" completed keep alive response.
2025-06-02 08:34:27.997 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approvalrequest/my-requests/EMP0005 - 500 null text/plain; charset=utf-8 10.9303ms
2025-06-02 08:35:50.817 +09:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-02 08:35:50.933 +09:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-06-02 08:35:51.208 +09:00 [DBG] The property 'Approver.ApprovalId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-06-02 08:35:51.251 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 08:35:51.256 +09:00 [DBG] Creating DbConnection.
2025-06-02 08:35:51.263 +09:00 [DBG] Created DbConnection. (5ms).
2025-06-02 08:35:51.264 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:35:51.271 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:35:51.273 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:35:51.275 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:35:51.276 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-02 08:35:51.277 +09:00 [DBG] Creating DbConnection.
2025-06-02 08:35:51.277 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 08:35:51.279 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2025-06-02 08:35:51.279 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (3ms).
2025-06-02 08:35:51.279 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:35:51.280 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:35:51.283 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 08:35:51.296 +09:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 08:35:51.297 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:35:51.298 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (1ms).
2025-06-02 08:35:51.301 +09:00 [DBG] Creating DbConnection.
2025-06-02 08:35:51.301 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 08:35:51.301 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:35:51.301 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:35:51.301 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:35:51.301 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:35:51.301 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-02 08:35:51.301 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-02 08:35:51.301 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-06-02 08:35:51.301 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:35:51.301 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:35:51.301 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 08:35:51.302 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 08:35:51.302 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:35:51.302 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:35:51.332 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .Any()'
2025-06-02 08:35:51.729 +09:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-06-02 08:35:51.748 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:35:51.748 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:35:51.749 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 08:35:51.749 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:35:51.749 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:35:51.749 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-06-02 08:35:51.751 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-06-02 08:35:51.754 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:35:51.755 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 3ms reading results.
2025-06-02 08:35:51.757 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:35:51.757 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:35:51.758 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 08:35:51.759 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:35:51.759 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:35:51.761 +09:00 [DBG] Hosting starting
2025-06-02 08:35:51.800 +09:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-06-02 08:35:51.801 +09:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-06-02 08:35:52.071 +09:00 [INF] Now listening on: https://localhost:5001
2025-06-02 08:35:52.071 +09:00 [INF] Now listening on: http://localhost:5229
2025-06-02 08:35:52.071 +09:00 [DBG] Loaded hosting startup assembly ApprovalService.API
2025-06-02 08:35:52.072 +09:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-02 08:35:52.072 +09:00 [INF] Hosting environment: Development
2025-06-02 08:35:52.072 +09:00 [INF] Content root path: /Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API
2025-06-02 08:35:52.072 +09:00 [DBG] Hosting started
2025-06-02 08:36:25.551 +09:00 [DBG] Connection id "0HND1CKFUET23" accepted.
2025-06-02 08:36:25.553 +09:00 [DBG] Connection id "0HND1CKFUET23" started.
2025-06-02 08:36:25.602 +09:00 [DBG] Connection 0HND1CKFUET23 established using the following protocol: "Tls12"
2025-06-02 08:36:25.640 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approvalrequest/my-requests/EMP0005 - null null
2025-06-02 08:36:25.654 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/my-requests/EMP0005'
2025-06-02 08:36:25.657 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)' with route pattern 'api/ApprovalRequest/my-requests/{userId}' is valid for the request path '/api/approvalrequest/my-requests/EMP0005'
2025-06-02 08:36:25.657 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-06-02 08:36:25.674 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 08:36:25.674 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-06-02 08:36:25.691 +09:00 [INF] Route matched with {action = "GetMyRequests", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyRequests(System.String) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 08:36:25.692 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 08:36:25.692 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 08:36:25.693 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 08:36:25.693 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 08:36:25.693 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 08:36:25.694 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 08:36:25.697 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 08:36:25.704 +09:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-06-02 08:36:25.706 +09:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-06-02 08:36:25.706 +09:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-06-02 08:36:25.706 +09:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-06-02 08:36:25.706 +09:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-06-02 08:36:25.710 +09:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-06-02 08:36:25.717 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 08:36:25.724 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .Where(request => EF.Property<string>(request, "ApplicantEmployeeNumber") == __userId_0)'
2025-06-02 08:36:25.777 +09:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<ApprovalRequest>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApprovalRequest.ApprovalId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApprovalRequest.ApplicantDepartment (string), 1], [Property: ApprovalRequest.ApplicantEmployeeNumber (string) Required, 2], [Property: ApprovalRequest.ApplicantName (string) Required, 3], [Property: ApprovalRequest.ApplicantPosition (string), 4], [Property: ApprovalRequest.ApprovalType (string), 5], [Property: ApprovalRequest.ApproverComment (string), 6], [Property: ApprovalRequest.MisKey (string), 7], [Property: ApprovalRequest.RequestContent (string), 8], [Property: ApprovalRequest.RequestTitle (string) Required, 9], [Property: ApprovalRequest.RequestedAt (DateTime) Required, 10], [Property: ApprovalRequest.RespondedAt (DateTime?), 11], [Property: ApprovalRequest.Status (string) Required, 12] }
        SELECT a.ApprovalId, a.ApplicantDepartment, a.ApplicantEmployeeNumber, a.ApplicantName, a.ApplicantPosition, a.ApprovalType, a.ApproverComment, a.MisKey, a.RequestContent, a.RequestTitle, a.RequestedAt, a.RespondedAt, a.Status
        FROM ApprovalRequests AS a
        WHERE a.ApplicantEmployeeNumber == @__userId_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApprovalRequest.ApprovalId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApprovalRequest.ApplicantDepartment (string), 1], [Property: ApprovalRequest.ApplicantEmployeeNumber (string) Required, 2], [Property: ApprovalRequest.ApplicantName (string) Required, 3], [Property: ApprovalRequest.ApplicantPosition (string), 4], [Property: ApprovalRequest.ApprovalType (string), 5], [Property: ApprovalRequest.ApproverComment (string), 6], [Property: ApprovalRequest.MisKey (string), 7], [Property: ApprovalRequest.RequestContent (string), 8], [Property: ApprovalRequest.RequestTitle (string) Required, 9], [Property: ApprovalRequest.RequestedAt (DateTime) Required, 10], [Property: ApprovalRequest.RespondedAt (DateTime?), 11], [Property: ApprovalRequest.Status (string) Required, 12] }
        SELECT a.ApprovalId, a.ApplicantDepartment, a.ApplicantEmployeeNumber, a.ApplicantName, a.ApplicantPosition, a.ApprovalType, a.ApproverComment, a.MisKey, a.RequestContent, a.RequestTitle, a.RequestedAt, a.RespondedAt, a.Status
        FROM ApprovalRequests AS a
        WHERE a.ApplicantEmployeeNumber == @__userId_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        ApprovalRequest entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            ApprovalRequest instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(ApprovalRequest);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: ApprovalRequest.ApprovalId PK | Resolver: c => c.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (ApprovalRequest)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")]: 
                        {
                            return 
                            {
                                ApprovalRequest instance;
                                instance = new ApprovalRequest();
                                instance.<ApprovalId>k__BackingField = dataReader.GetGuid(0);
                                instance.<ApplicantDepartment>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                instance.<ApplicantEmployeeNumber>k__BackingField = dataReader.GetString(2);
                                instance.<ApplicantName>k__BackingField = dataReader.GetString(3);
                                instance.<ApplicantPosition>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                instance.<ApprovalType>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                instance.<ApproverComment>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                instance.<MisKey>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                instance.<RequestContent>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                instance.<RequestTitle>k__BackingField = dataReader.GetString(9);
                                instance.<RequestedAt>k__BackingField = dataReader.GetDateTime(10);
                                instance.<RespondedAt>k__BackingField = dataReader.IsDBNull(11) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(11);
                                instance.<Status>k__BackingField = dataReader.GetString(12);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(ApprovalRequest)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-06-02 08:36:25.789 +09:00 [DBG] Creating DbConnection.
2025-06-02 08:36:25.789 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 08:36:25.789 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:36:25.789 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:36:25.789 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 08:36:25.789 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:36:25.790 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-06-02 08:36:25.791 +09:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApplicantEmployeeNumber" = @__userId_0
2025-06-02 08:36:25.793 +09:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApplicantEmployeeNumber" = @__userId_0
2025-06-02 08:36:25.809 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 08:36:25.827 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:36:25.827 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 34ms reading results.
2025-06-02 08:36:25.827 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:36:25.828 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:36:25.831 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-02 08:36:25.832 +09:00 [DBG] No information found on request to perform content negotiation.
2025-06-02 08:36:25.832 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-02 08:36:25.832 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-02 08:36:25.832 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-02 08:36:25.833 +09:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ApprovalService.Domain.Entities.ApprovalRequest, ApprovalService.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-02 08:36:25.878 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API) in 183.396ms
2025-06-02 08:36:25.880 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-06-02 08:36:25.880 +09:00 [DBG] Connection id "0HND1CKFUET23" completed keep alive response.
2025-06-02 08:36:25.881 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 08:36:25.883 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:36:25.883 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:36:25.884 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approvalrequest/my-requests/EMP0005 - 200 null application/json; charset=utf-8 246.8897ms
2025-06-02 08:36:28.342 +09:00 [DBG] Connection id "0HND1CKFUET24" accepted.
2025-06-02 08:36:28.343 +09:00 [DBG] Connection id "0HND1CKFUET24" started.
2025-06-02 08:36:28.367 +09:00 [DBG] Connection 0HND1CKFUET24 established using the following protocol: "Tls12"
2025-06-02 08:36:28.372 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - null null
2025-06-02 08:36:28.374 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 08:36:28.374 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)' with route pattern 'api/ApprovalRequest/{requestid}' is valid for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 08:36:28.374 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:36:28.375 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 08:36:28.375 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:36:28.380 +09:00 [INF] Route matched with {action = "GetRequestById", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestById(System.Guid) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 08:36:28.380 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 08:36:28.380 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 08:36:28.380 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 08:36:28.380 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 08:36:28.380 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 08:36:28.380 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 08:36:28.382 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 08:36:28.382 +09:00 [DBG] Attempting to bind parameter 'requestid' of type 'System.Guid' ...
2025-06-02 08:36:28.383 +09:00 [DBG] Attempting to bind parameter 'requestid' of type 'System.Guid' using the name 'requestid' in request data ...
2025-06-02 08:36:28.383 +09:00 [DBG] Done attempting to bind parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:36:28.383 +09:00 [DBG] Done attempting to bind parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:36:28.383 +09:00 [DBG] Attempting to validate the bound parameter 'requestid' of type 'System.Guid' ...
2025-06-02 08:36:28.383 +09:00 [DBG] Done attempting to validate the bound parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:36:44.990 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 08:36:45.010 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .Include(p => p.Steps)
    .SingleOrDefault(request => request.ApprovalId == __id_0)'
2025-06-02 08:36:45.017 +09:00 [DBG] Including navigation: 'ApprovalRequest.Steps'.
2025-06-02 08:36:45.069 +09:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ApprovalRequest>(
    asyncEnumerable: SingleQueryingEnumerable.Create<ApprovalRequest>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: ApprovalRequest.ApprovalId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApprovalRequest.ApplicantDepartment (string), 1], [Property: ApprovalRequest.ApplicantEmployeeNumber (string) Required, 2], [Property: ApprovalRequest.ApplicantName (string) Required, 3], [Property: ApprovalRequest.ApplicantPosition (string), 4], [Property: ApprovalRequest.ApprovalType (string), 5], [Property: ApprovalRequest.ApproverComment (string), 6], [Property: ApprovalRequest.MisKey (string), 7], [Property: ApprovalRequest.RequestContent (string), 8], [Property: ApprovalRequest.RequestTitle (string) Required, 9], [Property: ApprovalRequest.RequestedAt (DateTime) Required, 10], [Property: ApprovalRequest.RespondedAt (DateTime?), 11], [Property: ApprovalRequest.Status (string) Required, 12] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: ApprovalStep.StepId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: ApprovalStep.ActionDate (DateTime?), 14], [Property: ApprovalStep.ActionStatus (string), 15], [Property: ApprovalStep.ApprovalId (Guid) Required FK Index, 16], [Property: ApprovalStep.ApproverEmployeeNumber (string) Required, 17], [Property: ApprovalStep.Comment (string), 18], [Property: ApprovalStep.IsFinalApprover (bool) Required, 19], [Property: ApprovalStep.Sequence (int) Required, 20] }
                3 -> 13
            SELECT a1.ApprovalId, a1.ApplicantDepartment, a1.ApplicantEmployeeNumber, a1.ApplicantName, a1.ApplicantPosition, a1.ApprovalType, a1.ApproverComment, a1.MisKey, a1.RequestContent, a1.RequestTitle, a1.RequestedAt, a1.RespondedAt, a1.Status, a0.StepId, a0.ActionDate, a0.ActionStatus, a0.ApprovalId, a0.ApproverEmployeeNumber, a0.Comment, a0.IsFinalApprover, a0.Sequence
            FROM 
            (
                SELECT TOP(2) a.ApprovalId, a.ApplicantDepartment, a.ApplicantEmployeeNumber, a.ApplicantName, a.ApplicantPosition, a.ApprovalType, a.ApproverComment, a.MisKey, a.RequestContent, a.RequestTitle, a.RequestedAt, a.RespondedAt, a.Status
                FROM ApprovalRequests AS a
                WHERE a.ApprovalId == @__id_0
            ) AS a1
            LEFT JOIN ApprovalSteps AS a0 ON a1.ApprovalId == a0.ApprovalId
            ORDER BY a1.ApprovalId ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: ApprovalRequest.ApprovalId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApprovalRequest.ApplicantDepartment (string), 1], [Property: ApprovalRequest.ApplicantEmployeeNumber (string) Required, 2], [Property: ApprovalRequest.ApplicantName (string) Required, 3], [Property: ApprovalRequest.ApplicantPosition (string), 4], [Property: ApprovalRequest.ApprovalType (string), 5], [Property: ApprovalRequest.ApproverComment (string), 6], [Property: ApprovalRequest.MisKey (string), 7], [Property: ApprovalRequest.RequestContent (string), 8], [Property: ApprovalRequest.RequestTitle (string) Required, 9], [Property: ApprovalRequest.RequestedAt (DateTime) Required, 10], [Property: ApprovalRequest.RespondedAt (DateTime?), 11], [Property: ApprovalRequest.Status (string) Required, 12] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: ApprovalStep.StepId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: ApprovalStep.ActionDate (DateTime?), 14], [Property: ApprovalStep.ActionStatus (string), 15], [Property: ApprovalStep.ApprovalId (Guid) Required FK Index, 16], [Property: ApprovalStep.ApproverEmployeeNumber (string) Required, 17], [Property: ApprovalStep.Comment (string), 18], [Property: ApprovalStep.IsFinalApprover (bool) Required, 19], [Property: ApprovalStep.Sequence (int) Required, 20] }
                3 -> 13
            SELECT a1.ApprovalId, a1.ApplicantDepartment, a1.ApplicantEmployeeNumber, a1.ApplicantName, a1.ApplicantPosition, a1.ApprovalType, a1.ApproverComment, a1.MisKey, a1.RequestContent, a1.RequestTitle, a1.RequestedAt, a1.RespondedAt, a1.Status, a0.StepId, a0.ActionDate, a0.ActionStatus, a0.ApprovalId, a0.ApproverEmployeeNumber, a0.Comment, a0.IsFinalApprover, a0.Sequence
            FROM 
            (
                SELECT TOP(2) a.ApprovalId, a.ApplicantDepartment, a.ApplicantEmployeeNumber, a.ApplicantName, a.ApplicantPosition, a.ApprovalType, a.ApproverComment, a.MisKey, a.RequestContent, a.RequestTitle, a.RequestedAt, a.RespondedAt, a.Status
                FROM ApprovalRequests AS a
                WHERE a.ApprovalId == @__id_0
            ) AS a1
            LEFT JOIN ApprovalSteps AS a0 ON a1.ApprovalId == a0.ApprovalId
            ORDER BY a1.ApprovalId ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                ApprovalRequest entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    ApprovalRequest instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(ApprovalRequest);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: ApprovalRequest.ApprovalId PK | Resolver: c => c.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (ApprovalRequest)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")]: 
                                {
                                    return 
                                    {
                                        ApprovalRequest instance;
                                        instance = new ApprovalRequest();
                                        instance.<ApprovalId>k__BackingField = dataReader.GetGuid(0);
                                        instance.<ApplicantDepartment>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                        instance.<ApplicantEmployeeNumber>k__BackingField = dataReader.GetString(2);
                                        instance.<ApplicantName>k__BackingField = dataReader.GetString(3);
                                        instance.<ApplicantPosition>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                        instance.<ApprovalType>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                        instance.<ApproverComment>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                        instance.<MisKey>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                        instance.<RequestContent>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                        instance.<RequestTitle>k__BackingField = dataReader.GetString(9);
                                        instance.<RequestedAt>k__BackingField = dataReader.GetDateTime(10);
                                        instance.<RespondedAt>k__BackingField = dataReader.IsDBNull(11) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(11);
                                        instance.<Status>k__BackingField = dataReader.GetString(12);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(ApprovalRequest)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<ApprovalRequest, ApprovalRequest>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (ApprovalRequest)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: ApprovalRequest.Steps (List<ApprovalStep>) Collection ToDependent ApprovalStep Inverse: ApprovalRequest | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest").FindNavigation("Steps")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<ApprovalRequest, List<ApprovalStep>, ApprovalStep> | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest").FindNavigation("Steps").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<ApprovalRequest, ApprovalStep>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(13) ? default(Guid?) : (Guid?)dataReader.GetGuid(13) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    ApprovalStep entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        ApprovalStep instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(ApprovalStep);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: ApprovalStep.StepId PK | Resolver: c => c.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalStep").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(13) ? default(object) : (object)dataReader.GetGuid(13) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (ApprovalStep)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: ApprovalStep | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalStep")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: ApprovalStep | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalStep")]: 
                                    {
                                        return 
                                        {
                                            ApprovalStep instance;
                                            instance = new ApprovalStep();
                                            instance.<StepId>k__BackingField = dataReader.IsDBNull(13) ? default(Guid) : dataReader.GetGuid(13);
                                            instance.<ActionDate>k__BackingField = dataReader.IsDBNull(14) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(14);
                                            instance.<ActionStatus>k__BackingField = dataReader.IsDBNull(15) ? default(string) : dataReader.GetString(15);
                                            instance.<ApprovalId>k__BackingField = dataReader.IsDBNull(16) ? default(Guid) : dataReader.GetGuid(16);
                                            instance.<ApproverEmployeeNumber>k__BackingField = dataReader.IsDBNull(17) ? default(string) : dataReader.GetString(17);
                                            instance.<Comment>k__BackingField = dataReader.IsDBNull(18) ? default(string) : dataReader.GetString(18);
                                            instance.<IsFinalApprover>k__BackingField = dataReader.IsDBNull(19) ? default(bool) : dataReader.GetBoolean(19);
                                            instance.<Sequence>k__BackingField = dataReader.IsDBNull(20) ? default(int) : dataReader.GetInt32(20);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: ApprovalStep | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalStep")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(ApprovalStep)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: [LIFTABLE Constant: Navigation: ApprovalStep.ApprovalRequest (ApprovalRequest) ToPrincipal ApprovalRequest Inverse: Steps | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalStep").FindNavigation("ApprovalRequest")], 
                fixup: (namelessParameter{9}, namelessParameter{10}) => 
                {
                    [LIFTABLE Constant: ClrICollectionAccessor<ApprovalRequest, List<ApprovalStep>, ApprovalStep> | Resolver: namelessParameter{11} => namelessParameter{11}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest").FindNavigation("Steps").GetCollectionAccessor()].Add(
                        entity: namelessParameter{9}, 
                        value: namelessParameter{10}, 
                        forMaterialization: True);
                    return namelessParameter{10}.<ApprovalRequest>k__BackingField = namelessParameter{9};
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (ApprovalRequest)(resultContext.Values[0]) : default(ApprovalRequest);
        }, 
        contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-06-02 08:36:45.078 +09:00 [DBG] Creating DbConnection.
2025-06-02 08:36:45.079 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 08:36:45.079 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:36:45.079 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:36:45.079 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 08:36:45.079 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:36:45.080 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:36:45.080 +09:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a1"."ApprovalId", "a1"."ApplicantDepartment", "a1"."ApplicantEmployeeNumber", "a1"."ApplicantName", "a1"."ApplicantPosition", "a1"."ApprovalType", "a1"."ApproverComment", "a1"."MisKey", "a1"."RequestContent", "a1"."RequestTitle", "a1"."RequestedAt", "a1"."RespondedAt", "a1"."Status", "a0"."StepId", "a0"."ActionDate", "a0"."ActionStatus", "a0"."ApprovalId", "a0"."ApproverEmployeeNumber", "a0"."Comment", "a0"."IsFinalApprover", "a0"."Sequence"
FROM (
    SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
    FROM "ApprovalRequests" AS "a"
    WHERE "a"."ApprovalId" = @__id_0
    LIMIT 2
) AS "a1"
LEFT JOIN "ApprovalSteps" AS "a0" ON "a1"."ApprovalId" = "a0"."ApprovalId"
ORDER BY "a1"."ApprovalId"
2025-06-02 08:36:45.081 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a1"."ApprovalId", "a1"."ApplicantDepartment", "a1"."ApplicantEmployeeNumber", "a1"."ApplicantName", "a1"."ApplicantPosition", "a1"."ApprovalType", "a1"."ApproverComment", "a1"."MisKey", "a1"."RequestContent", "a1"."RequestTitle", "a1"."RequestedAt", "a1"."RespondedAt", "a1"."Status", "a0"."StepId", "a0"."ActionDate", "a0"."ActionStatus", "a0"."ApprovalId", "a0"."ApproverEmployeeNumber", "a0"."Comment", "a0"."IsFinalApprover", "a0"."Sequence"
FROM (
    SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
    FROM "ApprovalRequests" AS "a"
    WHERE "a"."ApprovalId" = @__id_0
    LIMIT 2
) AS "a1"
LEFT JOIN "ApprovalSteps" AS "a0" ON "a1"."ApprovalId" = "a0"."ApprovalId"
ORDER BY "a1"."ApprovalId"
2025-06-02 08:36:45.082 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 08:36:45.091 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalStep' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 08:36:45.098 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalStep' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 08:36:45.098 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:36:45.098 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 16ms reading results.
2025-06-02 08:36:45.098 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:36:45.098 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:38:19.723 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-02 08:38:19.731 +09:00 [DBG] No information found on request to perform content negotiation.
2025-06-02 08:38:19.731 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-02 08:38:19.731 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-02 08:38:19.734 +09:00 [DBG] Connection id "0HND1CKFUET24" received FIN.
2025-06-02 08:38:19.736 +09:00 [DBG] Connection id "0HND1CKFUET23" received FIN.
2025-06-02 08:38:19.738 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-02 08:38:19.738 +09:00 [INF] Executing OkObjectResult, writing value of type 'ApprovalService.Domain.Entities.ApprovalRequest'.
2025-06-02 08:38:19.871 +09:00 [DBG] Connection id "0HND1CKFUET24" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-02 08:38:19.871 +09:00 [DBG] Connection id "0HND1CKFUET23" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-02 08:38:19.875 +09:00 [DBG] Connection id "0HND1CKFUET23" disconnecting.
2025-06-02 08:38:19.875 +09:00 [DBG] Connection id "0HND1CKFUET24" disconnecting.
2025-06-02 08:38:19.909 +09:00 [DBG] Connection id "0HND1CKFUET23" stopped.
2025-06-02 08:38:19.914 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API) in 111538.7588ms
2025-06-02 08:38:19.915 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:38:19.916 +09:00 [ERR] An unhandled exception has occurred while executing the request.
System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.Steps.ApprovalRequest.Steps.ApprovalRequest.Steps.ApprovalRequest.Steps.ApprovalRequest.Steps.ApprovalRequest.Steps.ApprovalRequest.Steps.ApprovalRequest.Steps.ApprovalRequest.Steps.ApprovalRequest.Steps.ApprovalRequest.Steps.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-06-02 08:38:19.949 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 08:38:19.949 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:38:19.949 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:38:19.949 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - 500 null text/plain; charset=utf-8 111581.6998ms
2025-06-02 08:38:19.949 +09:00 [DBG] Connection id "0HND1CKFUET24" stopped.
2025-06-02 08:38:35.977 +09:00 [DBG] Connection id "0HND1CKFUET25" accepted.
2025-06-02 08:38:35.977 +09:00 [DBG] Connection id "0HND1CKFUET25" started.
2025-06-02 08:38:36.005 +09:00 [DBG] Connection 0HND1CKFUET25 established using the following protocol: "Tls12"
2025-06-02 08:38:36.009 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - null null
2025-06-02 08:38:36.009 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 08:38:36.009 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)' with route pattern 'api/ApprovalRequest/{requestid}' is valid for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 08:38:36.010 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:38:36.012 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 08:38:36.012 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:38:36.012 +09:00 [INF] Route matched with {action = "GetRequestById", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestById(System.Guid) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 08:38:36.013 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 08:38:36.013 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 08:38:36.013 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 08:38:36.013 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 08:38:36.013 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 08:38:36.013 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 08:38:36.015 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 08:38:36.015 +09:00 [DBG] Attempting to bind parameter 'requestid' of type 'System.Guid' ...
2025-06-02 08:38:36.015 +09:00 [DBG] Attempting to bind parameter 'requestid' of type 'System.Guid' using the name 'requestid' in request data ...
2025-06-02 08:38:36.015 +09:00 [DBG] Done attempting to bind parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:38:36.015 +09:00 [DBG] Done attempting to bind parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:38:36.015 +09:00 [DBG] Attempting to validate the bound parameter 'requestid' of type 'System.Guid' ...
2025-06-02 08:38:36.015 +09:00 [DBG] Done attempting to validate the bound parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:38:43.912 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 08:38:43.918 +09:00 [DBG] Creating DbConnection.
2025-06-02 08:38:43.918 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 08:38:43.918 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:38:43.919 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:38:43.919 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 08:38:43.919 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:38:43.919 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:38:43.919 +09:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a1"."ApprovalId", "a1"."ApplicantDepartment", "a1"."ApplicantEmployeeNumber", "a1"."ApplicantName", "a1"."ApplicantPosition", "a1"."ApprovalType", "a1"."ApproverComment", "a1"."MisKey", "a1"."RequestContent", "a1"."RequestTitle", "a1"."RequestedAt", "a1"."RespondedAt", "a1"."Status", "a0"."StepId", "a0"."ActionDate", "a0"."ActionStatus", "a0"."ApprovalId", "a0"."ApproverEmployeeNumber", "a0"."Comment", "a0"."IsFinalApprover", "a0"."Sequence"
FROM (
    SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
    FROM "ApprovalRequests" AS "a"
    WHERE "a"."ApprovalId" = @__id_0
    LIMIT 2
) AS "a1"
LEFT JOIN "ApprovalSteps" AS "a0" ON "a1"."ApprovalId" = "a0"."ApprovalId"
ORDER BY "a1"."ApprovalId"
2025-06-02 08:38:43.920 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a1"."ApprovalId", "a1"."ApplicantDepartment", "a1"."ApplicantEmployeeNumber", "a1"."ApplicantName", "a1"."ApplicantPosition", "a1"."ApprovalType", "a1"."ApproverComment", "a1"."MisKey", "a1"."RequestContent", "a1"."RequestTitle", "a1"."RequestedAt", "a1"."RespondedAt", "a1"."Status", "a0"."StepId", "a0"."ActionDate", "a0"."ActionStatus", "a0"."ApprovalId", "a0"."ApproverEmployeeNumber", "a0"."Comment", "a0"."IsFinalApprover", "a0"."Sequence"
FROM (
    SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
    FROM "ApprovalRequests" AS "a"
    WHERE "a"."ApprovalId" = @__id_0
    LIMIT 2
) AS "a1"
LEFT JOIN "ApprovalSteps" AS "a0" ON "a1"."ApprovalId" = "a0"."ApprovalId"
ORDER BY "a1"."ApprovalId"
2025-06-02 08:38:43.921 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 08:38:43.922 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalStep' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 08:38:43.922 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalStep' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 08:38:43.922 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:38:43.922 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 2ms reading results.
2025-06-02 08:38:43.923 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:38:43.923 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:38:52.661 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-02 08:38:52.666 +09:00 [DBG] No information found on request to perform content negotiation.
2025-06-02 08:38:52.666 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-02 08:38:52.667 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-02 08:38:52.667 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-02 08:38:52.667 +09:00 [INF] Executing OkObjectResult, writing value of type 'ApprovalService.Domain.Entities.ApprovalRequest'.
2025-06-02 08:38:52.672 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API) in 16659.5552ms
2025-06-02 08:38:52.672 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:38:52.673 +09:00 [ERR] An unhandled exception has occurred while executing the request.
System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.Steps.ApprovalRequest.Steps.ApprovalRequest.Steps.ApprovalRequest.Steps.ApprovalRequest.Steps.ApprovalRequest.Steps.ApprovalRequest.Steps.ApprovalRequest.Steps.ApprovalRequest.Steps.ApprovalRequest.Steps.ApprovalRequest.Steps.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-06-02 08:38:52.695 +09:00 [DBG] Connection id "0HND1CKFUET25" completed keep alive response.
2025-06-02 08:38:52.695 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 08:38:52.696 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:38:52.696 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:38:52.697 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - 500 null text/plain; charset=utf-8 16688.1808ms
2025-06-02 08:40:05.985 +09:00 [DBG] Connection id "0HND1CKFUET25" received FIN.
2025-06-02 08:40:06.017 +09:00 [DBG] Connection id "0HND1CKFUET25" disconnecting.
2025-06-02 08:40:06.017 +09:00 [DBG] Connection id "0HND1CKFUET25" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-02 08:40:06.042 +09:00 [DBG] Connection id "0HND1CKFUET25" stopped.
2025-06-02 08:42:15.002 +09:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-02 08:42:15.114 +09:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-06-02 08:42:15.585 +09:00 [DBG] The property 'Approver.ApprovalId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-06-02 08:42:15.632 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 08:42:15.638 +09:00 [DBG] Creating DbConnection.
2025-06-02 08:42:15.644 +09:00 [DBG] Created DbConnection. (5ms).
2025-06-02 08:42:15.646 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:42:15.654 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:42:15.655 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:42:15.657 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:42:15.659 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-02 08:42:15.659 +09:00 [DBG] Creating DbConnection.
2025-06-02 08:42:15.659 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 08:42:15.661 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2025-06-02 08:42:15.662 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (3ms).
2025-06-02 08:42:15.662 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:42:15.663 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:42:15.665 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 08:42:15.679 +09:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 08:42:15.680 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:42:15.681 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (1ms).
2025-06-02 08:42:15.683 +09:00 [DBG] Creating DbConnection.
2025-06-02 08:42:15.683 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 08:42:15.683 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:42:15.684 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:42:15.684 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:42:15.684 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:42:15.684 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-02 08:42:15.684 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-02 08:42:15.684 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-06-02 08:42:15.684 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:42:15.684 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:42:15.684 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 08:42:15.684 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 08:42:15.685 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:42:15.685 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:42:15.708 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .Any()'
2025-06-02 08:42:15.811 +09:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-06-02 08:42:15.825 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:42:15.826 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:42:15.826 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 08:42:15.826 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:42:15.826 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:42:15.826 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-06-02 08:42:15.828 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-06-02 08:42:15.830 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:42:15.830 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 2ms reading results.
2025-06-02 08:42:15.831 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:42:15.831 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:42:15.832 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 08:42:15.832 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:42:15.832 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:42:15.834 +09:00 [DBG] Hosting starting
2025-06-02 08:42:15.862 +09:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-06-02 08:42:15.862 +09:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-06-02 08:42:16.127 +09:00 [INF] Now listening on: https://localhost:5001
2025-06-02 08:42:16.127 +09:00 [INF] Now listening on: http://localhost:5229
2025-06-02 08:42:16.127 +09:00 [DBG] Loaded hosting startup assembly ApprovalService.API
2025-06-02 08:42:16.128 +09:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-02 08:42:16.128 +09:00 [INF] Hosting environment: Development
2025-06-02 08:42:16.128 +09:00 [INF] Content root path: /Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API
2025-06-02 08:42:16.128 +09:00 [DBG] Hosting started
2025-06-02 08:42:17.493 +09:00 [DBG] Connection id "0HND1CNOQR7JH" accepted.
2025-06-02 08:42:17.494 +09:00 [DBG] Connection id "0HND1CNOQR7JH" started.
2025-06-02 08:42:17.536 +09:00 [DBG] Connection 0HND1CNOQR7JH established using the following protocol: "Tls12"
2025-06-02 08:42:17.558 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - null null
2025-06-02 08:42:17.570 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 08:42:17.573 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)' with route pattern 'api/ApprovalRequest/{requestid}' is valid for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 08:42:17.575 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:42:17.596 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 08:42:17.598 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:42:17.616 +09:00 [INF] Route matched with {action = "GetRequestById", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestById(System.Guid) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 08:42:17.617 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 08:42:17.617 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 08:42:17.618 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 08:42:17.618 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 08:42:17.618 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 08:42:17.618 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 08:42:17.619 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 08:42:17.625 +09:00 [DBG] Attempting to bind parameter 'requestid' of type 'System.Guid' ...
2025-06-02 08:42:17.626 +09:00 [DBG] Attempting to bind parameter 'requestid' of type 'System.Guid' using the name 'requestid' in request data ...
2025-06-02 08:42:17.626 +09:00 [DBG] Done attempting to bind parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:42:17.627 +09:00 [DBG] Done attempting to bind parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:42:17.627 +09:00 [DBG] Attempting to validate the bound parameter 'requestid' of type 'System.Guid' ...
2025-06-02 08:42:17.627 +09:00 [DBG] Done attempting to validate the bound parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:42:19.881 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 08:42:19.891 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "ApprovalId"), 
        objB: __p_0))'
2025-06-02 08:42:19.929 +09:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ApprovalRequest>(
    asyncEnumerable: SingleQueryingEnumerable.Create<ApprovalRequest>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApprovalRequest.ApprovalId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApprovalRequest.ApplicantDepartment (string), 1], [Property: ApprovalRequest.ApplicantEmployeeNumber (string) Required, 2], [Property: ApprovalRequest.ApplicantName (string) Required, 3], [Property: ApprovalRequest.ApplicantPosition (string), 4], [Property: ApprovalRequest.ApprovalType (string), 5], [Property: ApprovalRequest.ApproverComment (string), 6], [Property: ApprovalRequest.MisKey (string), 7], [Property: ApprovalRequest.RequestContent (string), 8], [Property: ApprovalRequest.RequestTitle (string) Required, 9], [Property: ApprovalRequest.RequestedAt (DateTime) Required, 10], [Property: ApprovalRequest.RespondedAt (DateTime?), 11], [Property: ApprovalRequest.Status (string) Required, 12] }
            SELECT TOP(1) a.ApprovalId, a.ApplicantDepartment, a.ApplicantEmployeeNumber, a.ApplicantName, a.ApplicantPosition, a.ApprovalType, a.ApproverComment, a.MisKey, a.RequestContent, a.RequestTitle, a.RequestedAt, a.RespondedAt, a.Status
            FROM ApprovalRequests AS a
            WHERE a.ApprovalId == @__p_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApprovalRequest.ApprovalId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApprovalRequest.ApplicantDepartment (string), 1], [Property: ApprovalRequest.ApplicantEmployeeNumber (string) Required, 2], [Property: ApprovalRequest.ApplicantName (string) Required, 3], [Property: ApprovalRequest.ApplicantPosition (string), 4], [Property: ApprovalRequest.ApprovalType (string), 5], [Property: ApprovalRequest.ApproverComment (string), 6], [Property: ApprovalRequest.MisKey (string), 7], [Property: ApprovalRequest.RequestContent (string), 8], [Property: ApprovalRequest.RequestTitle (string) Required, 9], [Property: ApprovalRequest.RequestedAt (DateTime) Required, 10], [Property: ApprovalRequest.RespondedAt (DateTime?), 11], [Property: ApprovalRequest.Status (string) Required, 12] }
            SELECT TOP(1) a.ApprovalId, a.ApplicantDepartment, a.ApplicantEmployeeNumber, a.ApplicantName, a.ApplicantPosition, a.ApprovalType, a.ApproverComment, a.MisKey, a.RequestContent, a.RequestTitle, a.RequestedAt, a.RespondedAt, a.Status
            FROM ApprovalRequests AS a
            WHERE a.ApprovalId == @__p_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            ApprovalRequest entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                ApprovalRequest instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(ApprovalRequest);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: ApprovalRequest.ApprovalId PK | Resolver: c => c.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (ApprovalRequest)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")]: 
                            {
                                return 
                                {
                                    ApprovalRequest instance;
                                    instance = new ApprovalRequest();
                                    instance.<ApprovalId>k__BackingField = dataReader.GetGuid(0);
                                    instance.<ApplicantDepartment>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                    instance.<ApplicantEmployeeNumber>k__BackingField = dataReader.GetString(2);
                                    instance.<ApplicantName>k__BackingField = dataReader.GetString(3);
                                    instance.<ApplicantPosition>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                    instance.<ApprovalType>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                    instance.<ApproverComment>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                    instance.<MisKey>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                    instance.<RequestContent>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                    instance.<RequestTitle>k__BackingField = dataReader.GetString(9);
                                    instance.<RequestedAt>k__BackingField = dataReader.GetDateTime(10);
                                    instance.<RespondedAt>k__BackingField = dataReader.IsDBNull(11) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(11);
                                    instance.<Status>k__BackingField = dataReader.GetString(12);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(ApprovalRequest)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-06-02 08:42:19.939 +09:00 [DBG] Creating DbConnection.
2025-06-02 08:42:19.939 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 08:42:19.939 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:42:19.939 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:42:19.940 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 08:42:19.940 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:42:19.941 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:42:19.942 +09:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-06-02 08:42:19.944 +09:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApprovalId" = @__p_0
LIMIT 1
2025-06-02 08:42:19.963 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 08:42:19.979 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:42:19.979 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 35ms reading results.
2025-06-02 08:42:19.979 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:42:19.980 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:42:27.714 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-02 08:42:27.716 +09:00 [DBG] No information found on request to perform content negotiation.
2025-06-02 08:42:27.716 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-02 08:42:27.716 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-02 08:42:27.718 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-02 08:42:27.719 +09:00 [INF] Executing OkObjectResult, writing value of type 'ApprovalService.Domain.Entities.ApprovalRequest'.
2025-06-02 08:42:27.810 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API) in 10190.9623ms
2025-06-02 08:42:27.815 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:42:27.817 +09:00 [DBG] Connection id "0HND1CNOQR7JH" completed keep alive response.
2025-06-02 08:42:27.819 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 08:42:27.822 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:42:27.823 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:42:27.824 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - 200 null application/json; charset=utf-8 10267.1157ms
2025-06-02 08:43:34.555 +09:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-02 08:43:34.899 +09:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-06-02 08:43:35.170 +09:00 [DBG] The property 'Approver.ApprovalId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-06-02 08:43:35.215 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 08:43:35.220 +09:00 [DBG] Creating DbConnection.
2025-06-02 08:43:35.226 +09:00 [DBG] Created DbConnection. (5ms).
2025-06-02 08:43:35.228 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:43:35.236 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:43:35.239 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:43:35.241 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:43:35.243 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-02 08:43:35.243 +09:00 [DBG] Creating DbConnection.
2025-06-02 08:43:35.243 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 08:43:35.246 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2025-06-02 08:43:35.246 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (3ms).
2025-06-02 08:43:35.246 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:43:35.247 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:43:35.250 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 08:43:35.264 +09:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 08:43:35.265 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:43:35.266 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (1ms).
2025-06-02 08:43:35.269 +09:00 [DBG] Creating DbConnection.
2025-06-02 08:43:35.269 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 08:43:35.269 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:43:35.269 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:43:35.269 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:43:35.269 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:43:35.269 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-02 08:43:35.270 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-02 08:43:35.270 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-06-02 08:43:35.270 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:43:35.270 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:43:35.270 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 08:43:35.270 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 08:43:35.270 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:43:35.270 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:43:35.292 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .Any()'
2025-06-02 08:43:35.405 +09:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-06-02 08:43:35.419 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:43:35.420 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:43:35.420 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 08:43:35.420 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:43:35.420 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:43:35.421 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-06-02 08:43:35.422 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-06-02 08:43:35.425 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:43:35.425 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 2ms reading results.
2025-06-02 08:43:35.426 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:43:35.427 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:43:35.428 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 08:43:35.428 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:43:35.429 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:43:35.431 +09:00 [DBG] Hosting starting
2025-06-02 08:43:35.465 +09:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-06-02 08:43:35.466 +09:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-06-02 08:43:35.734 +09:00 [INF] Now listening on: https://localhost:5001
2025-06-02 08:43:35.735 +09:00 [INF] Now listening on: http://localhost:5229
2025-06-02 08:43:35.735 +09:00 [DBG] Loaded hosting startup assembly ApprovalService.API
2025-06-02 08:43:35.735 +09:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-02 08:43:35.736 +09:00 [INF] Hosting environment: Development
2025-06-02 08:43:35.736 +09:00 [INF] Content root path: /Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API
2025-06-02 08:43:35.736 +09:00 [DBG] Hosting started
2025-06-02 08:43:44.928 +09:00 [DBG] Connection id "0HND1COISM5GH" accepted.
2025-06-02 08:43:44.930 +09:00 [DBG] Connection id "0HND1COISM5GH" started.
2025-06-02 08:43:44.971 +09:00 [DBG] Connection 0HND1COISM5GH established using the following protocol: "Tls12"
2025-06-02 08:43:45.007 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - null null
2025-06-02 08:43:45.024 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 08:43:45.028 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)' with route pattern 'api/ApprovalRequest/{requestid}' is valid for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 08:43:45.030 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:43:45.043 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 08:43:45.044 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:43:45.055 +09:00 [INF] Route matched with {action = "GetRequestById", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestById(System.Guid) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 08:43:45.056 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 08:43:45.056 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 08:43:45.057 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 08:43:45.057 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 08:43:45.057 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 08:43:45.058 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 08:43:45.058 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 08:43:45.064 +09:00 [DBG] Attempting to bind parameter 'requestid' of type 'System.Guid' ...
2025-06-02 08:43:45.064 +09:00 [DBG] Attempting to bind parameter 'requestid' of type 'System.Guid' using the name 'requestid' in request data ...
2025-06-02 08:43:45.065 +09:00 [DBG] Done attempting to bind parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:43:45.065 +09:00 [DBG] Done attempting to bind parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:43:45.065 +09:00 [DBG] Attempting to validate the bound parameter 'requestid' of type 'System.Guid' ...
2025-06-02 08:43:45.067 +09:00 [DBG] Done attempting to validate the bound parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:43:53.180 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 08:43:53.206 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .Include(p => p.Steps)
    .SingleOrDefault(request => request.ApprovalId == __id_0)'
2025-06-02 08:43:53.216 +09:00 [DBG] Including navigation: 'ApprovalRequest.Steps'.
2025-06-02 08:43:53.289 +09:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ApprovalRequest>(
    asyncEnumerable: SingleQueryingEnumerable.Create<ApprovalRequest>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: ApprovalRequest.ApprovalId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApprovalRequest.ApplicantDepartment (string), 1], [Property: ApprovalRequest.ApplicantEmployeeNumber (string) Required, 2], [Property: ApprovalRequest.ApplicantName (string) Required, 3], [Property: ApprovalRequest.ApplicantPosition (string), 4], [Property: ApprovalRequest.ApprovalType (string), 5], [Property: ApprovalRequest.ApproverComment (string), 6], [Property: ApprovalRequest.MisKey (string), 7], [Property: ApprovalRequest.RequestContent (string), 8], [Property: ApprovalRequest.RequestTitle (string) Required, 9], [Property: ApprovalRequest.RequestedAt (DateTime) Required, 10], [Property: ApprovalRequest.RespondedAt (DateTime?), 11], [Property: ApprovalRequest.Status (string) Required, 12] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: ApprovalStep.StepId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: ApprovalStep.ActionDate (DateTime?), 14], [Property: ApprovalStep.ActionStatus (string), 15], [Property: ApprovalStep.ApprovalId (Guid) Required FK Index, 16], [Property: ApprovalStep.ApproverEmployeeNumber (string) Required, 17], [Property: ApprovalStep.Comment (string), 18], [Property: ApprovalStep.IsFinalApprover (bool) Required, 19], [Property: ApprovalStep.Sequence (int) Required, 20] }
                3 -> 13
            SELECT a1.ApprovalId, a1.ApplicantDepartment, a1.ApplicantEmployeeNumber, a1.ApplicantName, a1.ApplicantPosition, a1.ApprovalType, a1.ApproverComment, a1.MisKey, a1.RequestContent, a1.RequestTitle, a1.RequestedAt, a1.RespondedAt, a1.Status, a0.StepId, a0.ActionDate, a0.ActionStatus, a0.ApprovalId, a0.ApproverEmployeeNumber, a0.Comment, a0.IsFinalApprover, a0.Sequence
            FROM 
            (
                SELECT TOP(2) a.ApprovalId, a.ApplicantDepartment, a.ApplicantEmployeeNumber, a.ApplicantName, a.ApplicantPosition, a.ApprovalType, a.ApproverComment, a.MisKey, a.RequestContent, a.RequestTitle, a.RequestedAt, a.RespondedAt, a.Status
                FROM ApprovalRequests AS a
                WHERE a.ApprovalId == @__id_0
            ) AS a1
            LEFT JOIN ApprovalSteps AS a0 ON a1.ApprovalId == a0.ApprovalId
            ORDER BY a1.ApprovalId ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: ApprovalRequest.ApprovalId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApprovalRequest.ApplicantDepartment (string), 1], [Property: ApprovalRequest.ApplicantEmployeeNumber (string) Required, 2], [Property: ApprovalRequest.ApplicantName (string) Required, 3], [Property: ApprovalRequest.ApplicantPosition (string), 4], [Property: ApprovalRequest.ApprovalType (string), 5], [Property: ApprovalRequest.ApproverComment (string), 6], [Property: ApprovalRequest.MisKey (string), 7], [Property: ApprovalRequest.RequestContent (string), 8], [Property: ApprovalRequest.RequestTitle (string) Required, 9], [Property: ApprovalRequest.RequestedAt (DateTime) Required, 10], [Property: ApprovalRequest.RespondedAt (DateTime?), 11], [Property: ApprovalRequest.Status (string) Required, 12] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: ApprovalStep.StepId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: ApprovalStep.ActionDate (DateTime?), 14], [Property: ApprovalStep.ActionStatus (string), 15], [Property: ApprovalStep.ApprovalId (Guid) Required FK Index, 16], [Property: ApprovalStep.ApproverEmployeeNumber (string) Required, 17], [Property: ApprovalStep.Comment (string), 18], [Property: ApprovalStep.IsFinalApprover (bool) Required, 19], [Property: ApprovalStep.Sequence (int) Required, 20] }
                3 -> 13
            SELECT a1.ApprovalId, a1.ApplicantDepartment, a1.ApplicantEmployeeNumber, a1.ApplicantName, a1.ApplicantPosition, a1.ApprovalType, a1.ApproverComment, a1.MisKey, a1.RequestContent, a1.RequestTitle, a1.RequestedAt, a1.RespondedAt, a1.Status, a0.StepId, a0.ActionDate, a0.ActionStatus, a0.ApprovalId, a0.ApproverEmployeeNumber, a0.Comment, a0.IsFinalApprover, a0.Sequence
            FROM 
            (
                SELECT TOP(2) a.ApprovalId, a.ApplicantDepartment, a.ApplicantEmployeeNumber, a.ApplicantName, a.ApplicantPosition, a.ApprovalType, a.ApproverComment, a.MisKey, a.RequestContent, a.RequestTitle, a.RequestedAt, a.RespondedAt, a.Status
                FROM ApprovalRequests AS a
                WHERE a.ApprovalId == @__id_0
            ) AS a1
            LEFT JOIN ApprovalSteps AS a0 ON a1.ApprovalId == a0.ApprovalId
            ORDER BY a1.ApprovalId ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                ApprovalRequest entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    ApprovalRequest instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(ApprovalRequest);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: ApprovalRequest.ApprovalId PK | Resolver: c => c.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (ApprovalRequest)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")]: 
                                {
                                    return 
                                    {
                                        ApprovalRequest instance;
                                        instance = new ApprovalRequest();
                                        instance.<ApprovalId>k__BackingField = dataReader.GetGuid(0);
                                        instance.<ApplicantDepartment>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                        instance.<ApplicantEmployeeNumber>k__BackingField = dataReader.GetString(2);
                                        instance.<ApplicantName>k__BackingField = dataReader.GetString(3);
                                        instance.<ApplicantPosition>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                        instance.<ApprovalType>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                        instance.<ApproverComment>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                        instance.<MisKey>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                        instance.<RequestContent>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                        instance.<RequestTitle>k__BackingField = dataReader.GetString(9);
                                        instance.<RequestedAt>k__BackingField = dataReader.GetDateTime(10);
                                        instance.<RespondedAt>k__BackingField = dataReader.IsDBNull(11) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(11);
                                        instance.<Status>k__BackingField = dataReader.GetString(12);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(ApprovalRequest)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<ApprovalRequest, ApprovalRequest>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (ApprovalRequest)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: ApprovalRequest.Steps (List<ApprovalStep>) Collection ToDependent ApprovalStep Inverse: ApprovalRequest | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest").FindNavigation("Steps")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<ApprovalRequest, List<ApprovalStep>, ApprovalStep> | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest").FindNavigation("Steps").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<ApprovalRequest, ApprovalStep>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(13) ? default(Guid?) : (Guid?)dataReader.GetGuid(13) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    ApprovalStep entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        ApprovalStep instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(ApprovalStep);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: ApprovalStep.StepId PK | Resolver: c => c.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalStep").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(13) ? default(object) : (object)dataReader.GetGuid(13) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (ApprovalStep)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: ApprovalStep | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalStep")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: ApprovalStep | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalStep")]: 
                                    {
                                        return 
                                        {
                                            ApprovalStep instance;
                                            instance = new ApprovalStep();
                                            instance.<StepId>k__BackingField = dataReader.IsDBNull(13) ? default(Guid) : dataReader.GetGuid(13);
                                            instance.<ActionDate>k__BackingField = dataReader.IsDBNull(14) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(14);
                                            instance.<ActionStatus>k__BackingField = dataReader.IsDBNull(15) ? default(string) : dataReader.GetString(15);
                                            instance.<ApprovalId>k__BackingField = dataReader.IsDBNull(16) ? default(Guid) : dataReader.GetGuid(16);
                                            instance.<ApproverEmployeeNumber>k__BackingField = dataReader.IsDBNull(17) ? default(string) : dataReader.GetString(17);
                                            instance.<Comment>k__BackingField = dataReader.IsDBNull(18) ? default(string) : dataReader.GetString(18);
                                            instance.<IsFinalApprover>k__BackingField = dataReader.IsDBNull(19) ? default(bool) : dataReader.GetBoolean(19);
                                            instance.<Sequence>k__BackingField = dataReader.IsDBNull(20) ? default(int) : dataReader.GetInt32(20);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: ApprovalStep | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalStep")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(ApprovalStep)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: [LIFTABLE Constant: Navigation: ApprovalStep.ApprovalRequest (ApprovalRequest) ToPrincipal ApprovalRequest Inverse: Steps | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalStep").FindNavigation("ApprovalRequest")], 
                fixup: (namelessParameter{9}, namelessParameter{10}) => 
                {
                    [LIFTABLE Constant: ClrICollectionAccessor<ApprovalRequest, List<ApprovalStep>, ApprovalStep> | Resolver: namelessParameter{11} => namelessParameter{11}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest").FindNavigation("Steps").GetCollectionAccessor()].Add(
                        entity: namelessParameter{9}, 
                        value: namelessParameter{10}, 
                        forMaterialization: True);
                    return namelessParameter{10}.<ApprovalRequest>k__BackingField = namelessParameter{9};
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (ApprovalRequest)(resultContext.Values[0]) : default(ApprovalRequest);
        }, 
        contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-06-02 08:43:53.304 +09:00 [DBG] Creating DbConnection.
2025-06-02 08:43:53.309 +09:00 [DBG] Created DbConnection. (4ms).
2025-06-02 08:43:53.309 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:43:53.309 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:43:53.310 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 08:43:53.310 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:43:53.312 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-06-02 08:43:53.316 +09:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a1"."ApprovalId", "a1"."ApplicantDepartment", "a1"."ApplicantEmployeeNumber", "a1"."ApplicantName", "a1"."ApplicantPosition", "a1"."ApprovalType", "a1"."ApproverComment", "a1"."MisKey", "a1"."RequestContent", "a1"."RequestTitle", "a1"."RequestedAt", "a1"."RespondedAt", "a1"."Status", "a0"."StepId", "a0"."ActionDate", "a0"."ActionStatus", "a0"."ApprovalId", "a0"."ApproverEmployeeNumber", "a0"."Comment", "a0"."IsFinalApprover", "a0"."Sequence"
FROM (
    SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
    FROM "ApprovalRequests" AS "a"
    WHERE "a"."ApprovalId" = @__id_0
    LIMIT 2
) AS "a1"
LEFT JOIN "ApprovalSteps" AS "a0" ON "a1"."ApprovalId" = "a0"."ApprovalId"
ORDER BY "a1"."ApprovalId"
2025-06-02 08:43:53.319 +09:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a1"."ApprovalId", "a1"."ApplicantDepartment", "a1"."ApplicantEmployeeNumber", "a1"."ApplicantName", "a1"."ApplicantPosition", "a1"."ApprovalType", "a1"."ApproverComment", "a1"."MisKey", "a1"."RequestContent", "a1"."RequestTitle", "a1"."RequestedAt", "a1"."RespondedAt", "a1"."Status", "a0"."StepId", "a0"."ActionDate", "a0"."ActionStatus", "a0"."ApprovalId", "a0"."ApproverEmployeeNumber", "a0"."Comment", "a0"."IsFinalApprover", "a0"."Sequence"
FROM (
    SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
    FROM "ApprovalRequests" AS "a"
    WHERE "a"."ApprovalId" = @__id_0
    LIMIT 2
) AS "a1"
LEFT JOIN "ApprovalSteps" AS "a0" ON "a1"."ApprovalId" = "a0"."ApprovalId"
ORDER BY "a1"."ApprovalId"
2025-06-02 08:43:53.336 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 08:43:53.522 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalStep' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 08:43:53.530 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalStep' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 08:43:53.531 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:43:53.531 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 211ms reading results.
2025-06-02 08:43:53.531 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:43:53.531 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:44:44.994 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-02 08:44:44.998 +09:00 [DBG] No information found on request to perform content negotiation.
2025-06-02 08:44:44.998 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-02 08:44:44.998 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-02 08:44:44.999 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-02 08:44:45.000 +09:00 [INF] Executing OkObjectResult, writing value of type 'ApprovalService.Domain.Entities.ApprovalRequest'.
2025-06-02 08:44:45.068 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API) in 60012.0147ms
2025-06-02 08:44:45.071 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:44:45.071 +09:00 [ERR] An unhandled exception has occurred while executing the request.
System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.Steps.ApprovalRequest.Steps.ApprovalRequest.Steps.ApprovalRequest.Steps.ApprovalRequest.Steps.ApprovalRequest.Steps.ApprovalRequest.Steps.ApprovalRequest.Steps.ApprovalRequest.Steps.ApprovalRequest.Steps.ApprovalRequest.Steps.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-06-02 08:44:45.098 +09:00 [DBG] Connection id "0HND1COISM5GH" completed keep alive response.
2025-06-02 08:44:45.102 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 08:44:45.103 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:44:45.104 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:44:45.105 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - 500 null text/plain; charset=utf-8 60102.8337ms
2025-06-02 08:45:59.956 +09:00 [DBG] Connection id "0HND1COISM5GH" received FIN.
2025-06-02 08:45:59.990 +09:00 [DBG] Connection id "0HND1COISM5GH" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-02 08:45:59.994 +09:00 [DBG] Connection id "0HND1COISM5GH" disconnecting.
2025-06-02 08:45:59.998 +09:00 [DBG] Connection id "0HND1COISM5GH" stopped.
2025-06-02 08:54:10.299 +09:00 [DBG] Connection id "0HND1COISM5GI" accepted.
2025-06-02 08:54:10.301 +09:00 [DBG] Connection id "0HND1COISM5GI" started.
2025-06-02 08:54:10.329 +09:00 [DBG] Connection 0HND1COISM5GI established using the following protocol: "Tls12"
2025-06-02 08:54:10.338 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - null null
2025-06-02 08:54:10.342 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 08:54:10.342 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)' with route pattern 'api/ApprovalRequest/{requestid}' is valid for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 08:54:10.342 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:54:10.375 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 08:54:10.375 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:54:10.377 +09:00 [INF] Route matched with {action = "GetRequestById", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestById(System.Guid) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 08:54:10.377 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 08:54:10.377 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 08:54:10.377 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 08:54:10.378 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 08:54:10.378 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 08:54:10.378 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 08:54:10.379 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 08:54:10.380 +09:00 [DBG] Attempting to bind parameter 'requestid' of type 'System.Guid' ...
2025-06-02 08:54:10.380 +09:00 [DBG] Attempting to bind parameter 'requestid' of type 'System.Guid' using the name 'requestid' in request data ...
2025-06-02 08:54:10.380 +09:00 [DBG] Done attempting to bind parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:54:10.380 +09:00 [DBG] Done attempting to bind parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:54:10.380 +09:00 [DBG] Attempting to validate the bound parameter 'requestid' of type 'System.Guid' ...
2025-06-02 08:54:10.381 +09:00 [DBG] Done attempting to validate the bound parameter 'requestid' of type 'System.Guid'.
2025-06-02 08:54:13.854 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 08:54:13.871 +09:00 [DBG] Creating DbConnection.
2025-06-02 08:54:13.872 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 08:54:13.872 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:54:13.874 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:54:13.874 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 08:54:13.874 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:54:13.874 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 08:54:13.874 +09:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a1"."ApprovalId", "a1"."ApplicantDepartment", "a1"."ApplicantEmployeeNumber", "a1"."ApplicantName", "a1"."ApplicantPosition", "a1"."ApprovalType", "a1"."ApproverComment", "a1"."MisKey", "a1"."RequestContent", "a1"."RequestTitle", "a1"."RequestedAt", "a1"."RespondedAt", "a1"."Status", "a0"."StepId", "a0"."ActionDate", "a0"."ActionStatus", "a0"."ApprovalId", "a0"."ApproverEmployeeNumber", "a0"."Comment", "a0"."IsFinalApprover", "a0"."Sequence"
FROM (
    SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
    FROM "ApprovalRequests" AS "a"
    WHERE "a"."ApprovalId" = @__id_0
    LIMIT 2
) AS "a1"
LEFT JOIN "ApprovalSteps" AS "a0" ON "a1"."ApprovalId" = "a0"."ApprovalId"
ORDER BY "a1"."ApprovalId"
2025-06-02 08:54:13.877 +09:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a1"."ApprovalId", "a1"."ApplicantDepartment", "a1"."ApplicantEmployeeNumber", "a1"."ApplicantName", "a1"."ApplicantPosition", "a1"."ApprovalType", "a1"."ApproverComment", "a1"."MisKey", "a1"."RequestContent", "a1"."RequestTitle", "a1"."RequestedAt", "a1"."RespondedAt", "a1"."Status", "a0"."StepId", "a0"."ActionDate", "a0"."ActionStatus", "a0"."ApprovalId", "a0"."ApproverEmployeeNumber", "a0"."Comment", "a0"."IsFinalApprover", "a0"."Sequence"
FROM (
    SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
    FROM "ApprovalRequests" AS "a"
    WHERE "a"."ApprovalId" = @__id_0
    LIMIT 2
) AS "a1"
LEFT JOIN "ApprovalSteps" AS "a0" ON "a1"."ApprovalId" = "a0"."ApprovalId"
ORDER BY "a1"."ApprovalId"
2025-06-02 08:54:13.879 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 08:54:13.880 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalStep' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 08:54:13.880 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalStep' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 08:54:13.880 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:54:13.880 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 2ms reading results.
2025-06-02 08:54:13.880 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 08:54:13.880 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:54:16.807 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-02 08:54:16.807 +09:00 [DBG] No information found on request to perform content negotiation.
2025-06-02 08:54:16.807 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-02 08:54:16.807 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-02 08:54:16.807 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-02 08:54:16.807 +09:00 [INF] Executing OkObjectResult, writing value of type 'ApprovalService.Domain.Entities.ApprovalRequest'.
2025-06-02 08:55:45.495 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API) in 95117.6767ms
2025-06-02 08:55:45.497 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 08:55:45.498 +09:00 [ERR] An unhandled exception has occurred while executing the request.
System.Text.Json.JsonException: A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.Steps.ApprovalRequest.Steps.ApprovalRequest.Steps.ApprovalRequest.Steps.ApprovalRequest.Steps.ApprovalRequest.Steps.ApprovalRequest.Steps.ApprovalRequest.Steps.ApprovalRequest.Steps.ApprovalRequest.Steps.ApprovalRequest.Steps.
   at System.Text.Json.ThrowHelper.ThrowJsonException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Converters.ListOfTConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-06-02 08:55:45.516 +09:00 [DBG] Connection id "0HND1COISM5GI" completed keep alive response.
2025-06-02 08:55:45.517 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 08:55:45.517 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 08:55:45.517 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 08:55:45.521 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - 500 null text/plain; charset=utf-8 95183.3954ms
2025-06-02 08:56:10.366 +09:00 [DBG] Connection id "0HND1COISM5GI" received FIN.
2025-06-02 08:56:10.402 +09:00 [DBG] Connection id "0HND1COISM5GI" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-02 08:56:10.403 +09:00 [DBG] Connection id "0HND1COISM5GI" disconnecting.
2025-06-02 08:56:10.433 +09:00 [DBG] Connection id "0HND1COISM5GI" stopped.
2025-06-02 09:03:14.367 +09:00 [DBG] Connection id "0HND1COISM5GJ" accepted.
2025-06-02 09:03:14.368 +09:00 [DBG] Connection id "0HND1COISM5GJ" started.
2025-06-02 09:03:14.395 +09:00 [DBG] Connection 0HND1COISM5GJ established using the following protocol: "Tls12"
2025-06-02 09:03:14.438 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - null null
2025-06-02 09:03:14.442 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 09:03:14.443 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)' with route pattern 'api/ApprovalRequest/{requestid}' is valid for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 09:03:14.443 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 09:03:14.455 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 09:03:14.456 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 09:03:14.461 +09:00 [INF] Route matched with {action = "GetRequestById", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestById(System.Guid) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 09:03:14.463 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 09:03:14.463 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 09:03:14.464 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 09:03:14.464 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 09:03:14.464 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 09:03:14.464 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 09:03:14.470 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 09:03:14.471 +09:00 [DBG] Attempting to bind parameter 'requestid' of type 'System.Guid' ...
2025-06-02 09:03:14.472 +09:00 [DBG] Attempting to bind parameter 'requestid' of type 'System.Guid' using the name 'requestid' in request data ...
2025-06-02 09:03:14.472 +09:00 [DBG] Done attempting to bind parameter 'requestid' of type 'System.Guid'.
2025-06-02 09:03:14.472 +09:00 [DBG] Done attempting to bind parameter 'requestid' of type 'System.Guid'.
2025-06-02 09:03:14.472 +09:00 [DBG] Attempting to validate the bound parameter 'requestid' of type 'System.Guid' ...
2025-06-02 09:03:14.472 +09:00 [DBG] Done attempting to validate the bound parameter 'requestid' of type 'System.Guid'.
2025-06-02 09:03:31.222 +09:00 [DBG] Connection id "0HND1COISM5GK" accepted.
2025-06-02 09:03:31.223 +09:00 [DBG] Connection id "0HND1COISM5GK" started.
2025-06-02 09:03:31.233 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 09:03:31.238 +09:00 [DBG] Creating DbConnection.
2025-06-02 09:03:31.239 +09:00 [DBG] Created DbConnection. (1ms).
2025-06-02 09:03:31.239 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 09:03:31.241 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 09:03:31.242 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 09:03:31.242 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 09:03:31.242 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 09:03:31.242 +09:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a1"."ApprovalId", "a1"."ApplicantDepartment", "a1"."ApplicantEmployeeNumber", "a1"."ApplicantName", "a1"."ApplicantPosition", "a1"."ApprovalType", "a1"."ApproverComment", "a1"."MisKey", "a1"."RequestContent", "a1"."RequestTitle", "a1"."RequestedAt", "a1"."RespondedAt", "a1"."Status", "a0"."StepId", "a0"."ActionDate", "a0"."ActionStatus", "a0"."ApprovalId", "a0"."ApproverEmployeeNumber", "a0"."Comment", "a0"."IsFinalApprover", "a0"."Sequence"
FROM (
    SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
    FROM "ApprovalRequests" AS "a"
    WHERE "a"."ApprovalId" = @__id_0
    LIMIT 2
) AS "a1"
LEFT JOIN "ApprovalSteps" AS "a0" ON "a1"."ApprovalId" = "a0"."ApprovalId"
ORDER BY "a1"."ApprovalId"
2025-06-02 09:03:31.246 +09:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a1"."ApprovalId", "a1"."ApplicantDepartment", "a1"."ApplicantEmployeeNumber", "a1"."ApplicantName", "a1"."ApplicantPosition", "a1"."ApprovalType", "a1"."ApproverComment", "a1"."MisKey", "a1"."RequestContent", "a1"."RequestTitle", "a1"."RequestedAt", "a1"."RespondedAt", "a1"."Status", "a0"."StepId", "a0"."ActionDate", "a0"."ActionStatus", "a0"."ApprovalId", "a0"."ApproverEmployeeNumber", "a0"."Comment", "a0"."IsFinalApprover", "a0"."Sequence"
FROM (
    SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
    FROM "ApprovalRequests" AS "a"
    WHERE "a"."ApprovalId" = @__id_0
    LIMIT 2
) AS "a1"
LEFT JOIN "ApprovalSteps" AS "a0" ON "a1"."ApprovalId" = "a0"."ApprovalId"
ORDER BY "a1"."ApprovalId"
2025-06-02 09:03:31.249 +09:00 [DBG] Connection 0HND1COISM5GK established using the following protocol: "Tls12"
2025-06-02 09:03:31.251 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 09:03:31.253 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalStep' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 09:03:31.254 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalStep' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 09:03:31.254 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 09:03:31.254 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 8ms reading results.
2025-06-02 09:03:31.255 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 09:03:31.255 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 09:03:31.874 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - null null
2025-06-02 09:03:31.876 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 09:03:31.876 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)' with route pattern 'api/ApprovalRequest/{requestid}' is valid for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 09:03:31.876 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 09:03:31.877 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 09:03:31.877 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 09:03:31.877 +09:00 [INF] Route matched with {action = "GetRequestById", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestById(System.Guid) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 09:03:31.877 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 09:03:31.878 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 09:03:31.878 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 09:03:31.878 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 09:03:31.878 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 09:03:31.878 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 09:03:31.878 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 09:03:31.879 +09:00 [DBG] Attempting to bind parameter 'requestid' of type 'System.Guid' ...
2025-06-02 09:03:31.879 +09:00 [DBG] Attempting to bind parameter 'requestid' of type 'System.Guid' using the name 'requestid' in request data ...
2025-06-02 09:03:31.879 +09:00 [DBG] Done attempting to bind parameter 'requestid' of type 'System.Guid'.
2025-06-02 09:03:31.879 +09:00 [DBG] Done attempting to bind parameter 'requestid' of type 'System.Guid'.
2025-06-02 09:03:31.879 +09:00 [DBG] Attempting to validate the bound parameter 'requestid' of type 'System.Guid' ...
2025-06-02 09:03:31.879 +09:00 [DBG] Done attempting to validate the bound parameter 'requestid' of type 'System.Guid'.
2025-06-02 09:03:31.880 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-02 09:04:01.452 +09:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-06-02 09:04:01.751 +09:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-06-02 09:04:02.177 +09:00 [DBG] The property 'Approver.ApprovalId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-06-02 09:04:02.257 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 09:04:02.265 +09:00 [DBG] Creating DbConnection.
2025-06-02 09:04:02.273 +09:00 [DBG] Created DbConnection. (6ms).
2025-06-02 09:04:02.276 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 09:04:02.283 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 09:04:02.285 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 09:04:02.288 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 09:04:02.291 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-02 09:04:02.292 +09:00 [DBG] Creating DbConnection.
2025-06-02 09:04:02.292 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 09:04:02.295 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2025-06-02 09:04:02.296 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (5ms).
2025-06-02 09:04:02.297 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 09:04:02.298 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 09:04:02.301 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 09:04:02.321 +09:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 09:04:02.322 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 09:04:02.325 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (2ms).
2025-06-02 09:04:02.330 +09:00 [DBG] Creating DbConnection.
2025-06-02 09:04:02.330 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 09:04:02.330 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 09:04:02.330 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 09:04:02.330 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 09:04:02.330 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 09:04:02.331 +09:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-06-02 09:04:02.331 +09:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-06-02 09:04:02.331 +09:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-06-02 09:04:02.331 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 09:04:02.331 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 09:04:02.331 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 09:04:02.331 +09:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2025-06-02 09:04:02.331 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 09:04:02.331 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 09:04:02.361 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .Any()'
2025-06-02 09:04:02.496 +09:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: SingleQueryingEnumerable.Create<bool>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a)) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM ApprovalRequests AS a), 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            bool? value1;
            value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
            return (bool)value1;
        }, 
        contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-06-02 09:04:02.512 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 09:04:02.513 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 09:04:02.513 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 09:04:02.513 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 09:04:02.513 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 09:04:02.514 +09:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-06-02 09:04:02.515 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "ApprovalRequests" AS "a")
2025-06-02 09:04:02.519 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 09:04:02.520 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 3ms reading results.
2025-06-02 09:04:02.521 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 09:04:02.521 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 09:04:02.523 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 09:04:02.525 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 09:04:02.526 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 09:04:02.538 +09:00 [DBG] Hosting starting
2025-06-02 09:04:02.634 +09:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-06-02 09:04:02.636 +09:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-06-02 09:04:02.990 +09:00 [INF] Now listening on: https://localhost:5001
2025-06-02 09:04:02.990 +09:00 [INF] Now listening on: http://localhost:5229
2025-06-02 09:04:02.990 +09:00 [DBG] Loaded hosting startup assembly ApprovalService.API
2025-06-02 09:04:02.991 +09:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-02 09:04:02.992 +09:00 [INF] Hosting environment: Development
2025-06-02 09:04:02.992 +09:00 [INF] Content root path: /Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API
2025-06-02 09:04:02.992 +09:00 [DBG] Hosting started
2025-06-02 09:04:04.540 +09:00 [DBG] Connection id "0HND1D3UBQ89B" accepted.
2025-06-02 09:04:04.540 +09:00 [DBG] Connection id "0HND1D3UBQ89B" started.
2025-06-02 09:04:04.574 +09:00 [DBG] Connection 0HND1D3UBQ89B established using the following protocol: "Tls12"
2025-06-02 09:04:04.592 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approvalrequest/my-requests/EMP0005 - null null
2025-06-02 09:04:04.606 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/my-requests/EMP0005'
2025-06-02 09:04:04.608 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)' with route pattern 'api/ApprovalRequest/my-requests/{userId}' is valid for the request path '/api/approvalrequest/my-requests/EMP0005'
2025-06-02 09:04:04.609 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-06-02 09:04:04.625 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 09:04:04.625 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-06-02 09:04:04.637 +09:00 [INF] Route matched with {action = "GetMyRequests", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyRequests(System.String) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 09:04:04.637 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 09:04:04.638 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 09:04:04.638 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 09:04:04.638 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 09:04:04.638 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 09:04:04.639 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 09:04:04.640 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 09:04:04.645 +09:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' ...
2025-06-02 09:04:04.646 +09:00 [DBG] Attempting to bind parameter 'userId' of type 'System.String' using the name 'userId' in request data ...
2025-06-02 09:04:04.647 +09:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-06-02 09:04:04.647 +09:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.String'.
2025-06-02 09:04:04.647 +09:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.String' ...
2025-06-02 09:04:04.649 +09:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.String'.
2025-06-02 09:04:04.676 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 09:04:04.682 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .Where(request => EF.Property<string>(request, "ApplicantEmployeeNumber") == __userId_0)'
2025-06-02 09:04:04.720 +09:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<ApprovalRequest>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApprovalRequest.ApprovalId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApprovalRequest.ApplicantDepartment (string), 1], [Property: ApprovalRequest.ApplicantEmployeeNumber (string) Required, 2], [Property: ApprovalRequest.ApplicantName (string) Required, 3], [Property: ApprovalRequest.ApplicantPosition (string), 4], [Property: ApprovalRequest.ApprovalType (string), 5], [Property: ApprovalRequest.ApproverComment (string), 6], [Property: ApprovalRequest.MisKey (string), 7], [Property: ApprovalRequest.RequestContent (string), 8], [Property: ApprovalRequest.RequestTitle (string) Required, 9], [Property: ApprovalRequest.RequestedAt (DateTime) Required, 10], [Property: ApprovalRequest.RespondedAt (DateTime?), 11], [Property: ApprovalRequest.Status (string) Required, 12] }
        SELECT a.ApprovalId, a.ApplicantDepartment, a.ApplicantEmployeeNumber, a.ApplicantName, a.ApplicantPosition, a.ApprovalType, a.ApproverComment, a.MisKey, a.RequestContent, a.RequestTitle, a.RequestedAt, a.RespondedAt, a.Status
        FROM ApprovalRequests AS a
        WHERE a.ApplicantEmployeeNumber == @__userId_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ApprovalRequest.ApprovalId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApprovalRequest.ApplicantDepartment (string), 1], [Property: ApprovalRequest.ApplicantEmployeeNumber (string) Required, 2], [Property: ApprovalRequest.ApplicantName (string) Required, 3], [Property: ApprovalRequest.ApplicantPosition (string), 4], [Property: ApprovalRequest.ApprovalType (string), 5], [Property: ApprovalRequest.ApproverComment (string), 6], [Property: ApprovalRequest.MisKey (string), 7], [Property: ApprovalRequest.RequestContent (string), 8], [Property: ApprovalRequest.RequestTitle (string) Required, 9], [Property: ApprovalRequest.RequestedAt (DateTime) Required, 10], [Property: ApprovalRequest.RespondedAt (DateTime?), 11], [Property: ApprovalRequest.Status (string) Required, 12] }
        SELECT a.ApprovalId, a.ApplicantDepartment, a.ApplicantEmployeeNumber, a.ApplicantName, a.ApplicantPosition, a.ApprovalType, a.ApproverComment, a.MisKey, a.RequestContent, a.RequestTitle, a.RequestedAt, a.RespondedAt, a.Status
        FROM ApprovalRequests AS a
        WHERE a.ApplicantEmployeeNumber == @__userId_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        ApprovalRequest entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            ApprovalRequest instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(ApprovalRequest);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: ApprovalRequest.ApprovalId PK | Resolver: c => c.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (ApprovalRequest)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")]: 
                        {
                            return 
                            {
                                ApprovalRequest instance;
                                instance = new ApprovalRequest();
                                instance.<ApprovalId>k__BackingField = dataReader.GetGuid(0);
                                instance.<ApplicantDepartment>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                instance.<ApplicantEmployeeNumber>k__BackingField = dataReader.GetString(2);
                                instance.<ApplicantName>k__BackingField = dataReader.GetString(3);
                                instance.<ApplicantPosition>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                instance.<ApprovalType>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                instance.<ApproverComment>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                instance.<MisKey>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                instance.<RequestContent>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                instance.<RequestTitle>k__BackingField = dataReader.GetString(9);
                                instance.<RequestedAt>k__BackingField = dataReader.GetDateTime(10);
                                instance.<RespondedAt>k__BackingField = dataReader.IsDBNull(11) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(11);
                                instance.<Status>k__BackingField = dataReader.GetString(12);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(ApprovalRequest)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-06-02 09:04:04.731 +09:00 [DBG] Creating DbConnection.
2025-06-02 09:04:04.731 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 09:04:04.731 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 09:04:04.731 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 09:04:04.731 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 09:04:04.732 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 09:04:04.733 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-06-02 09:04:04.735 +09:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApplicantEmployeeNumber" = @__userId_0
2025-06-02 09:04:04.737 +09:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
FROM "ApprovalRequests" AS "a"
WHERE "a"."ApplicantEmployeeNumber" = @__userId_0
2025-06-02 09:04:04.758 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 09:04:04.774 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 09:04:04.774 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 36ms reading results.
2025-06-02 09:04:04.774 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 09:04:04.774 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 09:04:04.777 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-02 09:04:04.778 +09:00 [DBG] No information found on request to perform content negotiation.
2025-06-02 09:04:04.778 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-02 09:04:04.778 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-02 09:04:04.779 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-02 09:04:04.779 +09:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ApprovalService.Domain.Entities.ApprovalRequest, ApprovalService.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-02 09:04:04.830 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API) in 189.4427ms
2025-06-02 09:04:04.832 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)'
2025-06-02 09:04:04.833 +09:00 [DBG] Connection id "0HND1D3UBQ89B" completed keep alive response.
2025-06-02 09:04:04.834 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 09:04:04.835 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 09:04:04.835 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 09:04:04.839 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approvalrequest/my-requests/EMP0005 - 200 null application/json; charset=utf-8 246.379ms
2025-06-02 09:04:06.552 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - null null
2025-06-02 09:04:06.554 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 09:04:06.554 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)' with route pattern 'api/ApprovalRequest/{requestid}' is valid for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 09:04:06.554 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 09:04:06.555 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 09:04:06.555 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 09:04:06.558 +09:00 [INF] Route matched with {action = "GetRequestById", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestById(System.Guid) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 09:04:06.558 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 09:04:06.558 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 09:04:06.559 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 09:04:06.559 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 09:04:06.559 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 09:04:06.559 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 09:04:06.560 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 09:04:06.560 +09:00 [DBG] Attempting to bind parameter 'requestid' of type 'System.Guid' ...
2025-06-02 09:04:06.561 +09:00 [DBG] Attempting to bind parameter 'requestid' of type 'System.Guid' using the name 'requestid' in request data ...
2025-06-02 09:04:06.561 +09:00 [DBG] Done attempting to bind parameter 'requestid' of type 'System.Guid'.
2025-06-02 09:04:06.561 +09:00 [DBG] Done attempting to bind parameter 'requestid' of type 'System.Guid'.
2025-06-02 09:04:06.561 +09:00 [DBG] Attempting to validate the bound parameter 'requestid' of type 'System.Guid' ...
2025-06-02 09:04:06.561 +09:00 [DBG] Done attempting to validate the bound parameter 'requestid' of type 'System.Guid'.
2025-06-02 09:04:10.467 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 09:04:10.471 +09:00 [DBG] Compiling query expression: 
'DbSet<ApprovalRequest>()
    .Include(p => p.Steps)
    .SingleOrDefault(request => request.ApprovalId == __id_0)'
2025-06-02 09:04:10.475 +09:00 [DBG] Including navigation: 'ApprovalRequest.Steps'.
2025-06-02 09:04:10.513 +09:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ApprovalRequest>(
    asyncEnumerable: SingleQueryingEnumerable.Create<ApprovalRequest>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: ApprovalRequest.ApprovalId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApprovalRequest.ApplicantDepartment (string), 1], [Property: ApprovalRequest.ApplicantEmployeeNumber (string) Required, 2], [Property: ApprovalRequest.ApplicantName (string) Required, 3], [Property: ApprovalRequest.ApplicantPosition (string), 4], [Property: ApprovalRequest.ApprovalType (string), 5], [Property: ApprovalRequest.ApproverComment (string), 6], [Property: ApprovalRequest.MisKey (string), 7], [Property: ApprovalRequest.RequestContent (string), 8], [Property: ApprovalRequest.RequestTitle (string) Required, 9], [Property: ApprovalRequest.RequestedAt (DateTime) Required, 10], [Property: ApprovalRequest.RespondedAt (DateTime?), 11], [Property: ApprovalRequest.Status (string) Required, 12] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: ApprovalStep.StepId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: ApprovalStep.ActionDate (DateTime?), 14], [Property: ApprovalStep.ActionStatus (string), 15], [Property: ApprovalStep.ApprovalId (Guid) Required FK Index, 16], [Property: ApprovalStep.ApproverEmployeeNumber (string) Required, 17], [Property: ApprovalStep.Comment (string), 18], [Property: ApprovalStep.IsFinalApprover (bool) Required, 19], [Property: ApprovalStep.Sequence (int) Required, 20] }
                3 -> 13
            SELECT a1.ApprovalId, a1.ApplicantDepartment, a1.ApplicantEmployeeNumber, a1.ApplicantName, a1.ApplicantPosition, a1.ApprovalType, a1.ApproverComment, a1.MisKey, a1.RequestContent, a1.RequestTitle, a1.RequestedAt, a1.RespondedAt, a1.Status, a0.StepId, a0.ActionDate, a0.ActionStatus, a0.ApprovalId, a0.ApproverEmployeeNumber, a0.Comment, a0.IsFinalApprover, a0.Sequence
            FROM 
            (
                SELECT TOP(2) a.ApprovalId, a.ApplicantDepartment, a.ApplicantEmployeeNumber, a.ApplicantName, a.ApplicantPosition, a.ApprovalType, a.ApproverComment, a.MisKey, a.RequestContent, a.RequestTitle, a.RequestedAt, a.RespondedAt, a.Status
                FROM ApprovalRequests AS a
                WHERE a.ApprovalId == @__id_0
            ) AS a1
            LEFT JOIN ApprovalSteps AS a0 ON a1.ApprovalId == a0.ApprovalId
            ORDER BY a1.ApprovalId ASC) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: ApprovalRequest.ApprovalId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ApprovalRequest.ApplicantDepartment (string), 1], [Property: ApprovalRequest.ApplicantEmployeeNumber (string) Required, 2], [Property: ApprovalRequest.ApplicantName (string) Required, 3], [Property: ApprovalRequest.ApplicantPosition (string), 4], [Property: ApprovalRequest.ApprovalType (string), 5], [Property: ApprovalRequest.ApproverComment (string), 6], [Property: ApprovalRequest.MisKey (string), 7], [Property: ApprovalRequest.RequestContent (string), 8], [Property: ApprovalRequest.RequestTitle (string) Required, 9], [Property: ApprovalRequest.RequestedAt (DateTime) Required, 10], [Property: ApprovalRequest.RespondedAt (DateTime?), 11], [Property: ApprovalRequest.Status (string) Required, 12] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: ApprovalStep.StepId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: ApprovalStep.ActionDate (DateTime?), 14], [Property: ApprovalStep.ActionStatus (string), 15], [Property: ApprovalStep.ApprovalId (Guid) Required FK Index, 16], [Property: ApprovalStep.ApproverEmployeeNumber (string) Required, 17], [Property: ApprovalStep.Comment (string), 18], [Property: ApprovalStep.IsFinalApprover (bool) Required, 19], [Property: ApprovalStep.Sequence (int) Required, 20] }
                3 -> 13
            SELECT a1.ApprovalId, a1.ApplicantDepartment, a1.ApplicantEmployeeNumber, a1.ApplicantName, a1.ApplicantPosition, a1.ApprovalType, a1.ApproverComment, a1.MisKey, a1.RequestContent, a1.RequestTitle, a1.RequestedAt, a1.RespondedAt, a1.Status, a0.StepId, a0.ActionDate, a0.ActionStatus, a0.ApprovalId, a0.ApproverEmployeeNumber, a0.Comment, a0.IsFinalApprover, a0.Sequence
            FROM 
            (
                SELECT TOP(2) a.ApprovalId, a.ApplicantDepartment, a.ApplicantEmployeeNumber, a.ApplicantName, a.ApplicantPosition, a.ApprovalType, a.ApproverComment, a.MisKey, a.RequestContent, a.RequestTitle, a.RequestedAt, a.RespondedAt, a.Status
                FROM ApprovalRequests AS a
                WHERE a.ApprovalId == @__id_0
            ) AS a1
            LEFT JOIN ApprovalSteps AS a0 ON a1.ApprovalId == a0.ApprovalId
            ORDER BY a1.ApprovalId ASC, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            resultContext.Values == null ? 
            {
                ApprovalRequest entity;
                entity = 
                {
                    MaterializationContext materializationContext1;
                    IEntityType entityType1;
                    ApprovalRequest instance1;
                    InternalEntityEntry entry1;
                    bool hasNullKey1;
                    materializationContext1 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance1 = default(ApprovalRequest);
                    entry1 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: ApprovalRequest.ApprovalId PK | Resolver: c => c.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest").FindPrimaryKey()], 
                        keyValues: new object[]{ (object)dataReader.GetGuid(0) }, 
                        throwOnNullKey: True, 
                        hasNullKey: hasNullKey1);
                    !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                    {
                        entityType1 = entry1.EntityType;
                        return instance1 = (ApprovalRequest)entry1.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot1;
                        shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType1 = [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")];
                        instance1 = switch (entityType1)
                        {
                            case [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")]: 
                                {
                                    return 
                                    {
                                        ApprovalRequest instance;
                                        instance = new ApprovalRequest();
                                        instance.<ApprovalId>k__BackingField = dataReader.GetGuid(0);
                                        instance.<ApplicantDepartment>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                        instance.<ApplicantEmployeeNumber>k__BackingField = dataReader.GetString(2);
                                        instance.<ApplicantName>k__BackingField = dataReader.GetString(3);
                                        instance.<ApplicantPosition>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                        instance.<ApprovalType>k__BackingField = dataReader.IsDBNull(5) ? default(string) : dataReader.GetString(5);
                                        instance.<ApproverComment>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                        instance.<MisKey>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                        instance.<RequestContent>k__BackingField = dataReader.IsDBNull(8) ? default(string) : dataReader.GetString(8);
                                        instance.<RequestTitle>k__BackingField = dataReader.GetString(9);
                                        instance.<RequestedAt>k__BackingField = dataReader.GetDateTime(10);
                                        instance.<RespondedAt>k__BackingField = dataReader.IsDBNull(11) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(11);
                                        instance.<Status>k__BackingField = dataReader.GetString(12);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext1.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: ApprovalRequest | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(ApprovalRequest)
                        }
                        ;
                        entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType1, 
                            entity: instance1, 
                            snapshot: shadowSnapshot1);
                        return instance1;
                    } : default(void);
                    return instance1;
                };
                resultContext.Values = new object[]{ entity };
                ShaperProcessingExpressionVisitor.InitializeIncludeCollection<ApprovalRequest, ApprovalRequest>(
                    collectionId: 0, 
                    queryContext: queryContext, 
                    dbDataReader: dataReader, 
                    resultCoordinator: resultCoordinator, 
                    entity: (ApprovalRequest)(resultContext.Values[0]), 
                    parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                    navigation: [LIFTABLE Constant: Navigation: ApprovalRequest.Steps (List<ApprovalStep>) Collection ToDependent ApprovalStep Inverse: ApprovalRequest | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest").FindNavigation("Steps")], 
                    clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<ApprovalRequest, List<ApprovalStep>, ApprovalStep> | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest").FindNavigation("Steps").GetCollectionAccessor()], 
                    trackingQuery: True, 
                    setLoaded: True);
            } : default(void);
            ShaperProcessingExpressionVisitor.PopulateIncludeCollection<ApprovalRequest, ApprovalStep>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)(Guid?)dataReader.GetGuid(0) }], 
                selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(13) ? default(Guid?) : (Guid?)dataReader.GetGuid(13) }], 
                parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (Guid)left == (Guid)right }], 
                innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
                {
                    ApprovalStep entity;
                    entity = 
                    {
                        MaterializationContext materializationContext2;
                        IEntityType entityType2;
                        ApprovalStep instance2;
                        InternalEntityEntry entry2;
                        bool hasNullKey2;
                        materializationContext2 = new MaterializationContext(
                            [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                            queryContext.Context
                        );
                        instance2 = default(ApprovalStep);
                        entry2 = queryContext.TryGetEntry(
                            key: [LIFTABLE Constant: Key: ApprovalStep.StepId PK | Resolver: c => c.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalStep").FindPrimaryKey()], 
                            keyValues: new object[]{ dataReader.IsDBNull(13) ? default(object) : (object)dataReader.GetGuid(13) }, 
                            throwOnNullKey: False, 
                            hasNullKey: hasNullKey2);
                        !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                        {
                            entityType2 = entry2.EntityType;
                            return instance2 = (ApprovalStep)entry2.Entity;
                        } : 
                        {
                            ISnapshot shadowSnapshot2;
                            shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                            entityType2 = [LIFTABLE Constant: EntityType: ApprovalStep | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalStep")];
                            instance2 = switch (entityType2)
                            {
                                case [LIFTABLE Constant: EntityType: ApprovalStep | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalStep")]: 
                                    {
                                        return 
                                        {
                                            ApprovalStep instance;
                                            instance = new ApprovalStep();
                                            instance.<StepId>k__BackingField = dataReader.IsDBNull(13) ? default(Guid) : dataReader.GetGuid(13);
                                            instance.<ActionDate>k__BackingField = dataReader.IsDBNull(14) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(14);
                                            instance.<ActionStatus>k__BackingField = dataReader.IsDBNull(15) ? default(string) : dataReader.GetString(15);
                                            instance.<ApprovalId>k__BackingField = dataReader.IsDBNull(16) ? default(Guid) : dataReader.GetGuid(16);
                                            instance.<ApproverEmployeeNumber>k__BackingField = dataReader.IsDBNull(17) ? default(string) : dataReader.GetString(17);
                                            instance.<Comment>k__BackingField = dataReader.IsDBNull(18) ? default(string) : dataReader.GetString(18);
                                            instance.<IsFinalApprover>k__BackingField = dataReader.IsDBNull(19) ? default(bool) : dataReader.GetBoolean(19);
                                            instance.<Sequence>k__BackingField = dataReader.IsDBNull(20) ? default(int) : dataReader.GetInt32(20);
                                            (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                                context: materializationContext2.Context, 
                                                entity: instance, 
                                                queryTrackingBehavior: TrackAll, 
                                                structuralType: [LIFTABLE Constant: EntityType: ApprovalStep | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalStep")]) : default(void);
                                            return instance;
                                        }}
                                default: 
                                    default(ApprovalStep)
                            }
                            ;
                            entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                                entityType: entityType2, 
                                entity: instance2, 
                                snapshot: shadowSnapshot2);
                            return instance2;
                        } : default(void);
                        return instance2;
                    };
                    return entity;
                }, 
                inverseNavigation: [LIFTABLE Constant: Navigation: ApprovalStep.ApprovalRequest (ApprovalRequest) ToPrincipal ApprovalRequest Inverse: Steps | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalStep").FindNavigation("ApprovalRequest")], 
                fixup: (namelessParameter{9}, namelessParameter{10}) => 
                {
                    [LIFTABLE Constant: ClrICollectionAccessor<ApprovalRequest, List<ApprovalStep>, ApprovalStep> | Resolver: namelessParameter{11} => namelessParameter{11}.Dependencies.Model.FindEntityType("ApprovalService.Domain.Entities.ApprovalRequest").FindNavigation("Steps").GetCollectionAccessor()].Add(
                        entity: namelessParameter{9}, 
                        value: namelessParameter{10}, 
                        forMaterialization: True);
                    return namelessParameter{10}.<ApprovalRequest>k__BackingField = namelessParameter{9};
                }, 
                trackingQuery: True);
            return IsTrue(resultCoordinator.ResultReady)
             ? (ApprovalRequest)(resultContext.Values[0]) : default(ApprovalRequest);
        }, 
        contextType: ApprovalService.Infrastructure.Persistence.ApprovalDbContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-06-02 09:04:10.523 +09:00 [DBG] Creating DbConnection.
2025-06-02 09:04:10.523 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 09:04:10.523 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 09:04:10.523 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 09:04:10.523 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 09:04:10.523 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 09:04:10.524 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 09:04:10.524 +09:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a1"."ApprovalId", "a1"."ApplicantDepartment", "a1"."ApplicantEmployeeNumber", "a1"."ApplicantName", "a1"."ApplicantPosition", "a1"."ApprovalType", "a1"."ApproverComment", "a1"."MisKey", "a1"."RequestContent", "a1"."RequestTitle", "a1"."RequestedAt", "a1"."RespondedAt", "a1"."Status", "a0"."StepId", "a0"."ActionDate", "a0"."ActionStatus", "a0"."ApprovalId", "a0"."ApproverEmployeeNumber", "a0"."Comment", "a0"."IsFinalApprover", "a0"."Sequence"
FROM (
    SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
    FROM "ApprovalRequests" AS "a"
    WHERE "a"."ApprovalId" = @__id_0
    LIMIT 2
) AS "a1"
LEFT JOIN "ApprovalSteps" AS "a0" ON "a1"."ApprovalId" = "a0"."ApprovalId"
ORDER BY "a1"."ApprovalId"
2025-06-02 09:04:10.525 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a1"."ApprovalId", "a1"."ApplicantDepartment", "a1"."ApplicantEmployeeNumber", "a1"."ApplicantName", "a1"."ApplicantPosition", "a1"."ApprovalType", "a1"."ApproverComment", "a1"."MisKey", "a1"."RequestContent", "a1"."RequestTitle", "a1"."RequestedAt", "a1"."RespondedAt", "a1"."Status", "a0"."StepId", "a0"."ActionDate", "a0"."ActionStatus", "a0"."ApprovalId", "a0"."ApproverEmployeeNumber", "a0"."Comment", "a0"."IsFinalApprover", "a0"."Sequence"
FROM (
    SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
    FROM "ApprovalRequests" AS "a"
    WHERE "a"."ApprovalId" = @__id_0
    LIMIT 2
) AS "a1"
LEFT JOIN "ApprovalSteps" AS "a0" ON "a1"."ApprovalId" = "a0"."ApprovalId"
ORDER BY "a1"."ApprovalId"
2025-06-02 09:04:10.525 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 09:04:10.537 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalStep' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 09:04:10.543 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalStep' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 09:04:10.543 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 09:04:10.543 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 18ms reading results.
2025-06-02 09:04:10.543 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 09:04:10.543 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 09:04:11.485 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-02 09:04:11.486 +09:00 [DBG] No information found on request to perform content negotiation.
2025-06-02 09:04:11.486 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-02 09:04:11.486 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-02 09:04:11.486 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-02 09:04:11.488 +09:00 [INF] Executing OkObjectResult, writing value of type 'ApprovalService.Domain.Entities.ApprovalRequest'.
2025-06-02 09:04:11.493 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API) in 4934.3913ms
2025-06-02 09:04:11.493 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 09:04:11.493 +09:00 [DBG] Connection id "0HND1D3UBQ89B" completed keep alive response.
2025-06-02 09:04:11.493 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 09:04:11.494 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 09:04:11.494 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 09:04:11.494 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - 200 null application/json; charset=utf-8 4942.4565ms
2025-06-02 09:05:19.589 +09:00 [DBG] Connection id "0HND1D3UBQ89B" received FIN.
2025-06-02 09:05:19.644 +09:00 [DBG] Connection id "0HND1D3UBQ89B" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-02 09:05:19.648 +09:00 [DBG] Connection id "0HND1D3UBQ89B" disconnecting.
2025-06-02 09:05:19.653 +09:00 [DBG] Connection id "0HND1D3UBQ89B" stopped.
2025-06-02 09:09:35.827 +09:00 [DBG] Connection id "0HND1D3UBQ89C" accepted.
2025-06-02 09:09:35.828 +09:00 [DBG] Connection id "0HND1D3UBQ89C" started.
2025-06-02 09:09:35.857 +09:00 [DBG] Connection 0HND1D3UBQ89C established using the following protocol: "Tls12"
2025-06-02 09:09:35.867 +09:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - null null
2025-06-02 09:09:35.867 +09:00 [DBG] 1 candidate(s) found for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 09:09:35.867 +09:00 [DBG] Endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)' with route pattern 'api/ApprovalRequest/{requestid}' is valid for the request path '/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4'
2025-06-02 09:09:35.868 +09:00 [DBG] Request matched endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 09:09:35.876 +09:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-06-02 09:09:35.876 +09:00 [INF] Executing endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 09:09:35.881 +09:00 [INF] Route matched with {action = "GetRequestById", controller = "ApprovalRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestById(System.Guid) on controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API).
2025-06-02 09:09:35.882 +09:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-06-02 09:09:35.883 +09:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-06-02 09:09:35.883 +09:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-06-02 09:09:35.883 +09:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-06-02 09:09:35.883 +09:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-06-02 09:09:35.884 +09:00 [DBG] Executing controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 09:09:35.890 +09:00 [DBG] Executed controller factory for controller ApprovalService.API.Controllers.ApprovalRequestController (ApprovalService.API)
2025-06-02 09:09:35.890 +09:00 [DBG] Attempting to bind parameter 'requestid' of type 'System.Guid' ...
2025-06-02 09:09:35.890 +09:00 [DBG] Attempting to bind parameter 'requestid' of type 'System.Guid' using the name 'requestid' in request data ...
2025-06-02 09:09:35.890 +09:00 [DBG] Done attempting to bind parameter 'requestid' of type 'System.Guid'.
2025-06-02 09:09:35.890 +09:00 [DBG] Done attempting to bind parameter 'requestid' of type 'System.Guid'.
2025-06-02 09:09:35.890 +09:00 [DBG] Attempting to validate the bound parameter 'requestid' of type 'System.Guid' ...
2025-06-02 09:09:35.891 +09:00 [DBG] Done attempting to validate the bound parameter 'requestid' of type 'System.Guid'.
2025-06-02 09:09:38.481 +09:00 [DBG] Entity Framework Core 9.0.5 initialized 'ApprovalDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:9.0.5' with options: None
2025-06-02 09:09:38.484 +09:00 [DBG] Creating DbConnection.
2025-06-02 09:09:38.484 +09:00 [DBG] Created DbConnection. (0ms).
2025-06-02 09:09:38.484 +09:00 [DBG] Opening connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 09:09:38.484 +09:00 [DBG] Opened connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 09:09:38.484 +09:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-06-02 09:09:38.484 +09:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-06-02 09:09:38.485 +09:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-06-02 09:09:38.485 +09:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a1"."ApprovalId", "a1"."ApplicantDepartment", "a1"."ApplicantEmployeeNumber", "a1"."ApplicantName", "a1"."ApplicantPosition", "a1"."ApprovalType", "a1"."ApproverComment", "a1"."MisKey", "a1"."RequestContent", "a1"."RequestTitle", "a1"."RequestedAt", "a1"."RespondedAt", "a1"."Status", "a0"."StepId", "a0"."ActionDate", "a0"."ActionStatus", "a0"."ApprovalId", "a0"."ApproverEmployeeNumber", "a0"."Comment", "a0"."IsFinalApprover", "a0"."Sequence"
FROM (
    SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
    FROM "ApprovalRequests" AS "a"
    WHERE "a"."ApprovalId" = @__id_0
    LIMIT 2
) AS "a1"
LEFT JOIN "ApprovalSteps" AS "a0" ON "a1"."ApprovalId" = "a0"."ApprovalId"
ORDER BY "a1"."ApprovalId"
2025-06-02 09:09:38.486 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT "a1"."ApprovalId", "a1"."ApplicantDepartment", "a1"."ApplicantEmployeeNumber", "a1"."ApplicantName", "a1"."ApplicantPosition", "a1"."ApprovalType", "a1"."ApproverComment", "a1"."MisKey", "a1"."RequestContent", "a1"."RequestTitle", "a1"."RequestedAt", "a1"."RespondedAt", "a1"."Status", "a0"."StepId", "a0"."ActionDate", "a0"."ActionStatus", "a0"."ApprovalId", "a0"."ApproverEmployeeNumber", "a0"."Comment", "a0"."IsFinalApprover", "a0"."Sequence"
FROM (
    SELECT "a"."ApprovalId", "a"."ApplicantDepartment", "a"."ApplicantEmployeeNumber", "a"."ApplicantName", "a"."ApplicantPosition", "a"."ApprovalType", "a"."ApproverComment", "a"."MisKey", "a"."RequestContent", "a"."RequestTitle", "a"."RequestedAt", "a"."RespondedAt", "a"."Status"
    FROM "ApprovalRequests" AS "a"
    WHERE "a"."ApprovalId" = @__id_0
    LIMIT 2
) AS "a1"
LEFT JOIN "ApprovalSteps" AS "a0" ON "a1"."ApprovalId" = "a0"."ApprovalId"
ORDER BY "a1"."ApprovalId"
2025-06-02 09:09:38.486 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalRequest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 09:09:38.487 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalStep' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 09:09:38.487 +09:00 [DBG] Context 'ApprovalDbContext' started tracking 'ApprovalStep' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-06-02 09:09:38.487 +09:00 [DBG] Closing data reader to 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 09:09:38.487 +09:00 [DBG] A data reader for 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db' is being disposed after spending 1ms reading results.
2025-06-02 09:09:38.487 +09:00 [DBG] Closing connection to database 'main' on server '/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API/Data/ApprovalService.db'.
2025-06-02 09:09:38.487 +09:00 [DBG] Closed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 09:09:39.444 +09:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-06-02 09:09:39.444 +09:00 [DBG] No information found on request to perform content negotiation.
2025-06-02 09:09:39.444 +09:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-06-02 09:09:39.444 +09:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-06-02 09:09:39.444 +09:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-06-02 09:09:39.444 +09:00 [INF] Executing OkObjectResult, writing value of type 'ApprovalService.Domain.Entities.ApprovalRequest'.
2025-06-02 09:09:39.446 +09:00 [INF] Executed action ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API) in 3562.3962ms
2025-06-02 09:09:39.446 +09:00 [INF] Executed endpoint 'ApprovalService.API.Controllers.ApprovalRequestController.GetRequestById (ApprovalService.API)'
2025-06-02 09:09:39.446 +09:00 [DBG] Connection id "0HND1D3UBQ89C" completed keep alive response.
2025-06-02 09:09:39.446 +09:00 [DBG] 'ApprovalDbContext' disposed.
2025-06-02 09:09:39.446 +09:00 [DBG] Disposing connection to database 'main' on server 'Data/ApprovalService.db'.
2025-06-02 09:09:39.446 +09:00 [DBG] Disposed connection to database 'main' on server 'Data/ApprovalService.db' (0ms).
2025-06-02 09:09:39.469 +09:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/approvalrequest/31a2ffd5-4055-4c81-b4e3-3f4215b4bce4 - 200 null application/json; charset=utf-8 3579.897ms
2025-06-02 09:10:50.774 +09:00 [DBG] Connection id "0HND1D3UBQ89C" received FIN.
2025-06-02 09:10:50.840 +09:00 [DBG] Connection id "0HND1D3UBQ89C" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-06-02 09:10:50.843 +09:00 [DBG] Connection id "0HND1D3UBQ89C" disconnecting.
2025-06-02 09:10:50.874 +09:00 [DBG] Connection id "0HND1D3UBQ89C" stopped.
