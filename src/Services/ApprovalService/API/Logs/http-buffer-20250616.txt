{"Timestamp":"2025-06-16T07:53:15.3454090+09:00","Level":"Information","MessageTemplate":"Starting Approval Service API"}
{"Timestamp":"2025-06-16T07:53:15.8149210+09:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"13","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT COUNT(*) FROM \"sqlite_master\" WHERE \"type\" = 'table' AND \"rootpage\" IS NOT NULL;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-06-16T07:53:15.8215430+09:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT COUNT(*) FROM \"sqlite_master\" WHERE \"type\" = 'table' AND \"rootpage\" IS NOT NULL;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-06-16T07:53:15.9469430+09:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","Properties":{"elapsed":"1","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT EXISTS (\n    SELECT 1\n    FROM \"ApprovalRequests\" AS \"a\")","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}}
{"Timestamp":"2025-06-16T07:53:16.1885050+09:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"https://localhost:5001","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-06-16T07:53:16.1887380+09:00","Level":"Information","MessageTemplate":"Now listening on: {address}","Properties":{"address":"http://localhost:5229","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-06-16T07:53:16.1890510+09:00","Level":"Information","MessageTemplate":"Application started. Press Ctrl+C to shut down.","Properties":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-06-16T07:53:16.1892890+09:00","Level":"Information","MessageTemplate":"Hosting environment: {EnvName}","Properties":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-06-16T07:53:16.1893480+09:00","Level":"Information","MessageTemplate":"Content root path: {ContentRoot}","Properties":{"ContentRoot":"/Users/7ames7in/Documents/GitHub/New-Projects/NewApprovalSystem/src/Services/ApprovalService/API","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"Timestamp":"2025-06-16T07:53:31.5948660+09:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e196ea72be03b8fc5f4479f12a4062d3","SpanId":"748bd84352afa883","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:5001","PathBase":"","Path":"/api/approval/my-approvals/EC20505","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNDCBTPN9A8P:00000001","RequestPath":"/api/approval/my-approvals/EC20505","ConnectionId":"0HNDCBTPN9A8P"}}
{"Timestamp":"2025-06-16T07:53:31.6214940+09:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e196ea72be03b8fc5f4479f12a4062d3","SpanId":"748bd84352afa883","Properties":{"EndpointName":"ApprovalService.API.Controllers.ApprovalController.GetMyApprovals (ApprovalService.API)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNDCBTPN9A8P:00000001","RequestPath":"/api/approval/my-approvals/EC20505","ConnectionId":"0HNDCBTPN9A8P"}}
{"Timestamp":"2025-06-16T07:53:31.6301830+09:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e196ea72be03b8fc5f4479f12a4062d3","SpanId":"748bd84352afa883","Properties":{"RouteData":"{action = \"GetMyApprovals\", controller = \"Approval\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyApprovals(System.String)","Controller":"ApprovalService.API.Controllers.ApprovalController","AssemblyName":"ApprovalService.API","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"b0d25f43-4d15-41ff-af66-07c42718216c","ActionName":"ApprovalService.API.Controllers.ApprovalController.GetMyApprovals (ApprovalService.API)","RequestId":"0HNDCBTPN9A8P:00000001","RequestPath":"/api/approval/my-approvals/EC20505","ConnectionId":"0HNDCBTPN9A8P"}}
{"Timestamp":"2025-06-16T07:53:31.7414820+09:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e196ea72be03b8fc5f4479f12a4062d3","SpanId":"748bd84352afa883","Properties":{"elapsed":"3","parameters":"@__userId_0='?' (Size = 7)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT \"a\".\"ApprovalId\", \"a\".\"RequestTitle\", \"a\".\"RequestedAt\", \"a\".\"RespondedAt\", \"a\".\"ApplicantEmployeeNumber\", \"a\".\"ApplicantDepartment\", \"a\".\"ApplicantName\", \"a\".\"ApplicantPosition\", \"a\".\"Status\", \"a1\".\"StepId\", \"a1\".\"ActionDate\", \"a1\".\"ActionStatus\", \"a1\".\"ApprovalId\", \"a1\".\"ApproverEmployeeNumber\", \"a1\".\"ApproverName\", \"a1\".\"Comment\", \"a1\".\"Department\", \"a1\".\"IsFinalApprover\", \"a1\".\"Position\", \"a1\".\"Sequence\", \"a1\".\"StepType\", \"a\".\"CurrentStep\", (\n    SELECT \"a2\".\"ApproverName\"\n    FROM \"ApprovalSteps\" AS \"a2\"\n    WHERE \"a\".\"ApprovalId\" = \"a2\".\"ApprovalId\" AND \"a2\".\"Sequence\" = \"a\".\"CurrentStep\"\n    LIMIT 1), (\n    SELECT \"a3\".\"ApproverEmployeeNumber\"\n    FROM \"ApprovalSteps\" AS \"a3\"\n    WHERE \"a\".\"ApprovalId\" = \"a3\".\"ApprovalId\" AND \"a3\".\"Sequence\" = \"a\".\"CurrentStep\"\n    LIMIT 1), (\n    SELECT \"a4\".\"ActionStatus\"\n    FROM \"ApprovalSteps\" AS \"a4\"\n    WHERE \"a\".\"ApprovalId\" = \"a4\".\"ApprovalId\" AND \"a4\".\"Sequence\" = \"a\".\"CurrentStep\"\n    LIMIT 1)\nFROM \"ApprovalRequests\" AS \"a\"\nLEFT JOIN \"ApprovalSteps\" AS \"a1\" ON \"a\".\"ApprovalId\" = \"a1\".\"ApprovalId\"\nWHERE EXISTS (\n    SELECT 1\n    FROM \"ApprovalSteps\" AS \"a0\"\n    WHERE \"a\".\"ApprovalId\" = \"a0\".\"ApprovalId\" AND \"a0\".\"ApproverEmployeeNumber\" = @__userId_0)\nORDER BY \"a\".\"ApprovalId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b0d25f43-4d15-41ff-af66-07c42718216c","ActionName":"ApprovalService.API.Controllers.ApprovalController.GetMyApprovals (ApprovalService.API)","RequestId":"0HNDCBTPN9A8P:00000001","RequestPath":"/api/approval/my-approvals/EC20505","ConnectionId":"0HNDCBTPN9A8P"}}
{"Timestamp":"2025-06-16T07:53:31.7776530+09:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e196ea72be03b8fc5f4479f12a4062d3","SpanId":"748bd84352afa883","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[ApprovalService.Domain.Entities.ApprovalRequestWithCurrentStepDto, ApprovalService.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"b0d25f43-4d15-41ff-af66-07c42718216c","ActionName":"ApprovalService.API.Controllers.ApprovalController.GetMyApprovals (ApprovalService.API)","RequestId":"0HNDCBTPN9A8P:00000001","RequestPath":"/api/approval/my-approvals/EC20505","ConnectionId":"0HNDCBTPN9A8P"}}
{"Timestamp":"2025-06-16T07:53:31.8203760+09:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e196ea72be03b8fc5f4479f12a4062d3","SpanId":"748bd84352afa883","Properties":{"ActionName":"ApprovalService.API.Controllers.ApprovalController.GetMyApprovals (ApprovalService.API)","ElapsedMilliseconds":187.8552,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNDCBTPN9A8P:00000001","RequestPath":"/api/approval/my-approvals/EC20505","ConnectionId":"0HNDCBTPN9A8P"}}
{"Timestamp":"2025-06-16T07:53:31.8225790+09:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e196ea72be03b8fc5f4479f12a4062d3","SpanId":"748bd84352afa883","Properties":{"EndpointName":"ApprovalService.API.Controllers.ApprovalController.GetMyApprovals (ApprovalService.API)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNDCBTPN9A8P:00000001","RequestPath":"/api/approval/my-approvals/EC20505","ConnectionId":"0HNDCBTPN9A8P"}}
{"Timestamp":"2025-06-16T07:53:31.8254100+09:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e196ea72be03b8fc5f4479f12a4062d3","SpanId":"748bd84352afa883","Properties":{"ElapsedMilliseconds":231.8326,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"https","Host":"localhost:5001","PathBase":"","Path":"/api/approval/my-approvals/EC20505","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNDCBTPN9A8P:00000001","RequestPath":"/api/approval/my-approvals/EC20505","ConnectionId":"0HNDCBTPN9A8P"}}
{"Timestamp":"2025-06-16T07:54:11.7204520+09:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"e9ae78f6cfabb5d02fecc7327da6cbe5","SpanId":"868a947f3d6605cc","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:5001","PathBase":"","Path":"/api/approval/my-approvals/EC20505","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNDCBTPN9A8P:00000002","RequestPath":"/api/approval/my-approvals/EC20505","ConnectionId":"0HNDCBTPN9A8P"}}
{"Timestamp":"2025-06-16T07:54:11.7293980+09:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"e9ae78f6cfabb5d02fecc7327da6cbe5","SpanId":"868a947f3d6605cc","Properties":{"EndpointName":"ApprovalService.API.Controllers.ApprovalController.GetMyApprovals (ApprovalService.API)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNDCBTPN9A8P:00000002","RequestPath":"/api/approval/my-approvals/EC20505","ConnectionId":"0HNDCBTPN9A8P"}}
{"Timestamp":"2025-06-16T07:54:11.7301210+09:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"e9ae78f6cfabb5d02fecc7327da6cbe5","SpanId":"868a947f3d6605cc","Properties":{"RouteData":"{action = \"GetMyApprovals\", controller = \"Approval\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyApprovals(System.String)","Controller":"ApprovalService.API.Controllers.ApprovalController","AssemblyName":"ApprovalService.API","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"b0d25f43-4d15-41ff-af66-07c42718216c","ActionName":"ApprovalService.API.Controllers.ApprovalController.GetMyApprovals (ApprovalService.API)","RequestId":"0HNDCBTPN9A8P:00000002","RequestPath":"/api/approval/my-approvals/EC20505","ConnectionId":"0HNDCBTPN9A8P"}}
{"Timestamp":"2025-06-16T07:54:11.7778130+09:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"e9ae78f6cfabb5d02fecc7327da6cbe5","SpanId":"868a947f3d6605cc","Properties":{"elapsed":"1","parameters":"@__userId_0='?' (Size = 7)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT \"a\".\"ApprovalId\", \"a\".\"RequestTitle\", \"a\".\"RequestedAt\", \"a\".\"RespondedAt\", \"a\".\"ApplicantEmployeeNumber\", \"a\".\"ApplicantDepartment\", \"a\".\"ApplicantName\", \"a\".\"ApplicantPosition\", \"a\".\"Status\", \"a1\".\"StepId\", \"a1\".\"ActionDate\", \"a1\".\"ActionStatus\", \"a1\".\"ApprovalId\", \"a1\".\"ApproverEmployeeNumber\", \"a1\".\"ApproverName\", \"a1\".\"Comment\", \"a1\".\"Department\", \"a1\".\"IsFinalApprover\", \"a1\".\"Position\", \"a1\".\"Sequence\", \"a1\".\"StepType\", \"a\".\"CurrentStep\", (\n    SELECT \"a2\".\"ApproverName\"\n    FROM \"ApprovalSteps\" AS \"a2\"\n    WHERE \"a\".\"ApprovalId\" = \"a2\".\"ApprovalId\" AND \"a2\".\"Sequence\" = \"a\".\"CurrentStep\"\n    LIMIT 1), (\n    SELECT \"a3\".\"ApproverEmployeeNumber\"\n    FROM \"ApprovalSteps\" AS \"a3\"\n    WHERE \"a\".\"ApprovalId\" = \"a3\".\"ApprovalId\" AND \"a3\".\"Sequence\" = \"a\".\"CurrentStep\"\n    LIMIT 1), (\n    SELECT \"a4\".\"ActionStatus\"\n    FROM \"ApprovalSteps\" AS \"a4\"\n    WHERE \"a\".\"ApprovalId\" = \"a4\".\"ApprovalId\" AND \"a4\".\"Sequence\" = \"a\".\"CurrentStep\"\n    LIMIT 1)\nFROM \"ApprovalRequests\" AS \"a\"\nLEFT JOIN \"ApprovalSteps\" AS \"a1\" ON \"a\".\"ApprovalId\" = \"a1\".\"ApprovalId\"\nWHERE EXISTS (\n    SELECT 1\n    FROM \"ApprovalSteps\" AS \"a0\"\n    WHERE \"a\".\"ApprovalId\" = \"a0\".\"ApprovalId\" AND \"a0\".\"ApproverEmployeeNumber\" = @__userId_0)\nORDER BY \"a\".\"ApprovalId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b0d25f43-4d15-41ff-af66-07c42718216c","ActionName":"ApprovalService.API.Controllers.ApprovalController.GetMyApprovals (ApprovalService.API)","RequestId":"0HNDCBTPN9A8P:00000002","RequestPath":"/api/approval/my-approvals/EC20505","ConnectionId":"0HNDCBTPN9A8P"}}
{"Timestamp":"2025-06-16T07:54:11.7807860+09:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"e9ae78f6cfabb5d02fecc7327da6cbe5","SpanId":"868a947f3d6605cc","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[ApprovalService.Domain.Entities.ApprovalRequestWithCurrentStepDto, ApprovalService.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"b0d25f43-4d15-41ff-af66-07c42718216c","ActionName":"ApprovalService.API.Controllers.ApprovalController.GetMyApprovals (ApprovalService.API)","RequestId":"0HNDCBTPN9A8P:00000002","RequestPath":"/api/approval/my-approvals/EC20505","ConnectionId":"0HNDCBTPN9A8P"}}
{"Timestamp":"2025-06-16T07:54:11.7813790+09:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"e9ae78f6cfabb5d02fecc7327da6cbe5","SpanId":"868a947f3d6605cc","Properties":{"ActionName":"ApprovalService.API.Controllers.ApprovalController.GetMyApprovals (ApprovalService.API)","ElapsedMilliseconds":50.0528,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNDCBTPN9A8P:00000002","RequestPath":"/api/approval/my-approvals/EC20505","ConnectionId":"0HNDCBTPN9A8P"}}
{"Timestamp":"2025-06-16T07:54:11.7815090+09:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"e9ae78f6cfabb5d02fecc7327da6cbe5","SpanId":"868a947f3d6605cc","Properties":{"EndpointName":"ApprovalService.API.Controllers.ApprovalController.GetMyApprovals (ApprovalService.API)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNDCBTPN9A8P:00000002","RequestPath":"/api/approval/my-approvals/EC20505","ConnectionId":"0HNDCBTPN9A8P"}}
{"Timestamp":"2025-06-16T07:54:11.7822020+09:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"e9ae78f6cfabb5d02fecc7327da6cbe5","SpanId":"868a947f3d6605cc","Properties":{"ElapsedMilliseconds":62.1089,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"https","Host":"localhost:5001","PathBase":"","Path":"/api/approval/my-approvals/EC20505","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNDCBTPN9A8P:00000002","RequestPath":"/api/approval/my-approvals/EC20505","ConnectionId":"0HNDCBTPN9A8P"}}
{"Timestamp":"2025-06-16T07:55:22.6194500+09:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"0b4bee53fca852f89a5a9e087480c0e0","SpanId":"1eb901200addca55","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:5001","PathBase":"","Path":"/api/approval/my-approvals/EC20505","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNDCBTPN9A8Q:00000001","RequestPath":"/api/approval/my-approvals/EC20505","ConnectionId":"0HNDCBTPN9A8Q"}}
{"Timestamp":"2025-06-16T07:55:22.6218380+09:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"0b4bee53fca852f89a5a9e087480c0e0","SpanId":"1eb901200addca55","Properties":{"EndpointName":"ApprovalService.API.Controllers.ApprovalController.GetMyApprovals (ApprovalService.API)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNDCBTPN9A8Q:00000001","RequestPath":"/api/approval/my-approvals/EC20505","ConnectionId":"0HNDCBTPN9A8Q"}}
{"Timestamp":"2025-06-16T07:55:22.6223660+09:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"0b4bee53fca852f89a5a9e087480c0e0","SpanId":"1eb901200addca55","Properties":{"RouteData":"{action = \"GetMyApprovals\", controller = \"Approval\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyApprovals(System.String)","Controller":"ApprovalService.API.Controllers.ApprovalController","AssemblyName":"ApprovalService.API","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"b0d25f43-4d15-41ff-af66-07c42718216c","ActionName":"ApprovalService.API.Controllers.ApprovalController.GetMyApprovals (ApprovalService.API)","RequestId":"0HNDCBTPN9A8Q:00000001","RequestPath":"/api/approval/my-approvals/EC20505","ConnectionId":"0HNDCBTPN9A8Q"}}
{"Timestamp":"2025-06-16T07:55:22.6286940+09:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"0b4bee53fca852f89a5a9e087480c0e0","SpanId":"1eb901200addca55","Properties":{"elapsed":"0","parameters":"@__userId_0='?' (Size = 7)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT \"a\".\"ApprovalId\", \"a\".\"RequestTitle\", \"a\".\"RequestedAt\", \"a\".\"RespondedAt\", \"a\".\"ApplicantEmployeeNumber\", \"a\".\"ApplicantDepartment\", \"a\".\"ApplicantName\", \"a\".\"ApplicantPosition\", \"a\".\"Status\", \"a1\".\"StepId\", \"a1\".\"ActionDate\", \"a1\".\"ActionStatus\", \"a1\".\"ApprovalId\", \"a1\".\"ApproverEmployeeNumber\", \"a1\".\"ApproverName\", \"a1\".\"Comment\", \"a1\".\"Department\", \"a1\".\"IsFinalApprover\", \"a1\".\"Position\", \"a1\".\"Sequence\", \"a1\".\"StepType\", \"a\".\"CurrentStep\", (\n    SELECT \"a2\".\"ApproverName\"\n    FROM \"ApprovalSteps\" AS \"a2\"\n    WHERE \"a\".\"ApprovalId\" = \"a2\".\"ApprovalId\" AND \"a2\".\"Sequence\" = \"a\".\"CurrentStep\"\n    LIMIT 1), (\n    SELECT \"a3\".\"ApproverEmployeeNumber\"\n    FROM \"ApprovalSteps\" AS \"a3\"\n    WHERE \"a\".\"ApprovalId\" = \"a3\".\"ApprovalId\" AND \"a3\".\"Sequence\" = \"a\".\"CurrentStep\"\n    LIMIT 1), (\n    SELECT \"a4\".\"ActionStatus\"\n    FROM \"ApprovalSteps\" AS \"a4\"\n    WHERE \"a\".\"ApprovalId\" = \"a4\".\"ApprovalId\" AND \"a4\".\"Sequence\" = \"a\".\"CurrentStep\"\n    LIMIT 1)\nFROM \"ApprovalRequests\" AS \"a\"\nLEFT JOIN \"ApprovalSteps\" AS \"a1\" ON \"a\".\"ApprovalId\" = \"a1\".\"ApprovalId\"\nWHERE EXISTS (\n    SELECT 1\n    FROM \"ApprovalSteps\" AS \"a0\"\n    WHERE \"a\".\"ApprovalId\" = \"a0\".\"ApprovalId\" AND \"a0\".\"ApproverEmployeeNumber\" = @__userId_0)\nORDER BY \"a\".\"ApprovalId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b0d25f43-4d15-41ff-af66-07c42718216c","ActionName":"ApprovalService.API.Controllers.ApprovalController.GetMyApprovals (ApprovalService.API)","RequestId":"0HNDCBTPN9A8Q:00000001","RequestPath":"/api/approval/my-approvals/EC20505","ConnectionId":"0HNDCBTPN9A8Q"}}
{"Timestamp":"2025-06-16T07:55:22.6303060+09:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"0b4bee53fca852f89a5a9e087480c0e0","SpanId":"1eb901200addca55","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[ApprovalService.Domain.Entities.ApprovalRequestWithCurrentStepDto, ApprovalService.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"b0d25f43-4d15-41ff-af66-07c42718216c","ActionName":"ApprovalService.API.Controllers.ApprovalController.GetMyApprovals (ApprovalService.API)","RequestId":"0HNDCBTPN9A8Q:00000001","RequestPath":"/api/approval/my-approvals/EC20505","ConnectionId":"0HNDCBTPN9A8Q"}}
{"Timestamp":"2025-06-16T07:55:22.6313610+09:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"0b4bee53fca852f89a5a9e087480c0e0","SpanId":"1eb901200addca55","Properties":{"ActionName":"ApprovalService.API.Controllers.ApprovalController.GetMyApprovals (ApprovalService.API)","ElapsedMilliseconds":8.2993,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNDCBTPN9A8Q:00000001","RequestPath":"/api/approval/my-approvals/EC20505","ConnectionId":"0HNDCBTPN9A8Q"}}
{"Timestamp":"2025-06-16T07:55:22.6339580+09:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"0b4bee53fca852f89a5a9e087480c0e0","SpanId":"1eb901200addca55","Properties":{"EndpointName":"ApprovalService.API.Controllers.ApprovalController.GetMyApprovals (ApprovalService.API)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNDCBTPN9A8Q:00000001","RequestPath":"/api/approval/my-approvals/EC20505","ConnectionId":"0HNDCBTPN9A8Q"}}
{"Timestamp":"2025-06-16T07:55:22.6349560+09:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"0b4bee53fca852f89a5a9e087480c0e0","SpanId":"1eb901200addca55","Properties":{"ElapsedMilliseconds":15.5275,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"https","Host":"localhost:5001","PathBase":"","Path":"/api/approval/my-approvals/EC20505","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNDCBTPN9A8Q:00000001","RequestPath":"/api/approval/my-approvals/EC20505","ConnectionId":"0HNDCBTPN9A8Q"}}
{"Timestamp":"2025-06-16T07:56:05.8195920+09:00","Level":"Information","MessageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","TraceId":"d5834f0895348371c2ca2fc481b7e94d","SpanId":"1a244c012b40189a","Properties":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:5001","PathBase":"","Path":"/api/approvalrequest/my-requests/EC20505","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNDCBTPN9A8R:00000001","RequestPath":"/api/approvalrequest/my-requests/EC20505","ConnectionId":"0HNDCBTPN9A8R"}}
{"Timestamp":"2025-06-16T07:56:05.8225710+09:00","Level":"Information","MessageTemplate":"Executing endpoint '{EndpointName}'","TraceId":"d5834f0895348371c2ca2fc481b7e94d","SpanId":"1a244c012b40189a","Properties":{"EndpointName":"ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNDCBTPN9A8R:00000001","RequestPath":"/api/approvalrequest/my-requests/EC20505","ConnectionId":"0HNDCBTPN9A8R"}}
{"Timestamp":"2025-06-16T07:56:05.8284610+09:00","Level":"Information","MessageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","TraceId":"d5834f0895348371c2ca2fc481b7e94d","SpanId":"1a244c012b40189a","Properties":{"RouteData":"{action = \"GetMyRequests\", controller = \"ApprovalRequest\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyRequests(System.String)","Controller":"ApprovalService.API.Controllers.ApprovalRequestController","AssemblyName":"ApprovalService.API","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"e1c065aa-9698-4026-aa70-1072be40d563","ActionName":"ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)","RequestId":"0HNDCBTPN9A8R:00000001","RequestPath":"/api/approvalrequest/my-requests/EC20505","ConnectionId":"0HNDCBTPN9A8R"}}
{"Timestamp":"2025-06-16T07:56:05.8455030+09:00","Level":"Warning","MessageTemplate":"Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.","TraceId":"d5834f0895348371c2ca2fc481b7e94d","SpanId":"1a244c012b40189a","Properties":{"EventId":{"Id":20504,"Name":"Microsoft.EntityFrameworkCore.Query.MultipleCollectionIncludeWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"e1c065aa-9698-4026-aa70-1072be40d563","ActionName":"ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)","RequestId":"0HNDCBTPN9A8R:00000001","RequestPath":"/api/approvalrequest/my-requests/EC20505","ConnectionId":"0HNDCBTPN9A8R"}}
{"Timestamp":"2025-06-16T07:56:05.8622960+09:00","Level":"Information","MessageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","TraceId":"d5834f0895348371c2ca2fc481b7e94d","SpanId":"1a244c012b40189a","Properties":{"elapsed":"2","parameters":"@__userId_0='?' (Size = 7)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT \"a\".\"ApprovalId\", \"a\".\"RequestTitle\", \"a\".\"RequestedAt\", \"a\".\"RespondedAt\", \"a\".\"ApplicantEmployeeNumber\", \"a\".\"ApplicantName\", \"a\".\"ApplicantDepartment\", \"a\".\"ApplicantPosition\", \"a0\".\"StepId\", \"a0\".\"ActionDate\", \"a0\".\"ActionStatus\", \"a0\".\"ApprovalId\", \"a0\".\"ApproverEmployeeNumber\", \"a0\".\"ApproverName\", \"a0\".\"Comment\", \"a0\".\"Department\", \"a0\".\"IsFinalApprover\", \"a0\".\"Position\", \"a0\".\"Sequence\", \"a0\".\"StepType\", \"a1\".\"AttachmentId\", \"a1\".\"ApprovalId\", \"a1\".\"FileName\", \"a1\".\"FilePath\", \"a1\".\"FileSize\", \"a1\".\"FileType\", \"a1\".\"UploadedAt\", \"a1\".\"UploadedByEmployeeNumber\", \"a\".\"Status\", \"a\".\"CurrentStep\", (\n    SELECT \"a2\".\"ApproverName\"\n    FROM \"ApprovalSteps\" AS \"a2\"\n    WHERE \"a\".\"ApprovalId\" = \"a2\".\"ApprovalId\" AND \"a2\".\"Sequence\" = \"a\".\"CurrentStep\"\n    LIMIT 1), (\n    SELECT \"a3\".\"ApproverEmployeeNumber\"\n    FROM \"ApprovalSteps\" AS \"a3\"\n    WHERE \"a\".\"ApprovalId\" = \"a3\".\"ApprovalId\" AND \"a3\".\"Sequence\" = \"a\".\"CurrentStep\"\n    LIMIT 1), (\n    SELECT \"a4\".\"ActionStatus\"\n    FROM \"ApprovalSteps\" AS \"a4\"\n    WHERE \"a\".\"ApprovalId\" = \"a4\".\"ApprovalId\" AND \"a4\".\"Sequence\" = \"a\".\"CurrentStep\"\n    LIMIT 1)\nFROM \"ApprovalRequests\" AS \"a\"\nLEFT JOIN \"ApprovalSteps\" AS \"a0\" ON \"a\".\"ApprovalId\" = \"a0\".\"ApprovalId\"\nLEFT JOIN \"ApprovalAttachments\" AS \"a1\" ON \"a\".\"ApprovalId\" = \"a1\".\"ApprovalId\"\nWHERE \"a\".\"ApplicantEmployeeNumber\" = @__userId_0\nORDER BY \"a\".\"RequestedAt\" DESC, \"a\".\"ApprovalId\", \"a0\".\"StepId\"","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"e1c065aa-9698-4026-aa70-1072be40d563","ActionName":"ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)","RequestId":"0HNDCBTPN9A8R:00000001","RequestPath":"/api/approvalrequest/my-requests/EC20505","ConnectionId":"0HNDCBTPN9A8R"}}
{"Timestamp":"2025-06-16T07:56:05.8765860+09:00","Level":"Information","MessageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","TraceId":"d5834f0895348371c2ca2fc481b7e94d","SpanId":"1a244c012b40189a","Properties":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[ApprovalService.Domain.Entities.ApprovalRequestWithCurrentStepDto, ApprovalService.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"e1c065aa-9698-4026-aa70-1072be40d563","ActionName":"ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)","RequestId":"0HNDCBTPN9A8R:00000001","RequestPath":"/api/approvalrequest/my-requests/EC20505","ConnectionId":"0HNDCBTPN9A8R"}}
{"Timestamp":"2025-06-16T07:56:05.8797500+09:00","Level":"Information","MessageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","TraceId":"d5834f0895348371c2ca2fc481b7e94d","SpanId":"1a244c012b40189a","Properties":{"ActionName":"ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)","ElapsedMilliseconds":50.1748,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HNDCBTPN9A8R:00000001","RequestPath":"/api/approvalrequest/my-requests/EC20505","ConnectionId":"0HNDCBTPN9A8R"}}
{"Timestamp":"2025-06-16T07:56:05.8799450+09:00","Level":"Information","MessageTemplate":"Executed endpoint '{EndpointName}'","TraceId":"d5834f0895348371c2ca2fc481b7e94d","SpanId":"1a244c012b40189a","Properties":{"EndpointName":"ApprovalService.API.Controllers.ApprovalRequestController.GetMyRequests (ApprovalService.API)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HNDCBTPN9A8R:00000001","RequestPath":"/api/approvalrequest/my-requests/EC20505","ConnectionId":"0HNDCBTPN9A8R"}}
{"Timestamp":"2025-06-16T07:56:05.8804610+09:00","Level":"Information","MessageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","TraceId":"d5834f0895348371c2ca2fc481b7e94d","SpanId":"1a244c012b40189a","Properties":{"ElapsedMilliseconds":60.9193,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"https","Host":"localhost:5001","PathBase":"","Path":"/api/approvalrequest/my-requests/EC20505","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HNDCBTPN9A8R:00000001","RequestPath":"/api/approvalrequest/my-requests/EC20505","ConnectionId":"0HNDCBTPN9A8R"}}
